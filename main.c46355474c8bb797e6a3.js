(self.webpackChunkfinance_manage=self.webpackChunkfinance_manage||[]).push([[179],{8255:t=>{function e(t){return Promise.resolve().then(()=>{var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}e.keys=()=>[],e.resolve=e,e.id=8255,t.exports=e},9713:(t,e,n)=>{"use strict";n.d(e,{l3:()=>s,_j:()=>i,LC:()=>r,ZN:()=>m,jt:()=>a,pV:()=>d,IO:()=>p,vP:()=>l,SB:()=>u,oB:()=>c,eR:()=>h,X$:()=>o,ZE:()=>g,k1:()=>_});class i{}class r{}const s="*";function o(t,e){return{type:7,name:t,definitions:e,options:{}}}function a(t,e=null){return{type:4,styles:e,timings:t}}function l(t,e=null){return{type:2,steps:t,options:e}}function c(t){return{type:6,styles:t,offset:null}}function u(t,e,n){return{type:0,name:t,styles:e,options:n}}function h(t,e,n=null){return{type:1,expr:t,animation:e,options:n}}function d(t=null){return{type:9,options:t}}function p(t,e,n=null){return{type:11,selector:t,animation:e,options:n}}function f(t){Promise.resolve(null).then(t)}class m{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){f(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class g{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,n=0,i=0;const r=this.players.length;0==r?f(()=>this._onFinish()):this.players.forEach(t=>{t.onDone(()=>{++e==r&&this._onFinish()}),t.onDestroy(()=>{++n==r&&this._onDestroy()}),t.onStart(()=>{++i==r&&this._onStart()})}),this.totalTime=this.players.reduce((t,e)=>Math.max(t,e.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(t=>{const n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)})}getPosition(){const t=this.players.reduce((t,e)=>null===t||e.totalTime>t.totalTime?e:t,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}const _="!"},7388:(t,e,n)=>{"use strict";n.d(e,{rt:()=>$,s1:()=>C,kH:()=>j,Em:()=>E,tE:()=>U,qV:()=>I,qm:()=>G,Kd:()=>M,X6:()=>A,yG:()=>D});var i=n(1116),r=n(5366),s=n(5959),o=n(7570),a=n(8512),l=n(878),c=n(9235),u=n(6599),h=n(7701),d=n(3835),p=n(9996),f=n(611),m=n(4698),g=n(8720),_=n(5416),y=n(9861),v=n(3169),b=n(7853);class w{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new s.xQ,this._typeaheadSubscription=o.w.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=t=>t.disabled,this._pressedLetters=[],this.tabOut=new s.xQ,this.change=new s.xQ,t instanceof r.n_E&&t.changes.subscribe(t=>{if(this._activeItem){const e=t.toArray().indexOf(this._activeItem);e>-1&&e!==this._activeItemIndex&&(this._activeItemIndex=e)}})}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,u.b)(t=>this._pressedLetters.push(t)),(0,h.b)(t),(0,d.h)(()=>this._pressedLetters.length>0),(0,p.U)(()=>this._pressedLetters.join(""))).subscribe(t=>{const e=this._getItemsArray();for(let n=1;n<e.length+1;n++){const i=(this._activeItemIndex+n)%e.length,r=e[i];if(!this._skipPredicateFn(r)&&0===r.getLabel().toUpperCase().trim().indexOf(t)){this.setActiveItem(i);break}}this._pressedLetters=[]}),this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}setActiveItem(t){const e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,n=["altKey","ctrlKey","metaKey","shiftKey"].every(e=>!t[e]||this._allowedModifierKeys.indexOf(e)>-1);switch(e){case c.Mf:return void this.tabOut.next();case c.JH:if(this._vertical&&n){this.setNextItemActive();break}return;case c.LH:if(this._vertical&&n){this.setPreviousItemActive();break}return;case c.SV:if(this._horizontal&&n){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case c.oh:if(this._horizontal&&n){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case c.Sd:if(this._homeAndEnd&&n){this.setFirstItemActive();break}return;case c.uR:if(this._homeAndEnd&&n){this.setLastItemActive();break}return;default:return void((n||(0,c.Vb)(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=c.A&&e<=c.Z||e>=c.xE&&e<=c.aO)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),n="number"==typeof t?t:e.indexOf(t),i=e[n];this._activeItem=null==i?null:i,this._activeItemIndex=n}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let n=1;n<=e.length;n++){const i=(this._activeItemIndex+t*n+e.length)%e.length;if(!this._skipPredicateFn(e[i]))return void this.setActiveItem(i)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const n=this._getItemsArray();if(n[t]){for(;this._skipPredicateFn(n[t]);)if(!n[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof r.n_E?this._items.toArray():this._items}}class C extends w{setActiveItem(t){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(t),this.activeItem&&this.activeItem.setActiveStyles()}}class E extends w{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(t){return this._origin=t,this}setActiveItem(t){super.setActiveItem(t),this.activeItem&&this.activeItem.focus(this._origin)}}let S=(()=>{class t{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function(t){return!!(t.offsetWidth||t.offsetHeight||"function"==typeof t.getClientRects&&t.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const e=function(t){try{return t.frameElement}catch(e){return null}}((n=t).ownerDocument&&n.ownerDocument.defaultView||window);var n;if(e){if(-1===k(e))return!1;if(!this.isVisible(e))return!1}let i=t.nodeName.toLowerCase(),r=k(t);return t.hasAttribute("contenteditable")?-1!==r:"iframe"!==i&&"object"!==i&&!(this._platform.WEBKIT&&this._platform.IOS&&!function(t){let e=t.nodeName.toLowerCase(),n="input"===e&&t.type;return"text"===n||"password"===n||"select"===e||"textarea"===e}(t))&&("audio"===i?!!t.hasAttribute("controls")&&-1!==r:"video"===i?-1!==r&&(null!==r||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,e){return function(t){return!function(t){return function(t){return"input"==t.nodeName.toLowerCase()}(t)&&"hidden"==t.type}(t)&&(function(t){let e=t.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(t)||function(t){return function(t){return"a"==t.nodeName.toLowerCase()}(t)&&t.hasAttribute("href")}(t)||t.hasAttribute("contenteditable")||x(t))}(t)&&!this.isDisabled(t)&&((null==e?void 0:e.ignoreVisibility)||this.isVisible(t))}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(v.t4))},t.\u0275prov=r.Yz7({factory:function(){return new t(r.LFG(v.t4))},token:t,providedIn:"root"}),t})();function x(t){if(!t.hasAttribute("tabindex")||void 0===t.tabIndex)return!1;let e=t.getAttribute("tabindex");return"-32768"!=e&&!(!e||isNaN(parseInt(e,10)))}function k(t){if(!x(t))return null;const e=parseInt(t.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class T{constructor(t,e,n,i,r=!1){this._element=t,this._checker=e,this._ngZone=n,this._document=i,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,r||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.parentNode&&t.parentNode.removeChild(t)),e&&(e.removeEventListener("focus",this.endAnchorListener),e.parentNode&&e.parentNode.removeChild(e)),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){let e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);for(let n=0;n<e.length;n++)e[n].hasAttribute(`cdk-focus-${t}`)?console.warn(`Found use of deprecated attribute 'cdk-focus-${t}', use 'cdkFocusRegion${t}' instead. The deprecated attribute will be removed in 8.0.0.`,e[n]):e[n].hasAttribute(`cdk-focus-region-${t}`)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${t}', use 'cdkFocusRegion${t}' instead. The deprecated attribute will be removed in 8.0.0.`,e[n]);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(e.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",e),!this._checker.isFocusable(e)){const n=this._getFirstTabbableElement(e);return null==n||n.focus(t),!!n}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let n=0;n<e.length;n++){let t=e[n].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[n]):null;if(t)return t}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let n=e.length-1;n>=0;n--){let t=e[n].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[n]):null;if(t)return t}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe((0,f.q)(1)).subscribe(t)}}let I=(()=>{class t{constructor(t,e,n){this._checker=t,this._ngZone=e,this._document=n}create(t,e=!1){return new T(t,this._checker,this._ngZone,this._document,e)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(S),r.LFG(r.R0b),r.LFG(i.K0))},t.\u0275prov=r.Yz7({factory:function(){return new t(r.LFG(S),r.LFG(r.R0b),r.LFG(i.K0))},token:t,providedIn:"root"}),t})();function A(t){return 0===t.offsetX&&0===t.offsetY}function D(t){const e=t.touches&&t.touches[0]||t.changedTouches&&t.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}"undefined"!=typeof Element&&Element;const R=new r.OlP("cdk-input-modality-detector-options"),O={ignoreKeys:[c.zL,c.jx,c.b2,c.MW,c.JU]},P=(0,v.i$)({passive:!0,capture:!0});let N=(()=>{class t{constructor(t,e,n,i){this._platform=t,this._mostRecentTarget=null,this._modality=new a.X(null),this._lastTouchMs=0,this._onKeydown=t=>{var e,n;(null===(n=null===(e=this._options)||void 0===e?void 0:e.ignoreKeys)||void 0===n?void 0:n.some(e=>e===t.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=(0,v.sA)(t))},this._onMousedown=t=>{Date.now()-this._lastTouchMs<650||(this._modality.next(A(t)?"keyboard":"mouse"),this._mostRecentTarget=(0,v.sA)(t))},this._onTouchstart=t=>{D(t)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=(0,v.sA)(t))},this._options=Object.assign(Object.assign({},O),i),this.modalityDetected=this._modality.pipe((0,m.T)(1)),this.modalityChanged=this.modalityDetected.pipe((0,g.x)()),t.isBrowser&&e.runOutsideAngular(()=>{n.addEventListener("keydown",this._onKeydown,P),n.addEventListener("mousedown",this._onMousedown,P),n.addEventListener("touchstart",this._onTouchstart,P)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,P),document.removeEventListener("mousedown",this._onMousedown,P),document.removeEventListener("touchstart",this._onTouchstart,P))}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(v.t4),r.LFG(r.R0b),r.LFG(i.K0),r.LFG(R,8))},t.\u0275prov=r.Yz7({factory:function(){return new t(r.LFG(v.t4),r.LFG(r.R0b),r.LFG(i.K0),r.LFG(R,8))},token:t,providedIn:"root"}),t})();const F=new r.OlP("liveAnnouncerElement",{providedIn:"root",factory:function(){return null}}),L=new r.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let M=(()=>{class t{constructor(t,e,n,i){this._ngZone=e,this._defaultOptions=i,this._document=n,this._liveElement=t||this._createLiveElement()}announce(t,...e){const n=this._defaultOptions;let i,r;return 1===e.length&&"number"==typeof e[0]?r=e[0]:[i,r]=e,this.clear(),clearTimeout(this._previousTimeout),i||(i=n&&n.politeness?n.politeness:"polite"),null==r&&n&&(r=n.duration),this._liveElement.setAttribute("aria-live",i),this._ngZone.runOutsideAngular(()=>new Promise(e=>{clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=t,e(),"number"==typeof r&&(this._previousTimeout=setTimeout(()=>this.clear(),r))},100)}))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement&&this._liveElement.parentNode&&(this._liveElement.parentNode.removeChild(this._liveElement),this._liveElement=null)}_createLiveElement(){const t="cdk-live-announcer-element",e=this._document.getElementsByClassName(t),n=this._document.createElement("div");for(let i=0;i<e.length;i++)e[i].parentNode.removeChild(e[i]);return n.classList.add(t),n.classList.add("cdk-visually-hidden"),n.setAttribute("aria-atomic","true"),n.setAttribute("aria-live","polite"),this._document.body.appendChild(n),n}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(F,8),r.LFG(r.R0b),r.LFG(i.K0),r.LFG(L,8))},t.\u0275prov=r.Yz7({factory:function(){return new t(r.LFG(F,8),r.LFG(r.R0b),r.LFG(i.K0),r.LFG(L,8))},token:t,providedIn:"root"}),t})();const B=new r.OlP("cdk-focus-monitor-default-options"),V=(0,v.i$)({passive:!0,capture:!0});let U=(()=>{class t{constructor(t,e,n,i,r){this._ngZone=t,this._platform=e,this._inputModalityDetector=n,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new s.xQ,this._rootNodeFocusAndBlurListener=t=>{const e=(0,v.sA)(t),n="focus"===t.type?this._onFocus:this._onBlur;for(let i=e;i;i=i.parentElement)n.call(this,t,i)},this._document=i,this._detectionMode=(null==r?void 0:r.detectionMode)||0}monitor(t,e=!1){const n=(0,y.fI)(t);if(!this._platform.isBrowser||1!==n.nodeType)return(0,l.of)(null);const i=(0,v.kV)(n)||this._getDocument(),r=this._elementInfo.get(n);if(r)return e&&(r.checkChildren=!0),r.subject;const o={checkChildren:e,subject:new s.xQ,rootNode:i};return this._elementInfo.set(n,o),this._registerGlobalListeners(o),o.subject}stopMonitoring(t){const e=(0,y.fI)(t),n=this._elementInfo.get(e);n&&(n.subject.complete(),this._setClasses(e),this._elementInfo.delete(e),this._removeGlobalListeners(n))}focusVia(t,e,n){const i=(0,y.fI)(t);i===this._getDocument().activeElement?this._getClosestElementsInfo(i).forEach(([t,n])=>this._originChanged(t,e,n)):(this._setOrigin(e),"function"==typeof i.focus&&i.focus(n))}ngOnDestroy(){this._elementInfo.forEach((t,e)=>this.stopMonitoring(e))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_toggleClass(t,e,n){n?t.classList.add(e):t.classList.remove(e)}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!(null==t?void 0:t.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(t,e){this._toggleClass(t,"cdk-focused",!!e),this._toggleClass(t,"cdk-touch-focused","touch"===e),this._toggleClass(t,"cdk-keyboard-focused","keyboard"===e),this._toggleClass(t,"cdk-mouse-focused","mouse"===e),this._toggleClass(t,"cdk-program-focused","program"===e)}_setOrigin(t,e=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&e,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,e){const n=this._elementInfo.get(e),i=(0,v.sA)(t);n&&(n.checkChildren||e===i)&&this._originChanged(e,this._getFocusOrigin(i),n)}_onBlur(t,e){const n=this._elementInfo.get(e);!n||n.checkChildren&&t.relatedTarget instanceof Node&&e.contains(t.relatedTarget)||(this._setClasses(e),this._emitOrigin(n.subject,null))}_emitOrigin(t,e){this._ngZone.run(()=>t.next(e))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const e=t.rootNode,n=this._rootNodeFocusListenerCount.get(e)||0;n||this._ngZone.runOutsideAngular(()=>{e.addEventListener("focus",this._rootNodeFocusAndBlurListener,V),e.addEventListener("blur",this._rootNodeFocusAndBlurListener,V)}),this._rootNodeFocusListenerCount.set(e,n+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe((0,_.R)(this._stopInputModalityDetector)).subscribe(t=>{this._setOrigin(t,!0)}))}_removeGlobalListeners(t){const e=t.rootNode;if(this._rootNodeFocusListenerCount.has(e)){const t=this._rootNodeFocusListenerCount.get(e);t>1?this._rootNodeFocusListenerCount.set(e,t-1):(e.removeEventListener("focus",this._rootNodeFocusAndBlurListener,V),e.removeEventListener("blur",this._rootNodeFocusAndBlurListener,V),this._rootNodeFocusListenerCount.delete(e))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,e,n){this._setClasses(t,e),this._emitOrigin(n.subject,e),this._lastFocusOrigin=e}_getClosestElementsInfo(t){const e=[];return this._elementInfo.forEach((n,i)=>{(i===t||n.checkChildren&&i.contains(t))&&e.push([i,n])}),e}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(r.R0b),r.LFG(v.t4),r.LFG(N),r.LFG(i.K0,8),r.LFG(B,8))},t.\u0275prov=r.Yz7({factory:function(){return new t(r.LFG(r.R0b),r.LFG(v.t4),r.LFG(N),r.LFG(i.K0,8),r.LFG(B,8))},token:t,providedIn:"root"}),t})(),j=(()=>{class t{constructor(t,e){this._elementRef=t,this._focusMonitor=e,this.cdkFocusChange=new r.vpe}ngAfterViewInit(){const t=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(t,1===t.nodeType&&t.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(t=>this.cdkFocusChange.emit(t))}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.SBq),r.Y36(U))},t.\u0275dir=r.lG2({type:t,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"}}),t})();const q="cdk-high-contrast-black-on-white",z="cdk-high-contrast-white-on-black",H="cdk-high-contrast-active";let G=(()=>{class t{constructor(t,e){this._platform=t,this._document=e}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const e=this._document.defaultView||window,n=e&&e.getComputedStyle?e.getComputedStyle(t):null,i=(n&&n.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(t),i){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(H),t.remove(q),t.remove(z),this._hasCheckedHighContrastMode=!0;const e=this.getHighContrastMode();1===e?(t.add(H),t.add(q)):2===e&&(t.add(H),t.add(z))}}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(v.t4),r.LFG(i.K0))},t.\u0275prov=r.Yz7({factory:function(){return new t(r.LFG(v.t4),r.LFG(i.K0))},token:t,providedIn:"root"}),t})(),$=(()=>{class t{constructor(t){t._applyBodyHighContrastModeCssClasses()}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(G))},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[v.ud,b.Q8]]}),t})()},4720:(t,e,n)=>{"use strict";n.d(e,{vT:()=>a,Is:()=>o});var i=n(5366),r=n(1116);const s=new i.OlP("cdk-dir-doc",{providedIn:"root",factory:function(){return(0,i.f3M)(r.K0)}});let o=(()=>{class t{constructor(t){if(this.value="ltr",this.change=new i.vpe,t){const e=t.documentElement?t.documentElement.dir:null,n=(t.body?t.body.dir:null)||e;this.value="ltr"===n||"rtl"===n?n:"ltr"}}ngOnDestroy(){this.change.complete()}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(s,8))},t.\u0275prov=i.Yz7({factory:function(){return new t(i.LFG(s,8))},token:t,providedIn:"root"}),t})(),a=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({}),t})()},8378:(t,e,n)=>{"use strict";n.d(e,{P3:()=>l,Ov:()=>u,A8:()=>h,eX:()=>c,k:()=>d,Z9:()=>a});var i=n(4710),r=n(878),s=n(5959),o=n(5366);function a(t){return t&&"function"==typeof t.connect}class l extends class{}{constructor(t){super(),this._data=t}connect(){return(0,i.b)(this._data)?this._data:(0,r.of)(this._data)}disconnect(){}}class c{constructor(){this.viewCacheSize=20,this._viewCache=[]}applyChanges(t,e,n,i,r){t.forEachOperation((t,s,o)=>{let a,l;null==t.previousIndex?(a=this._insertView(()=>n(t,s,o),o,e,i(t)),l=a?1:0):null==o?(this._detachAndCacheView(s,e),l=3):(a=this._moveView(s,o,e,i(t)),l=2),r&&r({context:null==a?void 0:a.context,operation:l,record:t})})}detach(){for(const t of this._viewCache)t.destroy();this._viewCache=[]}_insertView(t,e,n,i){const r=this._insertViewFromCache(e,n);if(r)return void(r.context.$implicit=i);const s=t();return n.createEmbeddedView(s.templateRef,s.context,s.index)}_detachAndCacheView(t,e){const n=e.detach(t);this._maybeCacheView(n,e)}_moveView(t,e,n,i){const r=n.get(t);return n.move(r,e),r.context.$implicit=i,r}_maybeCacheView(t,e){if(this._viewCache.length<this.viewCacheSize)this._viewCache.push(t);else{const n=e.indexOf(t);-1===n?t.destroy():e.remove(n)}}_insertViewFromCache(t,e){const n=this._viewCache.pop();return n&&e.insert(n,t),n||null}}class u{constructor(t=!1,e,n=!0){this._multiple=t,this._emitChanges=n,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new s.xQ,e&&e.length&&(t?e.forEach(t=>this._markSelected(t)):this._markSelected(e[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...t){this._verifyValueAssignment(t),t.forEach(t=>this._markSelected(t)),this._emitChangeEvent()}deselect(...t){this._verifyValueAssignment(t),t.forEach(t=>this._unmarkSelected(t)),this._emitChangeEvent()}toggle(t){this.isSelected(t)?this.deselect(t):this.select(t)}clear(){this._unmarkAll(),this._emitChangeEvent()}isSelected(t){return this._selection.has(t)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(t){this._multiple&&this.selected&&this._selected.sort(t)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(t){this.isSelected(t)||(this._multiple||this._unmarkAll(),this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}_unmarkSelected(t){this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}_unmarkAll(){this.isEmpty()||this._selection.forEach(t=>this._unmarkSelected(t))}_verifyValueAssignment(t){}}let h=(()=>{class t{constructor(){this._listeners=[]}notify(t,e){for(let n of this._listeners)n(t,e)}listen(t){return this._listeners.push(t),()=>{this._listeners=this._listeners.filter(e=>t!==e)}}ngOnDestroy(){this._listeners=[]}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=o.Yz7({factory:function(){return new t},token:t,providedIn:"root"}),t})();const d=new o.OlP("_ViewRepeater")},9235:(t,e,n)=>{"use strict";n.d(e,{A:()=>y,zL:()=>a,jx:()=>o,JH:()=>m,uR:()=>u,K5:()=>r,hY:()=>l,Sd:()=>h,oh:()=>d,b2:()=>w,MW:()=>b,aO:()=>_,SV:()=>f,JU:()=>s,L_:()=>c,Mf:()=>i,LH:()=>p,Z:()=>v,xE:()=>g,Vb:()=>C});const i=9,r=13,s=16,o=17,a=18,l=27,c=32,u=35,h=36,d=37,p=38,f=39,m=40,g=48,_=57,y=65,v=90,b=91,w=224;function C(t,...e){return e.length?e.some(e=>t[e]):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}},4546:(t,e,n)=>{"use strict";n.d(e,{Yg:()=>b,u3:()=>C});var i=n(5366),r=n(9861),s=n(5959),o=n(1305),a=n(7930),l=n(8318),c=n(611),u=n(4698),h=n(7701),d=n(9996),p=n(6238),f=n(5416),m=n(3169);const g=new Set;let _,y=(()=>{class t{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):v}matchMedia(t){return this._platform.WEBKIT&&function(t){if(!g.has(t))try{_||(_=document.createElement("style"),_.setAttribute("type","text/css"),document.head.appendChild(_)),_.sheet&&(_.sheet.insertRule(`@media ${t} {.fx-query-test{ }}`,0),g.add(t))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(m.t4))},t.\u0275prov=i.Yz7({factory:function(){return new t(i.LFG(m.t4))},token:t,providedIn:"root"}),t})();function v(t){return{matches:"all"===t||""===t,media:t,addListener:()=>{},removeListener:()=>{}}}let b=(()=>{class t{constructor(t,e){this._mediaMatcher=t,this._zone=e,this._queries=new Map,this._destroySubject=new s.xQ}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return w((0,r.Eq)(t)).some(t=>this._registerQuery(t).mql.matches)}observe(t){const e=w((0,r.Eq)(t)).map(t=>this._registerQuery(t).observable);let n=(0,o.aj)(e);return n=(0,a.z)(n.pipe((0,c.q)(1)),n.pipe((0,u.T)(1),(0,h.b)(0))),n.pipe((0,d.U)(t=>{const e={matches:!1,breakpoints:{}};return t.forEach(({matches:t,query:n})=>{e.matches=e.matches||t,e.breakpoints[n]=t}),e}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const e=this._mediaMatcher.matchMedia(t),n={observable:new l.y(t=>{const n=e=>this._zone.run(()=>t.next(e));return e.addListener(n),()=>{e.removeListener(n)}}).pipe((0,p.O)(e),(0,d.U)(({matches:e})=>({query:t,matches:e})),(0,f.R)(this._destroySubject)),mql:e};return this._queries.set(t,n),n}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(y),i.LFG(i.R0b))},t.\u0275prov=i.Yz7({factory:function(){return new t(i.LFG(y),i.LFG(i.R0b))},token:t,providedIn:"root"}),t})();function w(t){return t.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}const C={XSmall:"(max-width: 599.98px)",Small:"(min-width: 600px) and (max-width: 959.98px)",Medium:"(min-width: 960px) and (max-width: 1279.98px)",Large:"(min-width: 1280px) and (max-width: 1919.98px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.98px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.98px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"}},7853:(t,e,n)=>{"use strict";n.d(e,{wD:()=>u,yq:()=>c,Q8:()=>h});var i=n(9861),r=n(5366),s=n(8318),o=n(5959),a=n(7701);let l=(()=>{class t{create(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Yz7({factory:function(){return new t},token:t,providedIn:"root"}),t})(),c=(()=>{class t{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,e)=>this._cleanupObserver(e))}observe(t){const e=(0,i.fI)(t);return new s.y(t=>{const n=this._observeElement(e).subscribe(t);return()=>{n.unsubscribe(),this._unobserveElement(e)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const e=new o.xQ,n=this._mutationObserverFactory.create(t=>e.next(t));n&&n.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:n,stream:e,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:e,stream:n}=this._observedElements.get(t);e&&e.disconnect(),n.complete(),this._observedElements.delete(t)}}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(l))},t.\u0275prov=r.Yz7({factory:function(){return new t(r.LFG(l))},token:t,providedIn:"root"}),t})(),u=(()=>{class t{constructor(t,e,n){this._contentObserver=t,this._elementRef=e,this._ngZone=n,this.event=new r.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(t){this._disabled=(0,i.Ig)(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=(0,i.su)(t),this._subscribe()}ngAfterContentInit(){this._currentSubscription||this.disabled||this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe((0,a.b)(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){var t;null===(t=this._currentSubscription)||void 0===t||t.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(c),r.Y36(r.SBq),r.Y36(r.R0b))},t.\u0275dir=r.lG2({type:t,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),t})(),h=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({providers:[l]}),t})()},5333:(t,e,n)=>{"use strict";n.d(e,{pI:()=>J,xu:()=>Q,aV:()=>Y,X_:()=>T,Xj:()=>F,U8:()=>tt});var i=n(7205),r=n(5366),s=n(3169),o=n(4720),a=n(1116),l=n(9861),c=n(2151),u=n(5959),h=n(7570),d=n(1906),p=n(6673);class f{constructor(t,e){this.predicate=t,this.inclusive=e}call(t,e){return e.subscribe(new m(t,this.predicate,this.inclusive))}}class m extends p.L{constructor(t,e,n){super(t),this.predicate=e,this.inclusive=n,this.index=0}_next(t){const e=this.destination;let n;try{n=this.predicate(t,this.index++)}catch(i){return void e.error(i)}this.nextOrComplete(t,n)}nextOrComplete(t,e){const n=this.destination;Boolean(e)?n.next(t):(this.inclusive&&n.next(t),n.complete())}}var g=n(611),_=n(5416),y=n(9235);const v=(0,s.Mq)();class b{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=(0,l.HM)(-this._previousScrollPosition.left),t.style.top=(0,l.HM)(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,e=t.style,n=this._document.body.style,i=e.scrollBehavior||"",r=n.scrollBehavior||"";this._isEnabled=!1,e.left=this._previousHTMLStyles.left,e.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),v&&(e.scrollBehavior=n.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),v&&(e.scrollBehavior=i,n.scrollBehavior=r)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,e=this._viewportRuler.getViewportSize();return t.scrollHeight>e.height||t.scrollWidth>e.width}}class w{constructor(t,e,n,i){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=n,this._config=i,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class C{enable(){}disable(){}attach(){}}function E(t,e){return e.some(e=>t.bottom<e.top||t.top>e.bottom||t.right<e.left||t.left>e.right)}function S(t,e){return e.some(e=>t.top<e.top||t.bottom>e.bottom||t.left<e.left||t.right>e.right)}class x{constructor(t,e,n,i){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this._config=i,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:e,height:n}=this._viewportRuler.getViewportSize();E(t,[{width:e,height:n,bottom:n,right:e,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let k=(()=>{class t{constructor(t,e,n,i){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this.noop=()=>new C,this.close=t=>new w(this._scrollDispatcher,this._ngZone,this._viewportRuler,t),this.block=()=>new b(this._viewportRuler,this._document),this.reposition=t=>new x(this._scrollDispatcher,this._viewportRuler,this._ngZone,t),this._document=i}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(i.mF),r.LFG(i.rL),r.LFG(r.R0b),r.LFG(a.K0))},t.\u0275prov=r.Yz7({factory:function(){return new t(r.LFG(i.mF),r.LFG(i.rL),r.LFG(r.R0b),r.LFG(a.K0))},token:t,providedIn:"root"}),t})();class T{constructor(t){if(this.scrollStrategy=new C,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const n of e)void 0!==t[n]&&(this[n]=t[n])}}}class I{constructor(t,e,n,i,r){this.offsetX=n,this.offsetY=i,this.panelClass=r,this.originX=t.originX,this.originY=t.originY,this.overlayX=e.overlayX,this.overlayY=e.overlayY}}class A{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let D=(()=>{class t{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const e=this._attachedOverlays.indexOf(t);e>-1&&this._attachedOverlays.splice(e,1),0===this._attachedOverlays.length&&this.detach()}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(a.K0))},t.\u0275prov=r.Yz7({factory:function(){return new t(r.LFG(a.K0))},token:t,providedIn:"root"}),t})(),R=(()=>{class t extends D{constructor(t){super(t),this._keydownListener=t=>{const e=this._attachedOverlays;for(let n=e.length-1;n>-1;n--)if(e[n]._keydownEvents.observers.length>0){e[n]._keydownEvents.next(t);break}}}add(t){super.add(t),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(a.K0))},t.\u0275prov=r.Yz7({factory:function(){return new t(r.LFG(a.K0))},token:t,providedIn:"root"}),t})(),O=(()=>{class t extends D{constructor(t,e){super(t),this._platform=e,this._cursorStyleIsSet=!1,this._clickListener=t=>{const e=(0,s.sA)(t),n=this._attachedOverlays.slice();for(let i=n.length-1;i>-1;i--){const r=n[i];if(!(r._outsidePointerEvents.observers.length<1)&&r.hasAttached()){if(r.overlayElement.contains(e))break;r._outsidePointerEvents.next(t)}}}}add(t){if(super.add(t),!this._isAttached){const t=this._document.body;t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=t.style.cursor,t.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(a.K0),r.LFG(s.t4))},t.\u0275prov=r.Yz7({factory:function(){return new t(r.LFG(a.K0),r.LFG(s.t4))},token:t,providedIn:"root"}),t})();const P="undefined"!=typeof window?window:{},N=void 0!==P.__karma__&&!!P.__karma__||void 0!==P.jasmine&&!!P.jasmine||void 0!==P.jest&&!!P.jest||void 0!==P.Mocha&&!!P.Mocha;let F=(()=>{class t{constructor(t,e){this._platform=e,this._document=t}ngOnDestroy(){const t=this._containerElement;t&&t.parentNode&&t.parentNode.removeChild(t)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||N){const e=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let t=0;t<e.length;t++)e[t].parentNode.removeChild(e[t])}const e=this._document.createElement("div");e.classList.add(t),N?e.setAttribute("platform","test"):this._platform.isBrowser||e.setAttribute("platform","server"),this._document.body.appendChild(e),this._containerElement=e}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(a.K0),r.LFG(s.t4))},t.\u0275prov=r.Yz7({factory:function(){return new t(r.LFG(a.K0),r.LFG(s.t4))},token:t,providedIn:"root"}),t})();class L{constructor(t,e,n,i,r,s,o,a,l){this._portalOutlet=t,this._host=e,this._pane=n,this._config=i,this._ngZone=r,this._keyboardDispatcher=s,this._document=o,this._location=a,this._outsideClickDispatcher=l,this._backdropElement=null,this._backdropClick=new u.xQ,this._attachments=new u.xQ,this._detachments=new u.xQ,this._locationChanges=h.w.EMPTY,this._backdropClickHandler=t=>this._backdropClick.next(t),this._keydownEvents=new u.xQ,this._outsidePointerEvents=new u.xQ,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){let e=this._portalOutlet.attach(t);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,g.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this.detachBackdrop(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=Object.assign(Object.assign({},this._config),t),this._updateElementSize()}setDirection(t){this._config=Object.assign(Object.assign({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=(0,l.HM)(this._config.width),t.height=(0,l.HM)(this._config.height),t.minWidth=(0,l.HM)(this._config.minWidth),t.minHeight=(0,l.HM)(this._config.minHeight),t.maxWidth=(0,l.HM)(this._config.maxWidth),t.maxHeight=(0,l.HM)(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let t,e=this._backdropElement;if(!e)return;let n=()=>{e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",n),e.parentNode&&e.parentNode.removeChild(e)),this._backdropElement==e&&(this._backdropElement=null),this._config.backdropClass&&this._toggleClasses(e,this._config.backdropClass,!1),clearTimeout(t)};e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",n)}),e.style.pointerEvents="none",t=this._ngZone.runOutsideAngular(()=>setTimeout(n,500))}_toggleClasses(t,e,n){const i=t.classList;(0,l.Eq)(e).forEach(t=>{t&&(n?i.add(t):i.remove(t))})}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe((0,_.R)((0,d.T)(this._attachments,this._detachments))).subscribe(()=>{this._pane&&this._host&&0!==this._pane.children.length||(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._previousHostParent.removeChild(this._host)),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}}const M="cdk-overlay-connected-position-bounding-box",B=/([A-Za-z%]+)$/;class V{constructor(t,e,n,i,r){this._viewportRuler=e,this._document=n,this._platform=i,this._overlayContainer=r,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new u.xQ,this._resizeSubscription=h.w.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add(M),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const t=this._originRect,e=this._overlayRect,n=this._viewportRect,i=[];let r;for(let s of this._preferredPositions){let o=this._getOriginPoint(t,s),a=this._getOverlayPoint(o,e,s),l=this._getOverlayFit(a,e,n,s);if(l.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(s,o);this._canFitWithFlexibleDimensions(l,a,n)?i.push({position:s,origin:o,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(o,s)}):(!r||r.overlayFit.visibleArea<l.visibleArea)&&(r={overlayFit:l,overlayPoint:a,originPoint:o,position:s,overlayRect:e})}if(i.length){let t=null,e=-1;for(const n of i){const i=n.boundingBoxRect.width*n.boundingBoxRect.height*(n.position.weight||1);i>e&&(e=i,t=n)}return this._isPushed=!1,void this._applyPosition(t.position,t.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(r.position,r.originPoint);this._applyPosition(r.position,r.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&U(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(M),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const t=this._lastPosition||this._preferredPositions[0],e=this._getOriginPoint(this._originRect,t);this._applyPosition(t,e)}}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e){let n,i;if("center"==e.originX)n=t.left+t.width/2;else{const i=this._isRtl()?t.right:t.left,r=this._isRtl()?t.left:t.right;n="start"==e.originX?i:r}return i="center"==e.originY?t.top+t.height/2:"top"==e.originY?t.top:t.bottom,{x:n,y:i}}_getOverlayPoint(t,e,n){let i,r;return i="center"==n.overlayX?-e.width/2:"start"===n.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,r="center"==n.overlayY?-e.height/2:"top"==n.overlayY?0:-e.height,{x:t.x+i,y:t.y+r}}_getOverlayFit(t,e,n,i){const r=q(e);let{x:s,y:o}=t,a=this._getOffset(i,"x"),l=this._getOffset(i,"y");a&&(s+=a),l&&(o+=l);let c=0-o,u=o+r.height-n.height,h=this._subtractOverflows(r.width,0-s,s+r.width-n.width),d=this._subtractOverflows(r.height,c,u),p=h*d;return{visibleArea:p,isCompletelyWithinViewport:r.width*r.height===p,fitsInViewportVertically:d===r.height,fitsInViewportHorizontally:h==r.width}}_canFitWithFlexibleDimensions(t,e,n){if(this._hasFlexibleDimensions){const i=n.bottom-e.y,r=n.right-e.x,s=j(this._overlayRef.getConfig().minHeight),o=j(this._overlayRef.getConfig().minWidth),a=t.fitsInViewportHorizontally||null!=o&&o<=r;return(t.fitsInViewportVertically||null!=s&&s<=i)&&a}return!1}_pushOverlayOnScreen(t,e,n){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const i=q(e),r=this._viewportRect,s=Math.max(t.x+i.width-r.width,0),o=Math.max(t.y+i.height-r.height,0),a=Math.max(r.top-n.top-t.y,0),l=Math.max(r.left-n.left-t.x,0);let c=0,u=0;return c=i.width<=r.width?l||-s:t.x<this._viewportMargin?r.left-n.left-t.x:0,u=i.height<=r.height?a||-o:t.y<this._viewportMargin?r.top-n.top-t.y:0,this._previousPushAmount={x:c,y:u},{x:t.x+c,y:t.y+u}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const e=this._getScrollVisibility(),n=new A(t,e);this._positionChanges.next(n)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let n,i=t.overlayY;n="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let r=0;r<e.length;r++)e[r].style.transformOrigin=`${n} ${i}`}_calculateBoundingBoxRect(t,e){const n=this._viewportRect,i=this._isRtl();let r,s,o,a,l,c;if("top"===e.overlayY)s=t.y,r=n.height-s+this._viewportMargin;else if("bottom"===e.overlayY)o=n.height-t.y+2*this._viewportMargin,r=n.height-o+this._viewportMargin;else{const e=Math.min(n.bottom-t.y+n.top,t.y),i=this._lastBoundingBoxSize.height;r=2*e,s=t.y-e,r>i&&!this._isInitialRender&&!this._growAfterOpen&&(s=t.y-i/2)}if("end"===e.overlayX&&!i||"start"===e.overlayX&&i)c=n.width-t.x+this._viewportMargin,a=t.x-this._viewportMargin;else if("start"===e.overlayX&&!i||"end"===e.overlayX&&i)l=t.x,a=n.right-t.x;else{const e=Math.min(n.right-t.x+n.left,t.x),i=this._lastBoundingBoxSize.width;a=2*e,l=t.x-e,a>i&&!this._isInitialRender&&!this._growAfterOpen&&(l=t.x-i/2)}return{top:s,left:l,bottom:o,right:c,width:a,height:r}}_setBoundingBoxStyles(t,e){const n=this._calculateBoundingBoxRect(t,e);this._isInitialRender||this._growAfterOpen||(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));const i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{const t=this._overlayRef.getConfig().maxHeight,r=this._overlayRef.getConfig().maxWidth;i.height=(0,l.HM)(n.height),i.top=(0,l.HM)(n.top),i.bottom=(0,l.HM)(n.bottom),i.width=(0,l.HM)(n.width),i.left=(0,l.HM)(n.left),i.right=(0,l.HM)(n.right),i.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",i.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",t&&(i.maxHeight=(0,l.HM)(t)),r&&(i.maxWidth=(0,l.HM)(r))}this._lastBoundingBoxSize=n,U(this._boundingBox.style,i)}_resetBoundingBoxStyles(){U(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){U(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const n={},i=this._hasExactPosition(),r=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(i){const i=this._viewportRuler.getViewportScrollPosition();U(n,this._getExactOverlayY(e,t,i)),U(n,this._getExactOverlayX(e,t,i))}else n.position="static";let o="",a=this._getOffset(e,"x"),c=this._getOffset(e,"y");a&&(o+=`translateX(${a}px) `),c&&(o+=`translateY(${c}px)`),n.transform=o.trim(),s.maxHeight&&(i?n.maxHeight=(0,l.HM)(s.maxHeight):r&&(n.maxHeight="")),s.maxWidth&&(i?n.maxWidth=(0,l.HM)(s.maxWidth):r&&(n.maxWidth="")),U(this._pane.style,n)}_getExactOverlayY(t,e,n){let i={top:"",bottom:""},r=this._getOverlayPoint(e,this._overlayRect,t);this._isPushed&&(r=this._pushOverlayOnScreen(r,this._overlayRect,n));let s=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return r.y-=s,"bottom"===t.overlayY?i.bottom=this._document.documentElement.clientHeight-(r.y+this._overlayRect.height)+"px":i.top=(0,l.HM)(r.y),i}_getExactOverlayX(t,e,n){let i,r={left:"",right:""},s=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,n)),i=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===i?r.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":r.left=(0,l.HM)(s.x),r}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),n=this._scrollables.map(t=>t.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:S(t,n),isOriginOutsideView:E(t,n),isOverlayClipped:S(e,n),isOverlayOutsideView:E(e,n)}}_subtractOverflows(t,...e){return e.reduce((t,e)=>t-Math.max(e,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+t-this._viewportMargin,bottom:n.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&(0,l.Eq)(t).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof r.SBq)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,n=t.height||0;return{top:t.y,bottom:t.y+n,left:t.x,right:t.x+e,height:n,width:e}}}function U(t,e){for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function j(t){if("number"!=typeof t&&null!=t){const[e,n]=t.split(B);return n&&"px"!==n?null:parseFloat(e)}return t||null}function q(t){return{top:Math.floor(t.top),right:Math.floor(t.right),bottom:Math.floor(t.bottom),left:Math.floor(t.left),width:Math.floor(t.width),height:Math.floor(t.height)}}class z{constructor(t,e,n,i,r,s,o){this._preferredPositions=[],this._positionStrategy=new V(n,i,r,s,o).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(t,e),this.onPositionChange=this._positionStrategy.positionChanges}get positions(){return this._preferredPositions}attach(t){this._overlayRef=t,this._positionStrategy.attach(t),this._direction&&(t.setDirection(this._direction),this._direction=null)}dispose(){this._positionStrategy.dispose()}detach(){this._positionStrategy.detach()}apply(){this._positionStrategy.apply()}recalculateLastPosition(){this._positionStrategy.reapplyLastPosition()}withScrollableContainers(t){this._positionStrategy.withScrollableContainers(t)}withFallbackPosition(t,e,n,i){const r=new I(t,e,n,i);return this._preferredPositions.push(r),this._positionStrategy.withPositions(this._preferredPositions),this}withDirection(t){return this._overlayRef?this._overlayRef.setDirection(t):this._direction=t,this}withOffsetX(t){return this._positionStrategy.withDefaultOffsetX(t),this}withOffsetY(t){return this._positionStrategy.withDefaultOffsetY(t),this}withLockedPosition(t){return this._positionStrategy.withLockedPosition(t),this}withPositions(t){return this._preferredPositions=t.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}setOrigin(t){return this._positionStrategy.setOrigin(t),this}}const H="cdk-global-overlay-wrapper";class G{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(H),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._justifyContent="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig(),{width:i,height:r,maxWidth:s,maxHeight:o}=n,a=!("100%"!==i&&"100vw"!==i||s&&"100%"!==s&&"100vw"!==s),l=!("100%"!==r&&"100vh"!==r||o&&"100%"!==o&&"100vh"!==o);t.position=this._cssPosition,t.marginLeft=a?"0":this._leftOffset,t.marginTop=l?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,a?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems=l?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,n=e.style;e.classList.remove(H),n.justifyContent=n.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let $=(()=>{class t{constructor(t,e,n,i){this._viewportRuler=t,this._document=e,this._platform=n,this._overlayContainer=i}global(){return new G}connectedTo(t,e,n){return new z(e,n,t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}flexibleConnectedTo(t){return new V(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(i.rL),r.LFG(a.K0),r.LFG(s.t4),r.LFG(F))},t.\u0275prov=r.Yz7({factory:function(){return new t(r.LFG(i.rL),r.LFG(a.K0),r.LFG(s.t4),r.LFG(F))},token:t,providedIn:"root"}),t})(),Z=0,Y=(()=>{class t{constructor(t,e,n,i,r,s,o,a,l,c,u){this.scrollStrategies=t,this._overlayContainer=e,this._componentFactoryResolver=n,this._positionBuilder=i,this._keyboardDispatcher=r,this._injector=s,this._ngZone=o,this._document=a,this._directionality=l,this._location=c,this._outsideClickDispatcher=u}create(t){const e=this._createHostElement(),n=this._createPaneElement(e),i=this._createPortalOutlet(n),r=new T(t);return r.direction=r.direction||this._directionality.value,new L(i,e,n,r,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(t){const e=this._document.createElement("div");return e.id="cdk-overlay-"+Z++,e.classList.add("cdk-overlay-pane"),t.appendChild(e),e}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(r.z2F)),new c.u0(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(k),r.LFG(F),r.LFG(r._Vd),r.LFG($),r.LFG(R),r.LFG(r.zs3),r.LFG(r.R0b),r.LFG(a.K0),r.LFG(o.Is),r.LFG(a.Ye),r.LFG(O))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();const W=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],K=new r.OlP("cdk-connected-overlay-scroll-strategy");let Q=(()=>{class t{constructor(t){this.elementRef=t}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.SBq))},t.\u0275dir=r.lG2({type:t,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),t})(),J=(()=>{class t{constructor(t,e,n,i,s){this._overlay=t,this._dir=s,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=h.w.EMPTY,this._attachSubscription=h.w.EMPTY,this._detachSubscription=h.w.EMPTY,this._positionSubscription=h.w.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new r.vpe,this.positionChange=new r.vpe,this.attach=new r.vpe,this.detach=new r.vpe,this.overlayKeydown=new r.vpe,this.overlayOutsideClick=new r.vpe,this._templatePortal=new c.UE(e,n),this._scrollStrategyFactory=i,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX(t){this._offsetX=t,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(t){this._offsetY=t,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(t){this._hasBackdrop=(0,l.Ig)(t)}get lockPosition(){return this._lockPosition}set lockPosition(t){this._lockPosition=(0,l.Ig)(t)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(t){this._flexibleDimensions=(0,l.Ig)(t)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(t){this._growAfterOpen=(0,l.Ig)(t)}get push(){return this._push}set push(t){this._push=(0,l.Ig)(t)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(t){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),t.origin&&this.open&&this._position.apply()),t.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){this.positions&&this.positions.length||(this.positions=W);const t=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=t.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=t.detachments().subscribe(()=>this.detach.emit()),t.keydownEvents().subscribe(t=>{this.overlayKeydown.next(t),t.keyCode!==y.hY||this.disableClose||(0,y.Vb)(t)||(t.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(t=>{this.overlayOutsideClick.next(t)})}_buildConfig(){const t=this._position=this.positionStrategy||this._createPositionStrategy(),e=new T({direction:this._dir,positionStrategy:t,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(e.width=this.width),(this.height||0===this.height)&&(e.height=this.height),(this.minWidth||0===this.minWidth)&&(e.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(e.minHeight=this.minHeight),this.backdropClass&&(e.backdropClass=this.backdropClass),this.panelClass&&(e.panelClass=this.panelClass),e}_updatePositionStrategy(t){const e=this.positions.map(t=>({originX:t.originX,originY:t.originY,overlayX:t.overlayX,overlayY:t.overlayY,offsetX:t.offsetX||this.offsetX,offsetY:t.offsetY||this.offsetY,panelClass:t.panelClass||void 0}));return t.setOrigin(this.origin.elementRef).withPositions(e).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const t=this._overlay.position().flexibleConnectedTo(this.origin.elementRef);return this._updatePositionStrategy(t),t}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(t=>{this.backdropClick.emit(t)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function(t,e=!1){return n=>n.lift(new f(t,e))}(()=>this.positionChange.observers.length>0)).subscribe(t=>{this.positionChange.emit(t),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(Y),r.Y36(r.Rgc),r.Y36(r.s_b),r.Y36(K),r.Y36(o.Is,8))},t.\u0275dir=r.lG2({type:t,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"],positions:["cdkConnectedOverlayPositions","positions"],origin:["cdkConnectedOverlayOrigin","origin"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[r.TTD]}),t})();const X={provide:K,deps:[Y],useFactory:function(t){return()=>t.scrollStrategies.reposition()}};let tt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({providers:[Y,X],imports:[[o.vT,c.eL,i.Cl],i.Cl]}),t})()},3169:(t,e,n)=>{"use strict";n.d(e,{t4:()=>a,ud:()=>l,sA:()=>b,ht:()=>v,kV:()=>y,_i:()=>_,qK:()=>u,i$:()=>m,Mq:()=>g});var i=n(5366),r=n(1116);let s;try{s="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(w){s=!1}let o,a=(()=>{class t{constructor(t){this._platformId=t,this.isBrowser=this._platformId?(0,r.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!s)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(i.Lbi))},t.\u0275prov=i.Yz7({factory:function(){return new t(i.LFG(i.Lbi))},token:t,providedIn:"root"}),t})(),l=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({}),t})();const c=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function u(){if(o)return o;if("object"!=typeof document||!document)return o=new Set(c),o;let t=document.createElement("input");return o=new Set(c.filter(e=>(t.setAttribute("type",e),t.type===e))),o}let h,d,p,f;function m(t){return function(){if(null==h&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>h=!0}))}finally{h=h||!1}return h}()?t:!!t.capture}function g(){if(null==p){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return p=!1,p;if("scrollBehavior"in document.documentElement.style)p=!0;else{const t=Element.prototype.scrollTo;p=!!t&&!/\{\s*\[native code\]\s*\}/.test(t.toString())}}return p}function _(){if("object"!=typeof document||!document)return 0;if(null==d){const t=document.createElement("div"),e=t.style;t.dir="rtl",e.width="1px",e.overflow="auto",e.visibility="hidden",e.pointerEvents="none",e.position="absolute";const n=document.createElement("div"),i=n.style;i.width="2px",i.height="1px",t.appendChild(n),document.body.appendChild(t),d=0,0===t.scrollLeft&&(t.scrollLeft=1,d=0===t.scrollLeft?1:2),t.parentNode.removeChild(t)}return d}function y(t){if(function(){if(null==f){const t="undefined"!=typeof document?document.head:null;f=!(!t||!t.createShadowRoot&&!t.attachShadow)}return f}()){const e=t.getRootNode?t.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}function v(){let t="undefined"!=typeof document&&document?document.activeElement:null;for(;t&&t.shadowRoot;){const e=t.shadowRoot.activeElement;if(e===t)break;t=e}return t}function b(t){return t.composedPath?t.composedPath()[0]:t.target}},2151:(t,e,n)=>{"use strict";n.d(e,{en:()=>c,ig:()=>h,Pl:()=>d,C5:()=>o,u0:()=>u,eL:()=>p,UE:()=>a});var i=n(5366),r=n(1116);class s{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class o extends s{constructor(t,e,n,i){super(),this.component=t,this.viewContainerRef=e,this.injector=n,this.componentFactoryResolver=i}}class a extends s{constructor(t,e,n){super(),this.templateRef=t,this.viewContainerRef=e,this.context=n}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class l extends s{constructor(t){super(),this.element=t instanceof i.SBq?t.nativeElement:t}}class c{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof o?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof a?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof l?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class u extends c{constructor(t,e,n,i,r){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=n,this._defaultInjector=i,this.attachDomPortal=t=>{const e=t.element,n=this._document.createComment("dom-portal");e.parentNode.insertBefore(n,e),this.outletElement.appendChild(e),this._attachedPortal=t,super.setDisposeFn(()=>{n.parentNode&&n.parentNode.replaceChild(e,n)})},this._document=r}attachComponentPortal(t){const e=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let n;return t.viewContainerRef?(n=t.viewContainerRef.createComponent(e,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>n.destroy())):(n=e.create(t.injector||this._defaultInjector),this._appRef.attachView(n.hostView),this.setDisposeFn(()=>{this._appRef.detachView(n.hostView),n.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(n)),this._attachedPortal=t,n}attachTemplatePortal(t){let e=t.viewContainerRef,n=e.createEmbeddedView(t.templateRef,t.context);return n.rootNodes.forEach(t=>this.outletElement.appendChild(t)),n.detectChanges(),this.setDisposeFn(()=>{let t=e.indexOf(n);-1!==t&&e.remove(t)}),this._attachedPortal=t,n}dispose(){super.dispose(),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let h=(()=>{class t extends a{constructor(t,e){super(t,e)}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.Rgc),i.Y36(i.s_b))},t.\u0275dir=i.lG2({type:t,selectors:[["","cdkPortal",""]],exportAs:["cdkPortal"],features:[i.qOj]}),t})(),d=(()=>{class t extends c{constructor(t,e,n){super(),this._componentFactoryResolver=t,this._viewContainerRef=e,this._isInitialized=!1,this.attached=new i.vpe,this.attachDomPortal=t=>{const e=t.element,n=this._document.createComment("dom-portal");t.setAttachedHost(this),e.parentNode.insertBefore(n,e),this._getRootNode().appendChild(e),this._attachedPortal=t,super.setDisposeFn(()=>{n.parentNode&&n.parentNode.replaceChild(e,n)})},this._document=n}get portal(){return this._attachedPortal}set portal(t){(!this.hasAttached()||t||this._isInitialized)&&(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(t){t.setAttachedHost(this);const e=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,n=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),i=e.createComponent(n,e.length,t.injector||e.injector);return e!==this._viewContainerRef&&this._getRootNode().appendChild(i.hostView.rootNodes[0]),super.setDisposeFn(()=>i.destroy()),this._attachedPortal=t,this._attachedRef=i,this.attached.emit(i),i}attachTemplatePortal(t){t.setAttachedHost(this);const e=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=e,this.attached.emit(e),e}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(i._Vd),i.Y36(i.s_b),i.Y36(r.K0))},t.\u0275dir=i.lG2({type:t,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[i.qOj]}),t})(),p=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({}),t})()},7205:(t,e,n)=>{"use strict";n.d(e,{ZD:()=>g,mF:()=>f,Cl:()=>_,rL:()=>m});var i=n(9861),r=n(5366);n(8277),n(1098);var s=n(5959),o=n(878),a=n(8318),l=n(7254),c=(n(2709),n(7570),n(4710),n(8720),n(810)),u=n(3835),h=(n(5416),n(6238),n(2855),n(4689),n(5096),n(3169)),d=n(1116),p=n(4720);n(8378);let f=(()=>{class t{constructor(t,e,n){this._ngZone=t,this._platform=e,this._scrolled=new s.xQ,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=n}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const e=this.scrollContainers.get(t);e&&(e.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new a.y(e=>{this._globalSubscription||this._addGlobalListener();const n=t>0?this._scrolled.pipe((0,c.e)(t)).subscribe(e):this._scrolled.subscribe(e);return this._scrolledCount++,()=>{n.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,o.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,e)=>this.deregister(e)),this._scrolled.complete()}ancestorScrolled(t,e){const n=this.getAncestorScrollContainers(t);return this.scrolled(e).pipe((0,u.h)(t=>!t||n.indexOf(t)>-1))}getAncestorScrollContainers(t){const e=[];return this.scrollContainers.forEach((n,i)=>{this._scrollableContainsElement(i,t)&&e.push(i)}),e}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,e){let n=(0,i.fI)(e),r=t.getElementRef().nativeElement;do{if(n==r)return!0}while(n=n.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{const t=this._getWindow();return(0,l.R)(t.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(r.R0b),r.LFG(h.t4),r.LFG(d.K0,8))},t.\u0275prov=r.Yz7({factory:function(){return new t(r.LFG(r.R0b),r.LFG(h.t4),r.LFG(d.K0,8))},token:t,providedIn:"root"}),t})(),m=(()=>{class t{constructor(t,e,n){this._platform=t,this._change=new s.xQ,this._changeListener=t=>{this._change.next(t)},this._document=n,e.runOutsideAngular(()=>{if(t.isBrowser){const t=this._getWindow();t.addEventListener("resize",this._changeListener),t.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:e,height:n}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+n,right:t.left+e,height:n,width:e}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,e=this._getWindow(),n=t.documentElement,i=n.getBoundingClientRect();return{top:-i.top||t.body.scrollTop||e.scrollY||n.scrollTop||0,left:-i.left||t.body.scrollLeft||e.scrollX||n.scrollLeft||0}}change(t=20){return t>0?this._change.pipe((0,c.e)(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(h.t4),r.LFG(r.R0b),r.LFG(d.K0,8))},t.\u0275prov=r.Yz7({factory:function(){return new t(r.LFG(h.t4),r.LFG(r.R0b),r.LFG(d.K0,8))},token:t,providedIn:"root"}),t})(),g=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({}),t})(),_=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[p.vT,h.ud,g],p.vT,g]}),t})()},9861:(t,e,n)=>{"use strict";n.d(e,{Eq:()=>o,Ig:()=>r,HM:()=>a,fI:()=>l,su:()=>s});var i=n(5366);function r(t){return null!=t&&"false"!=`${t}`}function s(t,e=0){return function(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}(t)?Number(t):e}function o(t){return Array.isArray(t)?t:[t]}function a(t){return null==t?"":"string"==typeof t?t:`${t}px`}function l(t){return t instanceof i.SBq?t.nativeElement:t}},1116:(t,e,n)=>{"use strict";n.d(e,{mr:()=>b,Ov:()=>Dt,ez:()=>Ft,H9:()=>Nt,K0:()=>l,uU:()=>Pt,Do:()=>C,V_:()=>h,Ye:()=>E,S$:()=>y,mk:()=>ft,sg:()=>gt,O5:()=>yt,RF:()=>Ct,n9:()=>Et,ED:()=>St,b0:()=>w,lw:()=>c,rS:()=>Ot,EM:()=>Vt,JF:()=>qt,NF:()=>Mt,PM:()=>Bt,w_:()=>a,bD:()=>Lt,q:()=>s,Mx:()=>pt,HT:()=>o});var i=n(5366);let r=null;function s(){return r}function o(t){r||(r=t)}class a{}const l=new i.OlP("DocumentToken");let c=(()=>{class t{historyGo(t){throw new Error("Not implemented")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=(0,i.Yz7)({factory:u,token:t,providedIn:"platform"}),t})();function u(){return(0,i.LFG)(d)}const h=new i.OlP("Location Initialized");let d=(()=>{class t extends c{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return s().getBaseHref(this._doc)}onPopState(t){const e=s().getGlobalEventTarget(this._doc,"window");return e.addEventListener("popstate",t,!1),()=>e.removeEventListener("popstate",t)}onHashChange(t){const e=s().getGlobalEventTarget(this._doc,"window");return e.addEventListener("hashchange",t,!1),()=>e.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){p()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){p()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(l))},t.\u0275prov=(0,i.Yz7)({factory:f,token:t,providedIn:"platform"}),t})();function p(){return!!window.history.pushState}function f(){return new d((0,i.LFG)(l))}function m(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function g(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function _(t){return t&&"?"!==t[0]?"?"+t:t}let y=(()=>{class t{historyGo(t){throw new Error("Not implemented")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=(0,i.Yz7)({factory:v,token:t,providedIn:"root"}),t})();function v(t){const e=(0,i.LFG)(l).location;return new w((0,i.LFG)(c),e&&e.origin||"")}const b=new i.OlP("appBaseHref");let w=(()=>{class t extends y{constructor(t,e){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return m(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+_(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,i){const r=this.prepareExternalUrl(n+_(i));this._platformLocation.pushState(t,e,r)}replaceState(t,e,n,i){const r=this.prepareExternalUrl(n+_(i));this._platformLocation.replaceState(t,e,r)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var e,n;null===(n=(e=this._platformLocation).historyGo)||void 0===n||n.call(e,t)}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(c),i.LFG(b,8))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})(),C=(()=>{class t extends y{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=e&&(this._baseHref=e)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=m(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,i){let r=this.prepareExternalUrl(n+_(i));0==r.length&&(r=this._platformLocation.pathname),this._platformLocation.pushState(t,e,r)}replaceState(t,e,n,i){let r=this.prepareExternalUrl(n+_(i));0==r.length&&(r=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,r)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var e,n;null===(n=(e=this._platformLocation).historyGo)||void 0===n||n.call(e,t)}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(c),i.LFG(b,8))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})(),E=(()=>{class t{constructor(t,e){this._subject=new i.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=g(x(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+_(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,x(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+_(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+_(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var e,n;null===(n=(e=this._platformStrategy).historyGo)||void 0===n||n.call(e,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(y),i.LFG(c))},t.normalizeQueryParams=_,t.joinWithSlash=m,t.stripTrailingSlash=g,t.\u0275prov=(0,i.Yz7)({factory:S,token:t,providedIn:"root"}),t})();function S(){return new E((0,i.LFG)(y),(0,i.LFG)(c))}function x(t){return t.replace(/\/index.html$/,"")}const k={ADP:[void 0,void 0,0],AFN:[void 0,void 0,0],ALL:[void 0,void 0,0],AMD:[void 0,void 0,2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,"\u0440.",2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:[void 0,"\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RUR:[void 0,"\u0440."],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["CFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var T=function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t}({}),I=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({}),A=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}({}),D=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}({}),R=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}({}),O=function(t){return t[t.Decimal=0]="Decimal",t[t.Group=1]="Group",t[t.List=2]="List",t[t.PercentSign=3]="PercentSign",t[t.PlusSign=4]="PlusSign",t[t.MinusSign=5]="MinusSign",t[t.Exponential=6]="Exponential",t[t.SuperscriptingExponent=7]="SuperscriptingExponent",t[t.PerMille=8]="PerMille",t[t[1/0]=9]="Infinity",t[t.NaN=10]="NaN",t[t.TimeSeparator=11]="TimeSeparator",t[t.CurrencyDecimal=12]="CurrencyDecimal",t[t.CurrencyGroup=13]="CurrencyGroup",t}({});function P(t,e){return V((0,i.cg1)(t)[i.wAp.DateFormat],e)}function N(t,e){return V((0,i.cg1)(t)[i.wAp.TimeFormat],e)}function F(t,e){return V((0,i.cg1)(t)[i.wAp.DateTimeFormat],e)}function L(t,e){const n=(0,i.cg1)(t),r=n[i.wAp.NumberSymbols][e];if(void 0===r){if(e===O.CurrencyDecimal)return n[i.wAp.NumberSymbols][O.Decimal];if(e===O.CurrencyGroup)return n[i.wAp.NumberSymbols][O.Group]}return r}const M=i.kL8;function B(t){if(!t[i.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[i.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function V(t,e){for(let n=e;n>-1;n--)if(void 0!==t[n])return t[n];throw new Error("Locale data API: locale data undefined")}function U(t){const[e,n]=t.split(":");return{hours:+e,minutes:+n}}const j=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,q={},z=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var H=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}({}),G=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}({}),$=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}({});function Z(t,e,n,i){let r=function(t){if(ot(t))return t;if("number"==typeof t&&!isNaN(t))return new Date(t);if("string"==typeof t){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){const[e,n=1,i=1]=t.split("-").map(t=>+t);return Y(e,n-1,i)}const e=parseFloat(t);if(!isNaN(t-e))return new Date(e);let n;if(n=t.match(j))return function(t){const e=new Date(0);let n=0,i=0;const r=t[8]?e.setUTCFullYear:e.setFullYear,s=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),i=Number(t[9]+t[11])),r.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));const o=Number(t[4]||0)-n,a=Number(t[5]||0)-i,l=Number(t[6]||0),c=Math.floor(1e3*parseFloat("0."+(t[7]||0)));return s.call(e,o,a,l,c),e}(n)}const e=new Date(t);if(!ot(e))throw new Error(`Unable to convert "${t}" into a date`);return e}(t);e=W(n,e)||e;let s,o=[];for(;e;){if(s=z.exec(e),!s){o.push(e);break}{o=o.concat(s.slice(1));const t=o.pop();if(!t)break;e=t}}let a=r.getTimezoneOffset();i&&(a=st(i,a),r=function(t,e,n){const i=t.getTimezoneOffset();return function(t,e){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+e),t}(t,-1*(st(e,i)-i))}(r,i));let l="";return o.forEach(t=>{const e=function(t){if(rt[t])return rt[t];let e;switch(t){case"G":case"GG":case"GGG":e=X($.Eras,D.Abbreviated);break;case"GGGG":e=X($.Eras,D.Wide);break;case"GGGGG":e=X($.Eras,D.Narrow);break;case"y":e=J(G.FullYear,1,0,!1,!0);break;case"yy":e=J(G.FullYear,2,0,!0,!0);break;case"yyy":e=J(G.FullYear,3,0,!1,!0);break;case"yyyy":e=J(G.FullYear,4,0,!1,!0);break;case"Y":e=it(1);break;case"YY":e=it(2,!0);break;case"YYY":e=it(3);break;case"YYYY":e=it(4);break;case"M":case"L":e=J(G.Month,1,1);break;case"MM":case"LL":e=J(G.Month,2,1);break;case"MMM":e=X($.Months,D.Abbreviated);break;case"MMMM":e=X($.Months,D.Wide);break;case"MMMMM":e=X($.Months,D.Narrow);break;case"LLL":e=X($.Months,D.Abbreviated,A.Standalone);break;case"LLLL":e=X($.Months,D.Wide,A.Standalone);break;case"LLLLL":e=X($.Months,D.Narrow,A.Standalone);break;case"w":e=nt(1);break;case"ww":e=nt(2);break;case"W":e=nt(1,!0);break;case"d":e=J(G.Date,1);break;case"dd":e=J(G.Date,2);break;case"c":case"cc":e=J(G.Day,1);break;case"ccc":e=X($.Days,D.Abbreviated,A.Standalone);break;case"cccc":e=X($.Days,D.Wide,A.Standalone);break;case"ccccc":e=X($.Days,D.Narrow,A.Standalone);break;case"cccccc":e=X($.Days,D.Short,A.Standalone);break;case"E":case"EE":case"EEE":e=X($.Days,D.Abbreviated);break;case"EEEE":e=X($.Days,D.Wide);break;case"EEEEE":e=X($.Days,D.Narrow);break;case"EEEEEE":e=X($.Days,D.Short);break;case"a":case"aa":case"aaa":e=X($.DayPeriods,D.Abbreviated);break;case"aaaa":e=X($.DayPeriods,D.Wide);break;case"aaaaa":e=X($.DayPeriods,D.Narrow);break;case"b":case"bb":case"bbb":e=X($.DayPeriods,D.Abbreviated,A.Standalone,!0);break;case"bbbb":e=X($.DayPeriods,D.Wide,A.Standalone,!0);break;case"bbbbb":e=X($.DayPeriods,D.Narrow,A.Standalone,!0);break;case"B":case"BB":case"BBB":e=X($.DayPeriods,D.Abbreviated,A.Format,!0);break;case"BBBB":e=X($.DayPeriods,D.Wide,A.Format,!0);break;case"BBBBB":e=X($.DayPeriods,D.Narrow,A.Format,!0);break;case"h":e=J(G.Hours,1,-12);break;case"hh":e=J(G.Hours,2,-12);break;case"H":e=J(G.Hours,1);break;case"HH":e=J(G.Hours,2);break;case"m":e=J(G.Minutes,1);break;case"mm":e=J(G.Minutes,2);break;case"s":e=J(G.Seconds,1);break;case"ss":e=J(G.Seconds,2);break;case"S":e=J(G.FractionalSeconds,1);break;case"SS":e=J(G.FractionalSeconds,2);break;case"SSS":e=J(G.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=tt(H.Short);break;case"ZZZZZ":e=tt(H.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=tt(H.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=tt(H.Long);break;default:return null}return rt[t]=e,e}(t);l+=e?e(r,n,a):"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function Y(t,e,n){const i=new Date(0);return i.setFullYear(t,e,n),i.setHours(0,0,0),i}function W(t,e){const n=function(t){return(0,i.cg1)(t)[i.wAp.LocaleId]}(t);if(q[n]=q[n]||{},q[n][e])return q[n][e];let r="";switch(e){case"shortDate":r=P(t,R.Short);break;case"mediumDate":r=P(t,R.Medium);break;case"longDate":r=P(t,R.Long);break;case"fullDate":r=P(t,R.Full);break;case"shortTime":r=N(t,R.Short);break;case"mediumTime":r=N(t,R.Medium);break;case"longTime":r=N(t,R.Long);break;case"fullTime":r=N(t,R.Full);break;case"short":const e=W(t,"shortTime"),n=W(t,"shortDate");r=K(F(t,R.Short),[e,n]);break;case"medium":const i=W(t,"mediumTime"),s=W(t,"mediumDate");r=K(F(t,R.Medium),[i,s]);break;case"long":const o=W(t,"longTime"),a=W(t,"longDate");r=K(F(t,R.Long),[o,a]);break;case"full":const l=W(t,"fullTime"),c=W(t,"fullDate");r=K(F(t,R.Full),[l,c])}return r&&(q[n][e]=r),r}function K(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(t,n){return null!=e&&n in e?e[n]:t})),t}function Q(t,e,n="-",i,r){let s="";(t<0||r&&t<=0)&&(r?t=1-t:(t=-t,s=n));let o=String(t);for(;o.length<e;)o="0"+o;return i&&(o=o.substr(o.length-e)),s+o}function J(t,e,n=0,i=!1,r=!1){return function(s,o){let a=function(t,e){switch(t){case G.FullYear:return e.getFullYear();case G.Month:return e.getMonth();case G.Date:return e.getDate();case G.Hours:return e.getHours();case G.Minutes:return e.getMinutes();case G.Seconds:return e.getSeconds();case G.FractionalSeconds:return e.getMilliseconds();case G.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}(t,s);if((n>0||a>-n)&&(a+=n),t===G.Hours)0===a&&-12===n&&(a=12);else if(t===G.FractionalSeconds)return l=e,Q(a,3).substr(0,l);var l;const c=L(o,O.MinusSign);return Q(a,e,c,i,r)}}function X(t,e,n=A.Format,r=!1){return function(s,o){return function(t,e,n,r,s,o){switch(n){case $.Months:return function(t,e,n){const r=(0,i.cg1)(t),s=V([r[i.wAp.MonthsFormat],r[i.wAp.MonthsStandalone]],e);return V(s,n)}(e,s,r)[t.getMonth()];case $.Days:return function(t,e,n){const r=(0,i.cg1)(t),s=V([r[i.wAp.DaysFormat],r[i.wAp.DaysStandalone]],e);return V(s,n)}(e,s,r)[t.getDay()];case $.DayPeriods:const a=t.getHours(),l=t.getMinutes();if(o){const t=function(t){const e=(0,i.cg1)(t);return B(e),(e[i.wAp.ExtraData][2]||[]).map(t=>"string"==typeof t?U(t):[U(t[0]),U(t[1])])}(e),n=function(t,e,n){const r=(0,i.cg1)(t);B(r);const s=V([r[i.wAp.ExtraData][0],r[i.wAp.ExtraData][1]],e)||[];return V(s,n)||[]}(e,s,r),o=t.findIndex(t=>{if(Array.isArray(t)){const[e,n]=t,i=a>=e.hours&&l>=e.minutes,r=a<n.hours||a===n.hours&&l<n.minutes;if(e.hours<n.hours){if(i&&r)return!0}else if(i||r)return!0}else if(t.hours===a&&t.minutes===l)return!0;return!1});if(-1!==o)return n[o]}return function(t,e,n){const r=(0,i.cg1)(t),s=V([r[i.wAp.DayPeriodsFormat],r[i.wAp.DayPeriodsStandalone]],e);return V(s,n)}(e,s,r)[a<12?0:1];case $.Eras:return function(t,e){return V((0,i.cg1)(t)[i.wAp.Eras],e)}(e,r)[t.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${n}`)}}(s,o,t,e,n,r)}}function tt(t){return function(e,n,i){const r=-1*i,s=L(n,O.MinusSign),o=r>0?Math.floor(r/60):Math.ceil(r/60);switch(t){case H.Short:return(r>=0?"+":"")+Q(o,2,s)+Q(Math.abs(r%60),2,s);case H.ShortGMT:return"GMT"+(r>=0?"+":"")+Q(o,1,s);case H.Long:return"GMT"+(r>=0?"+":"")+Q(o,2,s)+":"+Q(Math.abs(r%60),2,s);case H.Extended:return 0===i?"Z":(r>=0?"+":"")+Q(o,2,s)+":"+Q(Math.abs(r%60),2,s);default:throw new Error(`Unknown zone width "${t}"`)}}}function et(t){return Y(t.getFullYear(),t.getMonth(),t.getDate()+(4-t.getDay()))}function nt(t,e=!1){return function(n,i){let r;if(e){const t=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,e=n.getDate();r=1+Math.floor((e+t)/7)}else{const t=et(n),e=function(t){const e=Y(t,0,1).getDay();return Y(t,0,1+(e<=4?4:11)-e)}(t.getFullYear()),i=t.getTime()-e.getTime();r=1+Math.round(i/6048e5)}return Q(r,t,L(i,O.MinusSign))}}function it(t,e=!1){return function(n,i){return Q(et(n).getFullYear(),t,L(i,O.MinusSign),e)}}const rt={};function st(t,e){t=t.replace(/:/g,"");const n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function ot(t){return t instanceof Date&&!isNaN(t.valueOf())}const at=/^(\d+)?\.((\d+)(-(\d+))?)?$/,lt=".",ct="0";function ut(t){const e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}class ht{}let dt=(()=>{class t extends ht{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(M(e||this.locale)(t)){case I.Zero:return"zero";case I.One:return"one";case I.Two:return"two";case I.Few:return"few";case I.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(i.soG))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})();function pt(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[i,r]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(i.trim()===e)return decodeURIComponent(r)}return null}let ft=(()=>{class t{constructor(t,e,n,i){this._iterableDiffers=t,this._keyValueDiffers=e,this._ngEl=n,this._renderer=i,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&((0,i.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachChangedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachRemovedItem(t=>{t.previousValue&&this._toggleClass(t.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(t=>{if("string"!=typeof t.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,i.AaK)(t.item)}`);this._toggleClass(t.item,!0)}),t.forEachRemovedItem(t=>this._toggleClass(t.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!0)):Object.keys(t).forEach(e=>this._toggleClass(e,!!t[e])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!1)):Object.keys(t).forEach(t=>this._toggleClass(t,!1)))}_toggleClass(t,e){(t=t.trim())&&t.split(/\s+/g).forEach(t=>{e?this._renderer.addClass(this._ngEl.nativeElement,t):this._renderer.removeClass(this._ngEl.nativeElement,t)})}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.ZZ4),i.Y36(i.aQg),i.Y36(i.SBq),i.Y36(i.Qsj))},t.\u0275dir=i.lG2({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),t})();class mt{constructor(t,e,n,i){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let gt=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,i)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new mt(null,this._ngForOf,-1,-1),null===i?void 0:i),r=new _t(t,n);e.push(r)}else if(null==i)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const r=this._viewContainer.get(n);this._viewContainer.move(r,i);const s=new _t(t,r);e.push(s)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,i=this._viewContainer.length;n<i;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=i,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.s_b),i.Y36(i.Rgc),i.Y36(i.ZZ4))},t.\u0275dir=i.lG2({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class _t{constructor(t,e){this.record=t,this.view=e}}let yt=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new vt,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){bt("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){bt("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.s_b),i.Y36(i.Rgc))},t.\u0275dir=i.lG2({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class vt{constructor(){this.$implicit=null,this.ngIf=null}}function bt(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${(0,i.AaK)(e)}'.`)}class wt{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let Ct=(()=>{class t{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const e=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||e,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),e}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let e=0;e<this._defaultViews.length;e++)this._defaultViews[e].enforceState(t)}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.lG2({type:t,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),t})(),Et=(()=>{class t{constructor(t,e,n){this.ngSwitch=n,n._addCase(),this._view=new wt(t,e)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.s_b),i.Y36(i.Rgc),i.Y36(Ct,9))},t.\u0275dir=i.lG2({type:t,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),t})(),St=(()=>{class t{constructor(t,e,n){n._addDefault(new wt(t,e))}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.s_b),i.Y36(i.Rgc),i.Y36(Ct,9))},t.\u0275dir=i.lG2({type:t,selectors:[["","ngSwitchDefault",""]]}),t})();function xt(t,e){return Error(`InvalidPipeArgument: '${e}' for pipe '${(0,i.AaK)(t)}'`)}class kt{createSubscription(t,e){return t.subscribe({next:e,error:t=>{throw t}})}dispose(t){t.unsubscribe()}onDestroy(t){t.unsubscribe()}}class Tt{createSubscription(t,e){return t.then(e,t=>{throw t})}dispose(t){}onDestroy(t){}}const It=new Tt,At=new kt;let Dt=(()=>{class t{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,e=>this._updateLatestValue(t,e))}_selectStrategy(e){if((0,i.QGY)(e))return It;if((0,i.F4k)(e))return At;throw xt(t,e)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,e){t===this._obj&&(this._latestValue=e,this._ref.markForCheck())}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.sBO,16))},t.\u0275pipe=i.Yjl({name:"async",type:t,pure:!1}),t})();const Rt=/(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE83\uDE86-\uDE89\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D])\S*/g;let Ot=(()=>{class t{transform(e){if(null==e)return null;if("string"!=typeof e)throw xt(t,e);return e.replace(Rt,t=>t[0].toUpperCase()+t.substr(1).toLowerCase())}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=i.Yjl({name:"titlecase",type:t,pure:!0}),t})(),Pt=(()=>{class t{constructor(t){this.locale=t}transform(e,n="mediumDate",i,r){if(null==e||""===e||e!=e)return null;try{return Z(e,n,r||this.locale,i)}catch(s){throw xt(t,s.message)}}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.soG,16))},t.\u0275pipe=i.Yjl({name:"date",type:t,pure:!0}),t})(),Nt=(()=>{class t{constructor(t,e="USD"){this._locale=t,this._defaultCurrencyCode=e}transform(e,n=this._defaultCurrencyCode,r="symbol",s,o){if(!function(t){return!(null==t||""===t||t!=t)}(e))return null;o=o||this._locale,"boolean"==typeof r&&(r=r?"symbol":"code");let a=n||this._defaultCurrencyCode;"code"!==r&&(a="symbol"===r||"symbol-narrow"===r?function(t,e,n="en"){const r=function(t){return(0,i.cg1)(t)[i.wAp.Currencies]}(n)[t]||k[t]||[],s=r[1];return"narrow"===e&&"string"==typeof s?s:r[0]||t}(a,"symbol"===r?"wide":"narrow",o):r);try{return function(t,e,n,r,s){const o=function(t,e="-"){const n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},i=t.split(";"),r=i[0],s=i[1],o=-1!==r.indexOf(lt)?r.split(lt):[r.substring(0,r.lastIndexOf(ct)+1),r.substring(r.lastIndexOf(ct)+1)],a=o[0],l=o[1]||"";n.posPre=a.substr(0,a.indexOf("#"));for(let u=0;u<l.length;u++){const t=l.charAt(u);t===ct?n.minFrac=n.maxFrac=u+1:"#"===t?n.maxFrac=u+1:n.posSuf+=t}const c=a.split(",");if(n.gSize=c[1]?c[1].length:0,n.lgSize=c[2]||c[1]?(c[2]||c[1]).length:0,s){const t=r.length-n.posPre.length-n.posSuf.length,e=s.indexOf("#");n.negPre=s.substr(0,e).replace(/'/g,""),n.negSuf=s.substr(e+t).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}(function(t,e){return(0,i.cg1)(t)[i.wAp.NumberFormats][e]}(e,T.Currency),L(e,O.MinusSign));return o.minFrac=function(t){let e;const n=k[t];return n&&(e=n[2]),"number"==typeof e?e:2}(r),o.maxFrac=o.minFrac,function(t,e,n,i,r,s,o=!1){let a="",l=!1;if(isFinite(t)){let c=function(t){let e,n,i,r,s,o=Math.abs(t)+"",a=0;for((n=o.indexOf(lt))>-1&&(o=o.replace(lt,"")),(i=o.search(/e/i))>0?(n<0&&(n=i),n+=+o.slice(i+1),o=o.substring(0,i)):n<0&&(n=o.length),i=0;o.charAt(i)===ct;i++);if(i===(s=o.length))e=[0],n=1;else{for(s--;o.charAt(s)===ct;)s--;for(n-=i,e=[],r=0;i<=s;i++,r++)e[r]=Number(o.charAt(i))}return n>22&&(e=e.splice(0,21),a=n-1,n=1),{digits:e,exponent:a,integerLen:n}}(t);o&&(c=function(t){if(0===t.digits[0])return t;const e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(0===e?t.digits.push(0,0):1===e&&t.digits.push(0),t.integerLen+=2),t}(c));let u=e.minInt,h=e.minFrac,d=e.maxFrac;if(s){const t=s.match(at);if(null===t)throw new Error(`${s} is not a valid digit info`);const e=t[1],n=t[3],i=t[5];null!=e&&(u=ut(e)),null!=n&&(h=ut(n)),null!=i?d=ut(i):null!=n&&h>d&&(d=h)}!function(t,e,n){if(e>n)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${n}).`);let i=t.digits,r=i.length-t.integerLen;const s=Math.min(Math.max(e,r),n);let o=s+t.integerLen,a=i[o];if(o>0){i.splice(Math.max(t.integerLen,o));for(let t=o;t<i.length;t++)i[t]=0}else{r=Math.max(0,r),t.integerLen=1,i.length=Math.max(1,o=s+1),i[0]=0;for(let t=1;t<o;t++)i[t]=0}if(a>=5)if(o-1<0){for(let e=0;e>o;e--)i.unshift(0),t.integerLen++;i.unshift(1),t.integerLen++}else i[o-1]++;for(;r<Math.max(0,s);r++)i.push(0);let l=0!==s;const c=e+t.integerLen,u=i.reduceRight(function(t,e,n,i){return i[n]=(e+=t)<10?e:e-10,l&&(0===i[n]&&n>=c?i.pop():l=!1),e>=10?1:0},0);u&&(i.unshift(u),t.integerLen++)}(c,h,d);let p=c.digits,f=c.integerLen;const m=c.exponent;let g=[];for(l=p.every(t=>!t);f<u;f++)p.unshift(0);for(;f<0;f++)p.unshift(0);f>0?g=p.splice(f,p.length):(g=p,p=[0]);const _=[];for(p.length>=e.lgSize&&_.unshift(p.splice(-e.lgSize,p.length).join(""));p.length>e.gSize;)_.unshift(p.splice(-e.gSize,p.length).join(""));p.length&&_.unshift(p.join("")),a=_.join(L(n,i)),g.length&&(a+=L(n,r)+g.join("")),m&&(a+=L(n,O.Exponential)+"+"+m)}else a=L(n,O.Infinity);return a=t<0&&!l?e.negPre+a+e.negSuf:e.posPre+a+e.posSuf,a}(t,o,e,O.CurrencyGroup,O.CurrencyDecimal,s).replace("\xa4",n).replace("\xa4","").trim()}(function(t){if("string"==typeof t&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if("number"!=typeof t)throw new Error(`${t} is not a number`);return t}(e),o,a,n,s)}catch(l){throw xt(t,l.message)}}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.soG,16),i.Y36(i.EJc,16))},t.\u0275pipe=i.Yjl({name:"currency",type:t,pure:!0}),t})(),Ft=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({providers:[{provide:ht,useClass:dt}]}),t})();const Lt="browser";function Mt(t){return t===Lt}function Bt(t){return"server"===t}let Vt=(()=>{class t{}return t.\u0275prov=(0,i.Yz7)({token:t,providedIn:"root",factory:()=>new Ut((0,i.LFG)(l),window)}),t})();class Ut{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const n=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=n.currentNode;for(;i;){const t=i.shadowRoot;if(t){const n=t.getElementById(e)||t.querySelector(`[name="${e}"]`);if(n)return n}i=n.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),this.attemptFocus(e))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,i=e.top+this.window.pageYOffset,r=this.offset();this.window.scrollTo(n-r[0],i-r[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=jt(this.window.history)||jt(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function jt(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class qt{}},2693:(t,e,n)=>{"use strict";n.d(e,{TP:()=>D,eN:()=>I,JF:()=>j});var i=n(1116),r=n(5366),s=n(878),o=n(8318),a=n(436),l=n(3835),c=n(9996);class u{}class h{}class d{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(t=>{const e=t.indexOf(":");if(e>0){const n=t.slice(0,e),i=n.toLowerCase(),r=t.slice(e+1).trim();this.maybeSetNormalizedName(n,i),this.headers.has(i)?this.headers.get(i).push(r):this.headers.set(i,[r])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let n=t[e];const i=e.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(i,n),this.maybeSetNormalizedName(e,i))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof d?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new d;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof d?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);const i=("a"===t.op?this.headers.get(e):void 0)||[];i.push(...n),this.headers.set(e,i);break;case"d":const r=t.value;if(r){let t=this.headers.get(e);if(!t)return;t=t.filter(t=>-1===r.indexOf(t)),0===t.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,t)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class p{encodeKey(t){return f(t)}encodeValue(t){return f(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}function f(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}function m(t){return`${t}`}class g{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new p,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,e){const n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(t=>{const i=t.indexOf("="),[r,s]=-1==i?[e.decodeKey(t),""]:[e.decodeKey(t.slice(0,i)),e.decodeValue(t.slice(i+1))],o=n.get(r)||[];o.push(s),n.set(r,o)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const n=t.fromObject[e];this.map.set(e,Array.isArray(n)?n:[n])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(n=>{const i=t[n];Array.isArray(i)?i.forEach(t=>{e.push({param:n,value:t,op:"a"})}):e.push({param:n,value:i,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(t=>e+"="+this.encoder.encodeValue(t)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new g({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(m(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let e=this.map.get(t.param)||[];const n=e.indexOf(m(t.value));-1!==n&&e.splice(n,1),e.length>0?this.map.set(t.param,e):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class _{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}keys(){return this.map.keys()}}function y(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function v(t){return"undefined"!=typeof Blob&&t instanceof Blob}function b(t){return"undefined"!=typeof FormData&&t instanceof FormData}class w{constructor(t,e,n,i){let r;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==n?n:null,r=i):r=n,r&&(this.reportProgress=!!r.reportProgress,this.withCredentials=!!r.withCredentials,r.responseType&&(this.responseType=r.responseType),r.headers&&(this.headers=r.headers),r.context&&(this.context=r.context),r.params&&(this.params=r.params)),this.headers||(this.headers=new d),this.context||(this.context=new _),this.params){const t=this.params.toString();if(0===t.length)this.urlWithParams=e;else{const n=e.indexOf("?");this.urlWithParams=e+(-1===n?"?":n<e.length-1?"&":"")+t}}else this.params=new g,this.urlWithParams=e}serializeBody(){return null===this.body?null:y(this.body)||v(this.body)||b(this.body)||"string"==typeof this.body?this.body:this.body instanceof g?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||b(this.body)?null:v(this.body)?this.body.type||null:y(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof g?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){var e;const n=t.method||this.method,i=t.url||this.url,r=t.responseType||this.responseType,s=void 0!==t.body?t.body:this.body,o=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,a=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let l=t.headers||this.headers,c=t.params||this.params;const u=null!==(e=t.context)&&void 0!==e?e:this.context;return void 0!==t.setHeaders&&(l=Object.keys(t.setHeaders).reduce((e,n)=>e.set(n,t.setHeaders[n]),l)),t.setParams&&(c=Object.keys(t.setParams).reduce((e,n)=>e.set(n,t.setParams[n]),c)),new w(n,i,s,{params:c,headers:l,context:u,reportProgress:a,responseType:r,withCredentials:o})}}var C=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}({});class E{constructor(t,e=200,n="OK"){this.headers=t.headers||new d,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class S extends E{constructor(t={}){super(t),this.type=C.ResponseHeader}clone(t={}){return new S({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class x extends E{constructor(t={}){super(t),this.type=C.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new x({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class k extends E{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function T(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let I=(()=>{class t{constructor(t){this.handler=t}request(t,e,n={}){let i;if(t instanceof w)i=t;else{let r,s;r=n.headers instanceof d?n.headers:new d(n.headers),n.params&&(s=n.params instanceof g?n.params:new g({fromObject:n.params})),i=new w(t,e,void 0!==n.body?n.body:null,{headers:r,context:n.context,params:s,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const r=(0,s.of)(i).pipe((0,a.b)(t=>this.handler.handle(t)));if(t instanceof w||"events"===n.observe)return r;const o=r.pipe((0,l.h)(t=>t instanceof x));switch(n.observe||"body"){case"body":switch(i.responseType){case"arraybuffer":return o.pipe((0,c.U)(t=>{if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return o.pipe((0,c.U)(t=>{if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return o.pipe((0,c.U)(t=>{if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return o.pipe((0,c.U)(t=>t.body))}case"response":return o;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(t,e={}){return this.request("DELETE",t,e)}get(t,e={}){return this.request("GET",t,e)}head(t,e={}){return this.request("HEAD",t,e)}jsonp(t,e){return this.request("JSONP",t,{params:(new g).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,e={}){return this.request("OPTIONS",t,e)}patch(t,e,n={}){return this.request("PATCH",t,T(n,e))}post(t,e,n={}){return this.request("POST",t,T(n,e))}put(t,e,n={}){return this.request("PUT",t,T(n,e))}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(u))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();class A{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const D=new r.OlP("HTTP_INTERCEPTORS");let R=(()=>{class t{intercept(t,e){return e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();const O=/^\)\]\}',?\n/;let P=(()=>{class t{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new o.y(e=>{const n=this.xhrFactory.build();if(n.open(t.method,t.urlWithParams),t.withCredentials&&(n.withCredentials=!0),t.headers.forEach((t,e)=>n.setRequestHeader(t,e.join(","))),t.headers.has("Accept")||n.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const e=t.detectContentTypeHeader();null!==e&&n.setRequestHeader("Content-Type",e)}if(t.responseType){const e=t.responseType.toLowerCase();n.responseType="json"!==e?e:"text"}const i=t.serializeBody();let r=null;const s=()=>{if(null!==r)return r;const e=1223===n.status?204:n.status,i=n.statusText||"OK",s=new d(n.getAllResponseHeaders()),o=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(n)||t.url;return r=new S({headers:s,status:e,statusText:i,url:o}),r},o=()=>{let{headers:i,status:r,statusText:o,url:a}=s(),l=null;204!==r&&(l=void 0===n.response?n.responseText:n.response),0===r&&(r=l?200:0);let c=r>=200&&r<300;if("json"===t.responseType&&"string"==typeof l){const t=l;l=l.replace(O,"");try{l=""!==l?JSON.parse(l):null}catch(u){l=t,c&&(c=!1,l={error:u,text:l})}}c?(e.next(new x({body:l,headers:i,status:r,statusText:o,url:a||void 0})),e.complete()):e.error(new k({error:l,headers:i,status:r,statusText:o,url:a||void 0}))},a=t=>{const{url:i}=s(),r=new k({error:t,status:n.status||0,statusText:n.statusText||"Unknown Error",url:i||void 0});e.error(r)};let l=!1;const c=i=>{l||(e.next(s()),l=!0);let r={type:C.DownloadProgress,loaded:i.loaded};i.lengthComputable&&(r.total=i.total),"text"===t.responseType&&n.responseText&&(r.partialText=n.responseText),e.next(r)},u=t=>{let n={type:C.UploadProgress,loaded:t.loaded};t.lengthComputable&&(n.total=t.total),e.next(n)};return n.addEventListener("load",o),n.addEventListener("error",a),n.addEventListener("timeout",a),n.addEventListener("abort",a),t.reportProgress&&(n.addEventListener("progress",c),null!==i&&n.upload&&n.upload.addEventListener("progress",u)),n.send(i),e.next({type:C.Sent}),()=>{n.removeEventListener("error",a),n.removeEventListener("abort",a),n.removeEventListener("load",o),n.removeEventListener("timeout",a),t.reportProgress&&(n.removeEventListener("progress",c),null!==i&&n.upload&&n.upload.removeEventListener("progress",u)),n.readyState!==n.DONE&&n.abort()}})}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(i.JF))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();const N=new r.OlP("XSRF_COOKIE_NAME"),F=new r.OlP("XSRF_HEADER_NAME");class L{}let M=(()=>{class t{constructor(t,e,n){this.doc=t,this.platform=e,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,i.Mx)(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(i.K0),r.LFG(r.Lbi),r.LFG(N))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})(),B=(()=>{class t{constructor(t,e){this.tokenService=t,this.headerName=e}intercept(t,e){const n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);const i=this.tokenService.getToken();return null===i||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,i)})),e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(L),r.LFG(F))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})(),V=(()=>{class t{constructor(t,e){this.backend=t,this.injector=e,this.chain=null}handle(t){if(null===this.chain){const t=this.injector.get(D,[]);this.chain=t.reduceRight((t,e)=>new A(t,e),this.backend)}return this.chain.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(h),r.LFG(r.zs3))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})(),U=(()=>{class t{static disable(){return{ngModule:t,providers:[{provide:B,useClass:R}]}}static withOptions(e={}){return{ngModule:t,providers:[e.cookieName?{provide:N,useValue:e.cookieName}:[],e.headerName?{provide:F,useValue:e.headerName}:[]]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({providers:[B,{provide:D,useExisting:B,multi:!0},{provide:L,useClass:M},{provide:N,useValue:"XSRF-TOKEN"},{provide:F,useValue:"X-XSRF-TOKEN"}]}),t})(),j=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({providers:[I,{provide:u,useClass:V},P,{provide:h,useExisting:P}],imports:[[U.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),t})()},5366:(t,e,n)=>{"use strict";n.d(e,{deG:()=>Cn,tb:()=>np,AFp:()=>Qd,ip1:()=>Wd,CZH:()=>Kd,hGG:()=>Wp,z2F:()=>Vp,sBO:()=>Ch,Sil:()=>pp,_Vd:()=>$u,EJc:()=>sp,SBq:()=>Ku,qLn:()=>mr,vpe:()=>wd,gxx:()=>bo,tBr:()=>Xn,XFs:()=>D,GSi:()=>Ia,OlP:()=>wn,zs3:()=>Fo,ZZ4:()=>mh,aQg:()=>_h,soG:()=>rp,LVF:()=>Zd,YKP:()=>Oh,v3s:()=>jp,h0i:()=>Rh,PXZ:()=>Np,R0b:()=>gp,FiY:()=>ti,Lbi:()=>ep,g9A:()=>tp,E6H:()=>Gd,n_E:()=>Ed,Qsj:()=>Xu,FYo:()=>Ju,JOm:()=>Er,Tiy:()=>eh,q3G:()=>tr,tp0:()=>ni,EAV:()=>Hp,Rgc:()=>Th,dDg:()=>Ep,DyG:()=>Sn,q4F:()=>ih,GfV:()=>nh,s_b:()=>Nh,ifc:()=>L,eFA:()=>Fp,G48:()=>Op,Gpc:()=>p,f3M:()=>Kn,X6Q:()=>Rp,_c5:()=>Zp,VLi:()=>kp,c2e:()=>ip,zSh:()=>Co,wAp:()=>Ac,vHH:()=>g,EiD:()=>Ji,mCW:()=>Ni,qzn:()=>Ci,JVY:()=>Si,pB0:()=>Ii,eBb:()=>ki,L6k:()=>xi,LAX:()=>Ti,cg1:()=>kc,Tjo:()=>$p,kL8:()=>Tc,yhl:()=>Ei,dqk:()=>j,sIi:()=>Wo,CqO:()=>za,QGY:()=>ja,F4k:()=>qa,zlt:()=>$h,RDi:()=>It,AaK:()=>u,z3N:()=>wi,qOj:()=>Bo,TTD:()=>bt,_Bn:()=>zu,xp6:()=>vs,uIk:()=>ia,Gre:()=>Yl,ekj:()=>wl,Suo:()=>Fd,Xpm:()=>J,lG2:()=>ot,Yz7:()=>w,cJS:()=>C,oAB:()=>it,Yjl:()=>at,Y36:()=>Da,_UZ:()=>La,BQk:()=>Ba,ynx:()=>Ma,qZA:()=>Fa,TgZ:()=>Na,EpF:()=>Ua,n5z:()=>hn,Ikx:()=>wc,LFG:()=>Yn,$8M:()=>pn,NdJ:()=>Ha,CRH:()=>Ld,O4$:()=>ke,oxw:()=>Wa,ALo:()=>dd,lcZ:()=>pd,xi3:()=>fd,Dn7:()=>md,Hsn:()=>Ja,F$t:()=>Qa,Q6J:()=>Oa,s9C:()=>Xa,VKq:()=>Qh,WLB:()=>Jh,iGM:()=>Pd,MAs:()=>Ea,evT:()=>br,Jf7:()=>vr,CHM:()=>Wt,LSH:()=>ir,kYT:()=>rt,Udp:()=>bl,WFA:()=>Ga,d8E:()=>Cc,YNc:()=>Ca,_uU:()=>Ml,Oqu:()=>Bl,hij:()=>Vl,AsE:()=>Ul,Gf:()=>Nd});var i=n(5959),r=n(7570),s=n(8318),o=n(1906),a=n(1055);function l(t){for(let e in t)if(t[e]===l)return e;throw Error("Could not find renamed property on target object.")}function c(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function u(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(u).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function h(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const d=l({__forward_ref__:l});function p(t){return t.__forward_ref__=p,t.toString=function(){return u(this())},t}function f(t){return m(t)?t():t}function m(t){return"function"==typeof t&&t.hasOwnProperty(d)&&t.__forward_ref__===p}class g extends Error{constructor(t,e){super(function(t,e){return`${t?`NG0${t}: `:""}${e}`}(t,e)),this.code=t}}function _(t){return"string"==typeof t?t:null==t?"":String(t)}function y(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():_(t)}function v(t,e){const n=e?` in ${e}`:"";throw new g("201",`No provider for ${y(t)} found${n}`)}function b(t,e,n,i){throw new Error(`ASSERTION ERROR: ${t}`+(null==i?"":` [Expected=> ${n} ${i} ${e} <=Actual]`))}function w(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function C(t){return{providers:t.providers||[],imports:t.imports||[]}}function E(t){return S(t,k)||S(t,I)}function S(t,e){return t.hasOwnProperty(e)?t[e]:null}function x(t){return t&&(t.hasOwnProperty(T)||t.hasOwnProperty(A))?t[T]:null}const k=l({"\u0275prov":l}),T=l({"\u0275inj":l}),I=l({ngInjectableDef:l}),A=l({ngInjectorDef:l});var D=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});let R;function O(t){const e=R;return R=t,e}function P(t,e,n){const i=E(t);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:n&D.Optional?null:void 0!==e?e:void v(u(t),"Injector")}function N(t){return{toString:t}.toString()}var F=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),L=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const M="undefined"!=typeof globalThis&&globalThis,B="undefined"!=typeof window&&window,V="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,U="undefined"!=typeof global&&global,j=M||U||B||V,q={},z=[],H=l({"\u0275cmp":l}),G=l({"\u0275dir":l}),$=l({"\u0275pipe":l}),Z=l({"\u0275mod":l}),Y=l({"\u0275loc":l}),W=l({"\u0275fac":l}),K=l({__NG_ELEMENT_ID__:l});let Q=0;function J(t){return N(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===F.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||z,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||L.Emulated,id:"c",styles:t.styles||z,_:null,setInput:null,schemas:t.schemas||null,tView:null},i=t.directives,r=t.features,s=t.pipes;return n.id+=Q++,n.inputs=st(t.inputs,e),n.outputs=st(t.outputs),r&&r.forEach(t=>t(n)),n.directiveDefs=i?()=>("function"==typeof i?i():i).map(tt):null,n.pipeDefs=s?()=>("function"==typeof s?s():s).map(et):null,n})}function X(t,e,n){const i=t.\u0275cmp;i.directiveDefs=()=>e.map(tt),i.pipeDefs=()=>n.map(et)}function tt(t){return lt(t)||function(t){return t[G]||null}(t)}function et(t){return function(t){return t[$]||null}(t)}const nt={};function it(t){return N(()=>{const e={type:t.type,bootstrap:t.bootstrap||z,declarations:t.declarations||z,imports:t.imports||z,exports:t.exports||z,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&(nt[t.id]=t.type),e})}function rt(t,e){return N(()=>{const n=ct(t,!0);n.declarations=e.declarations||z,n.imports=e.imports||z,n.exports=e.exports||z})}function st(t,e){if(null==t)return q;const n={};for(const i in t)if(t.hasOwnProperty(i)){let r=t[i],s=r;Array.isArray(r)&&(s=r[1],r=r[0]),n[r]=i,e&&(e[r]=s)}return n}const ot=J;function at(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function lt(t){return t[H]||null}function ct(t,e){const n=t[Z]||null;if(!n&&!0===e)throw new Error(`Type ${u(t)} does not have '\u0275mod' property.`);return n}const ut=20,ht=10;function dt(t){return Array.isArray(t)&&"object"==typeof t[1]}function pt(t){return Array.isArray(t)&&!0===t[1]}function ft(t){return 0!=(8&t.flags)}function mt(t){return 2==(2&t.flags)}function gt(t){return 1==(1&t.flags)}function _t(t){return null!==t.template}function yt(t,e){return t.hasOwnProperty(W)?t[W]:null}class vt{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function bt(){return wt}function wt(t){return t.type.prototype.ngOnChanges&&(t.setInput=Et),Ct}function Ct(){const t=St(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===q)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function Et(t,e,n,i){const r=St(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:q,current:null}),s=r.current||(r.current={}),o=r.previous,a=this.declaredInputs[n],l=o[a];s[a]=new vt(l&&l.currentValue,e,o===q),t[i]=e}function St(t){return t.__ngSimpleChanges__||null}bt.ngInherit=!0;const xt="http://www.w3.org/2000/svg",kt="http://www.w3.org/1998/MathML/";let Tt;function It(t){Tt=t}function At(){return void 0!==Tt?Tt:"undefined"!=typeof document?document:void 0}function Dt(t){return!!t.listen}const Rt={createRenderer:(t,e)=>At()};function Ot(t){for(;Array.isArray(t);)t=t[0];return t}function Pt(t,e){return Ot(e[t])}function Nt(t,e){return Ot(e[t.index])}function Ft(t,e){return t.data[e]}function Lt(t,e){return t[e]}function Mt(t,e){const n=e[t];return dt(n)?n:n[0]}function Bt(t){return 4==(4&t[2])}function Vt(t){return 128==(128&t[2])}function Ut(t,e){return null==e?null:t[e]}function jt(t){t[18]=0}function qt(t,e){t[5]+=e;let n=t,i=t[3];for(;null!==i&&(1===e&&1===n[5]||-1===e&&0===n[5]);)i[5]+=e,n=i,i=i[3]}const zt={lFrame:ve(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Ht(){return zt.bindingsEnabled}function Gt(){zt.bindingsEnabled=!0}function $t(){zt.bindingsEnabled=!1}function Zt(){return zt.lFrame.lView}function Yt(){return zt.lFrame.tView}function Wt(t){return zt.lFrame.contextLView=t,t[8]}function Kt(){let t=Qt();for(;null!==t&&64===t.type;)t=t.parent;return t}function Qt(){return zt.lFrame.currentTNode}function Jt(){const t=zt.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Xt(t,e){const n=zt.lFrame;n.currentTNode=t,n.isParent=e}function te(){return zt.lFrame.isParent}function ee(){zt.lFrame.isParent=!1}function ne(){return zt.isInCheckNoChangesMode}function ie(t){zt.isInCheckNoChangesMode=t}function re(){const t=zt.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function se(){return zt.lFrame.bindingIndex}function oe(t){return zt.lFrame.bindingIndex=t}function ae(){return zt.lFrame.bindingIndex++}function le(t){const e=zt.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function ce(t){zt.lFrame.inI18n=t}function ue(t,e){const n=zt.lFrame;n.bindingIndex=n.bindingRootIndex=t,he(e)}function he(t){zt.lFrame.currentDirectiveIndex=t}function de(t){const e=zt.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}function pe(){return zt.lFrame.currentQueryIndex}function fe(t){zt.lFrame.currentQueryIndex=t}function me(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function ge(t,e,n){if(n&D.SkipSelf){let i=e,r=t;for(;i=i.parent,!(null!==i||n&D.Host||(i=me(r),null===i)||(r=r[15],10&i.type)););if(null===i)return!1;e=i,t=r}const i=zt.lFrame=ye();return i.currentTNode=e,i.lView=t,!0}function _e(t){const e=ye(),n=t[1];zt.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function ye(){const t=zt.lFrame,e=null===t?null:t.child;return null===e?ve(t):e}function ve(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function be(){const t=zt.lFrame;return zt.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const we=be;function Ce(){const t=be();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Ee(){return zt.lFrame.selectedIndex}function Se(t){zt.lFrame.selectedIndex=t}function xe(){const t=zt.lFrame;return Ft(t.tView,t.selectedIndex)}function ke(){zt.lFrame.currentNamespace=xt}function Te(){zt.lFrame.currentNamespace=kt}function Ie(){zt.lFrame.currentNamespace=null}function Ae(t,e){for(let n=e.directiveStart,i=e.directiveEnd;n<i;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:i,ngAfterContentChecked:r,ngAfterViewInit:s,ngAfterViewChecked:o,ngOnDestroy:a}=e;i&&(t.contentHooks||(t.contentHooks=[])).push(-n,i),r&&((t.contentHooks||(t.contentHooks=[])).push(n,r),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,r)),s&&(t.viewHooks||(t.viewHooks=[])).push(-n,s),o&&((t.viewHooks||(t.viewHooks=[])).push(n,o),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,o)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(n,a)}}function De(t,e,n){Pe(t,e,3,n)}function Re(t,e,n,i){(3&t[2])===n&&Pe(t,e,n,i)}function Oe(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function Pe(t,e,n,i){const r=null!=i?i:-1,s=e.length-1;let o=0;for(let a=void 0!==i?65535&t[18]:0;a<s;a++)if("number"==typeof e[a+1]){if(o=e[a],null!=i&&o>=i)break}else e[a]<0&&(t[18]+=65536),(o<r||-1==r)&&(Ne(t,n,e,a),t[18]=(4294901760&t[18])+a+2),a++}function Ne(t,e,n,i){const r=n[i]<0,s=n[i+1],o=t[r?-n[i]:n[i]];if(r){if(t[2]>>11<t[18]>>16&&(3&t[2])===e){t[2]+=2048;try{s.call(o)}finally{}}}else try{s.call(o)}finally{}}const Fe=-1;class Le{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function Me(t,e,n){const i=Dt(t);let r=0;for(;r<n.length;){const s=n[r];if("number"==typeof s){if(0!==s)break;r++;const o=n[r++],a=n[r++],l=n[r++];i?t.setAttribute(e,a,l,o):e.setAttributeNS(o,a,l)}else{const o=s,a=n[++r];Ve(o)?i&&t.setProperty(e,o,a):i?t.setAttribute(e,o,a):e.setAttribute(o,a),r++}}return r}function Be(t){return 3===t||4===t||6===t}function Ve(t){return 64===t.charCodeAt(0)}function Ue(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let i=0;i<e.length;i++){const r=e[i];"number"==typeof r?n=r:0===n||je(t,n,r,null,-1===n||2===n?e[++i]:null)}}return t}function je(t,e,n,i,r){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const n=t[s++];if("number"==typeof n){if(n===e){o=-1;break}if(n>e){o=s-1;break}}}for(;s<t.length;){const e=t[s];if("number"==typeof e)break;if(e===n){if(null===i)return void(null!==r&&(t[s+1]=r));if(i===t[s+1])return void(t[s+2]=r)}s++,null!==i&&s++,null!==r&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==i&&t.splice(s++,0,i),null!==r&&t.splice(s++,0,r)}function qe(t){return t!==Fe}function ze(t){return 32767&t}function He(t,e){let n=t>>16,i=e;for(;n>0;)i=i[15],n--;return i}let Ge=!0;function $e(t){const e=Ge;return Ge=t,e}let Ze=0;function Ye(t,e){const n=Ke(t,e);if(-1!==n)return n;const i=e[1];i.firstCreatePass&&(t.injectorIndex=e.length,We(i.data,t),We(e,null),We(i.blueprint,null));const r=Qe(t,e),s=t.injectorIndex;if(qe(r)){const t=ze(r),n=He(r,e),i=n[1].data;for(let r=0;r<8;r++)e[s+r]=n[t+r]|i[t+r]}return e[s+8]=r,s}function We(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Ke(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Qe(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,i=null,r=e;for(;null!==r;){const t=r[1],e=t.type;if(i=2===e?t.declTNode:1===e?r[6]:null,null===i)return Fe;if(n++,r=r[15],-1!==i.injectorIndex)return i.injectorIndex|n<<16}return Fe}function Je(t,e,n){!function(t,e,n){let i;"string"==typeof n?i=n.charCodeAt(0)||0:n.hasOwnProperty(K)&&(i=n[K]),null==i&&(i=n[K]=Ze++);const r=255&i;e.data[t+(r>>5)]|=1<<r}(t,e,n)}function Xe(t,e,n){if(n&D.Optional)return t;v(e,"NodeInjector")}function tn(t,e,n,i){if(n&D.Optional&&void 0===i&&(i=null),0==(n&(D.Self|D.Host))){const r=t[9],s=O(void 0);try{return r?r.get(e,i,n&D.Optional):P(e,i,n&D.Optional)}finally{O(s)}}return Xe(i,e,n)}function en(t,e,n,i=D.Default,r){if(null!==t){const s=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(K)?t[K]:void 0;return"number"==typeof e?e>=0?255&e:rn:e}(n);if("function"==typeof s){if(!ge(e,t,i))return i&D.Host?Xe(r,n,i):tn(e,n,i,r);try{const t=s(i);if(null!=t||i&D.Optional)return t;v(n)}finally{we()}}else if("number"==typeof s){let r=null,o=Ke(t,e),a=Fe,l=i&D.Host?e[16][6]:null;for((-1===o||i&D.SkipSelf)&&(a=-1===o?Qe(t,e):e[o+8],a!==Fe&&cn(i,!1)?(r=e[1],o=ze(a),e=He(a,e)):o=-1);-1!==o;){const t=e[1];if(ln(s,o,t.data)){const t=sn(o,e,n,r,i,l);if(t!==nn)return t}a=e[o+8],a!==Fe&&cn(i,e[1].data[o+8]===l)&&ln(s,o,e)?(r=t,o=ze(a),e=He(a,e)):o=-1}}}return tn(e,n,i,r)}const nn={};function rn(){return new un(Kt(),Zt())}function sn(t,e,n,i,r,s){const o=e[1],a=o.data[t+8],l=on(a,o,n,null==i?mt(a)&&Ge:i!=o&&0!=(3&a.type),r&D.Host&&s===a);return null!==l?an(e,o,l,a):nn}function on(t,e,n,i,r){const s=t.providerIndexes,o=e.data,a=1048575&s,l=t.directiveStart,c=s>>20,u=r?a+c:t.directiveEnd;for(let h=i?a:a+c;h<u;h++){const t=o[h];if(h<l&&n===t||h>=l&&t.type===n)return h}if(r){const t=o[l];if(t&&_t(t)&&t.type===n)return l}return null}function an(t,e,n,i){let r=t[n];const s=e.data;if(r instanceof Le){const o=r;o.resolving&&function(t,e){throw new g("200",`Circular dependency in DI detected for ${t}`)}(y(s[n]));const a=$e(o.canSeeViewProviders);o.resolving=!0;const l=o.injectImpl?O(o.injectImpl):null;ge(t,i,D.Default);try{r=t[n]=o.factory(void 0,s,t,i),e.firstCreatePass&&n>=i.directiveStart&&function(t,e,n){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:s}=e.type.prototype;if(i){const i=wt(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,i),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,i)}r&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,r),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s))}(n,s[n],e)}finally{null!==l&&O(l),$e(a),o.resolving=!1,we()}}return r}function ln(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function cn(t,e){return!(t&D.Self||t&D.Host&&e)}class un{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return en(this._tNode,this._lView,t,void 0,e)}}function hn(t){return N(()=>{const e=t.prototype.constructor,n=e[W]||dn(e),i=Object.prototype;let r=Object.getPrototypeOf(t.prototype).constructor;for(;r&&r!==i;){const t=r[W]||dn(r);if(t&&t!==n)return t;r=Object.getPrototypeOf(r)}return t=>new t})}function dn(t){return m(t)?()=>{const e=dn(f(t));return e&&e()}:yt(t)}function pn(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let i=0;for(;i<t;){const r=n[i];if(Be(r))break;if(0===r)i+=2;else if("number"==typeof r)for(i++;i<t&&"string"==typeof n[i];)i++;else{if(r===e)return n[i+1];i+=2}}}return null}(Kt(),t)}const fn="__annotations__",mn="__parameters__",gn="__prop__metadata__";function _n(t,e,n,i,r){return N(()=>{const s=yn(e);function o(...t){if(this instanceof o)return s.call(this,...t),this;const e=new o(...t);return function(n){return r&&r(n,...t),(n.hasOwnProperty(fn)?n[fn]:Object.defineProperty(n,fn,{value:[]})[fn]).push(e),i&&i(n),n}}return n&&(o.prototype=Object.create(n.prototype)),o.prototype.ngMetadataName=t,o.annotationCls=o,o})}function yn(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}function vn(t,e,n){return N(()=>{const i=yn(e);function r(...t){if(this instanceof r)return i.apply(this,t),this;const e=new r(...t);return n.annotation=e,n;function n(t,n,i){const r=t.hasOwnProperty(mn)?t[mn]:Object.defineProperty(t,mn,{value:[]})[mn];for(;r.length<=i;)r.push(null);return(r[i]=r[i]||[]).push(e),t}}return n&&(r.prototype=Object.create(n.prototype)),r.prototype.ngMetadataName=t,r.annotationCls=r,r})}const bn=function(){return vn("Attribute",t=>({attributeName:t,__NG_ELEMENT_ID__:()=>pn(t)}))}();class wn{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=w({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Cn=new wn("AnalyzeForEntryComponents");function En(){const t=j.ng;if(!t||!t.\u0275compilerFacade)throw new Error("Angular JIT compilation failed: '@angular/compiler' not loaded!\n  - JIT compilation is discouraged for production use-cases! Consider AOT mode instead.\n  - Did you bootstrap using '@angular/platform-browser-dynamic' or '@angular/platform-server'?\n  - Alternatively provide the compiler with 'import \"@angular/compiler\";' before bootstrapping.");return t.\u0275compilerFacade}const Sn=Function;function xn(t){return"function"==typeof t}function kn(t,e){void 0===e&&(e=t);for(let n=0;n<t.length;n++){let i=t[n];Array.isArray(i)?(e===t&&(e=t.slice(0,n)),kn(i,e)):e!==t&&e.push(i)}return e}function Tn(t,e){t.forEach(t=>Array.isArray(t)?Tn(t,e):e(t))}function In(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function An(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Dn(t,e){const n=[];for(let i=0;i<t;i++)n.push(e);return n}function Rn(t,e,n){let i=Pn(t,e);return i>=0?t[1|i]=n:(i=~i,function(t,e,n,i){let r=t.length;if(r==e)t.push(n,i);else if(1===r)t.push(i,t[0]),t[0]=n;else{for(r--,t.push(t[r-1],t[r]);r>e;)t[r]=t[r-2],r--;t[e]=n,t[e+1]=i}}(t,i,e,n)),i}function On(t,e){const n=Pn(t,e);if(n>=0)return t[1|n]}function Pn(t,e){return function(t,e,n){let i=0,r=t.length>>1;for(;r!==i;){const n=i+(r-i>>1),s=t[n<<1];if(e===s)return n<<1;s>e?r=n:i=n+1}return~(r<<1)}(t,e)}const Nn=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*(arguments|(?:[^()]+\(\[\],)?[^()]+\(arguments\))\)/,Fn=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{/,Ln=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(/,Mn=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(\)\s*{\s*super\(\.\.\.arguments\)/;class Bn{constructor(t){this._reflect=t||j.Reflect}isReflectionEnabled(){return!0}factory(t){return(...e)=>new t(...e)}_zipTypesAndAnnotations(t,e){let n;n=Dn(void 0===t?e.length:t.length);for(let i=0;i<n.length;i++)n[i]=void 0===t?[]:t[i]&&t[i]!=Object?[t[i]]:[],e&&null!=e[i]&&(n[i]=n[i].concat(e[i]));return n}_ownParameters(t,e){if(n=t.toString(),Nn.test(n)||Mn.test(n)||Fn.test(n)&&!Ln.test(n))return null;var n;if(t.parameters&&t.parameters!==e.parameters)return t.parameters;const i=t.ctorParameters;if(i&&i!==e.ctorParameters){const t="function"==typeof i?i():i,e=t.map(t=>t&&t.type),n=t.map(t=>t&&Vn(t.decorators));return this._zipTypesAndAnnotations(e,n)}const r=t.hasOwnProperty(mn)&&t[mn],s=this._reflect&&this._reflect.getOwnMetadata&&this._reflect.getOwnMetadata("design:paramtypes",t);return s||r?this._zipTypesAndAnnotations(s,r):Dn(t.length)}parameters(t){if(!xn(t))return[];const e=Un(t);let n=this._ownParameters(t,e);return n||e===Object||(n=this.parameters(e)),n||[]}_ownAnnotations(t,e){if(t.annotations&&t.annotations!==e.annotations){let e=t.annotations;return"function"==typeof e&&e.annotations&&(e=e.annotations),e}return t.decorators&&t.decorators!==e.decorators?Vn(t.decorators):t.hasOwnProperty(fn)?t[fn]:null}annotations(t){if(!xn(t))return[];const e=Un(t),n=this._ownAnnotations(t,e)||[];return(e!==Object?this.annotations(e):[]).concat(n)}_ownPropMetadata(t,e){if(t.propMetadata&&t.propMetadata!==e.propMetadata){let e=t.propMetadata;return"function"==typeof e&&e.propMetadata&&(e=e.propMetadata),e}if(t.propDecorators&&t.propDecorators!==e.propDecorators){const e=t.propDecorators,n={};return Object.keys(e).forEach(t=>{n[t]=Vn(e[t])}),n}return t.hasOwnProperty(gn)?t[gn]:null}propMetadata(t){if(!xn(t))return{};const e=Un(t),n={};if(e!==Object){const t=this.propMetadata(e);Object.keys(t).forEach(e=>{n[e]=t[e]})}const i=this._ownPropMetadata(t,e);return i&&Object.keys(i).forEach(t=>{const e=[];n.hasOwnProperty(t)&&e.push(...n[t]),e.push(...i[t]),n[t]=e}),n}ownPropMetadata(t){return xn(t)&&this._ownPropMetadata(t,Un(t))||{}}hasLifecycleHook(t,e){return t instanceof Sn&&e in t.prototype}guards(t){return{}}getter(t){return new Function("o","return o."+t+";")}setter(t){return new Function("o","v","return o."+t+" = v;")}method(t){return new Function("o","args",`if (!o.${t}) throw new Error('"${t}" is undefined');\n        return o.${t}.apply(o, args);`)}importUri(t){return"object"==typeof t&&t.filePath?t.filePath:`./${u(t)}`}resourceUri(t){return`./${u(t)}`}resolveIdentifier(t,e,n,i){return i}resolveEnum(t,e){return t[e]}}function Vn(t){return t?t.map(t=>new(0,t.type.annotationCls)(...t.args?t.args:[])):[]}function Un(t){const e=t.prototype?Object.getPrototypeOf(t.prototype):null;return(e?e.constructor:null)||Object}const jn={},qn=/\n/gm,zn="__source",Hn=l({provide:String,useValue:l});let Gn;function $n(t){const e=Gn;return Gn=t,e}function Zn(t,e=D.Default){if(void 0===Gn)throw new Error("inject() must be called from an injection context");return null===Gn?P(t,void 0,e):Gn.get(t,e&D.Optional?null:void 0,e)}function Yn(t,e=D.Default){return(R||Zn)(f(t),e)}function Wn(t){throw new Error("invalid")}const Kn=Yn;function Qn(t){const e=[];for(let n=0;n<t.length;n++){const i=f(t[n]);if(Array.isArray(i)){if(0===i.length)throw new Error("Arguments array must have arguments.");let t,n=D.Default;for(let e=0;e<i.length;e++){const r=i[e],s=r.__NG_DI_FLAG__;"number"==typeof s?-1===s?t=r.token:n|=s:t=r}e.push(Yn(t,n))}else e.push(Yn(i))}return e}function Jn(t,e){return t.__NG_DI_FLAG__=e,t.prototype.__NG_DI_FLAG__=e,t}const Xn=Jn(vn("Inject",t=>({token:t})),-1),ti=Jn(vn("Optional"),8),ei=Jn(vn("Self"),2),ni=Jn(vn("SkipSelf"),4),ii=Jn(vn("Host"),1);let ri,si,oi=null;function ai(t){return li((oi=oi||new Bn).parameters(t))}function li(t){return t.map(t=>function(t){const e={token:null,attribute:null,host:!1,optional:!1,self:!1,skipSelf:!1};if(Array.isArray(t)&&t.length>0)for(let n=0;n<t.length;n++){const i=t[n];if(void 0===i)continue;const r=Object.getPrototypeOf(i);if(i instanceof ti||"Optional"===r.ngMetadataName)e.optional=!0;else if(i instanceof ni||"SkipSelf"===r.ngMetadataName)e.skipSelf=!0;else if(i instanceof ei||"Self"===r.ngMetadataName)e.self=!0;else if(i instanceof ii||"Host"===r.ngMetadataName)e.host=!0;else if(i instanceof Xn)e.token=i.token;else if(i instanceof bn){if(void 0===i.attributeName)throw new Error("Attribute name must be defined.");e.attribute=i.attributeName}else e.token=i}else e.token=void 0===t||Array.isArray(t)&&0===t.length?null:t;return e}(t))}function ci(){if(void 0===ri&&(ri=null,j.trustedTypes))try{ri=j.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(t){}return ri}function ui(t){var e;return(null===(e=ci())||void 0===e?void 0:e.createHTML(t))||t}function hi(){if(void 0===si&&(si=null,j.trustedTypes))try{si=j.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(t){}return si}function di(t){var e;return(null===(e=hi())||void 0===e?void 0:e.createHTML(t))||t}function pi(t){var e;return(null===(e=hi())||void 0===e?void 0:e.createScript(t))||t}function fi(t){var e;return(null===(e=hi())||void 0===e?void 0:e.createScriptURL(t))||t}class mi{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class gi extends mi{getTypeName(){return"HTML"}}class _i extends mi{getTypeName(){return"Style"}}class yi extends mi{getTypeName(){return"Script"}}class vi extends mi{getTypeName(){return"URL"}}class bi extends mi{getTypeName(){return"ResourceURL"}}function wi(t){return t instanceof mi?t.changingThisBreaksApplicationSecurity:t}function Ci(t,e){const n=Ei(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}function Ei(t){return t instanceof mi&&t.getTypeName()||null}function Si(t){return new gi(t)}function xi(t){return new _i(t)}function ki(t){return new yi(t)}function Ti(t){return new vi(t)}function Ii(t){return new bi(t)}function Ai(t){const e=new Ri(t);return function(){try{return!!(new window.DOMParser).parseFromString(ui(""),"text/html")}catch(t){return!1}}()?new Di(e):e}class Di{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(ui(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch(e){return null}}}class Ri{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=ui(t),e;const n=this.inertDocument.createElement("body");return n.innerHTML=ui(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let i=e.length-1;0<i;i--){const n=e.item(i).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const Oi=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Pi=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Ni(t){return(t=String(t)).match(Oi)||t.match(Pi)?t:"unsafe:"+t}function Fi(t){return(t=String(t)).split(",").map(t=>Ni(t.trim())).join(", ")}function Li(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function Mi(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const Bi=Li("area,br,col,hr,img,wbr"),Vi=Li("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Ui=Li("rp,rt"),ji=Mi(Ui,Vi),qi=Mi(Bi,Mi(Vi,Li("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Mi(Ui,Li("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ji),zi=Li("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Hi=Li("srcset"),Gi=Mi(zi,Hi,Li("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Li("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),$i=Li("script,style,template");class Zi{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!qi.hasOwnProperty(e))return this.sanitizedSomething=!0,!$i.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let i=0;i<n.length;i++){const t=n.item(i),e=t.name,r=e.toLowerCase();if(!Gi.hasOwnProperty(r)){this.sanitizedSomething=!0;continue}let s=t.value;zi[r]&&(s=Ni(s)),Hi[r]&&(s=Fi(s)),this.buf.push(" ",e,'="',Ki(s),'"')}return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();qi.hasOwnProperty(e)&&!Bi.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(Ki(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const Yi=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Wi=/([^\#-~ |!])/g;function Ki(t){return t.replace(/&/g,"&amp;").replace(Yi,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(Wi,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Qi;function Ji(t,e){let n=null;try{Qi=Qi||Ai(t);let i=e?String(e):"";n=Qi.getInertBodyElement(i);let r=5,s=i;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,i=s,s=n.innerHTML,n=Qi.getInertBodyElement(i)}while(i!==s);return ui((new Zi).sanitizeChildren(Xi(n)||n))}finally{if(n){const t=Xi(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function Xi(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var tr=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function er(t){const e=cr();return e?di(e.sanitize(tr.HTML,t)||""):Ci(t,"HTML")?di(wi(t)):Ji(At(),_(t))}function nr(t){const e=cr();return e?e.sanitize(tr.STYLE,t)||"":Ci(t,"Style")?wi(t):_(t)}function ir(t){const e=cr();return e?e.sanitize(tr.URL,t)||"":Ci(t,"URL")?wi(t):Ni(_(t))}function rr(t){const e=cr();if(e)return fi(e.sanitize(tr.RESOURCE_URL,t)||"");if(Ci(t,"ResourceURL"))return fi(wi(t));throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)")}function sr(t){const e=cr();if(e)return pi(e.sanitize(tr.SCRIPT,t)||"");if(Ci(t,"Script"))return pi(wi(t));throw new Error("unsafe value used in a script context")}function or(t){return ui(t[0])}function ar(t){return function(t){var e;return(null===(e=ci())||void 0===e?void 0:e.createScriptURL(t))||t}(t[0])}function lr(t,e,n){return function(t,e){return"src"===e&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===e&&("base"===t||"link"===t)?rr:ir}(e,n)(t)}function cr(){const t=Zt();return t&&t[12]}function ur(t,e){t.__ngContext__=e}function hr(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function dr(t){return t.ngDebugContext}function pr(t){return t.ngOriginalError}function fr(t,...e){t.error(...e)}class mr{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),i=function(t){return t.ngErrorLogger||fr}(t);i(this._console,"ERROR",t),e&&i(this._console,"ORIGINAL ERROR",e),n&&i(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?dr(t)?dr(t):this._findContext(pr(t)):null}_findOriginalError(t){let e=pr(t);for(;e&&pr(e);)e=pr(e);return e}}const gr=/^>|^->|<!--|-->|--!>|<!-$/g,_r=/(<|>)/,yr=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(j))();function vr(t){return t.ownerDocument.defaultView}function br(t){return t.ownerDocument}function wr(t){return t.ownerDocument.body}function Cr(t){return t instanceof Function?t():t}var Er=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});let Sr;function xr(t,e){return Sr(t,e)}function kr(t){const e=t[3];return pt(e)?e[3]:e}function Tr(t){return Ar(t[13])}function Ir(t){return Ar(t[4])}function Ar(t){for(;null!==t&&!pt(t);)t=t[4];return t}function Dr(t,e,n,i,r){if(null!=i){let s,o=!1;pt(i)?s=i:dt(i)&&(o=!0,i=i[0]);const a=Ot(i);0===t&&null!==n?null==r?qr(e,n,a):jr(e,n,a,r||null,!0):1===t&&null!==n?jr(e,n,a,r||null,!0):2===t?ts(e,a,o):3===t&&e.destroyNode(a),null!=s&&function(t,e,n,i,r){const s=n[7];s!==Ot(n)&&Dr(e,t,i,s,r);for(let o=ht;o<n.length;o++){const r=n[o];ns(r[1],r,t,e,i,s)}}(e,t,s,n,r)}}function Rr(t,e){return Dt(t)?t.createText(e):t.createTextNode(e)}function Or(t,e,n){Dt(t)?t.setValue(e,n):e.textContent=n}function Pr(t,e){return t.createComment(function(t){return t.replace(gr,t=>t.replace(_r,"\u200b$1\u200b"))}(e))}function Nr(t,e,n){return Dt(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function Fr(t,e){const n=t[9],i=n.indexOf(e),r=e[3];1024&e[2]&&(e[2]&=-1025,qt(r,-1)),n.splice(i,1)}function Lr(t,e){if(t.length<=ht)return;const n=ht+e,i=t[n];if(i){const s=i[17];null!==s&&s!==t&&Fr(s,i),e>0&&(t[n-1][4]=i[4]);const o=An(t,ht+e);ns(i[1],r=i,r[11],2,null,null),r[0]=null,r[6]=null;const a=o[19];null!==a&&a.detachView(o[1]),i[3]=null,i[4]=null,i[2]&=-129}var r;return i}function Mr(t,e){if(!(256&e[2])){const n=e[11];Dt(n)&&n.destroyNode&&ns(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return Br(t[1],t);for(;e;){let n=null;if(dt(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)dt(e)&&Br(e[1],e),e=e[3];null===e&&(e=t),dt(e)&&Br(e[1],e),n=e&&e[4]}e=n}}(e)}}function Br(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let i=0;i<n.length;i+=2){const t=e[n[i]];if(!(t instanceof Le)){const e=n[i+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2){const i=t[e[n]],r=e[n+1];try{r.call(i)}finally{}}else try{e.call(t)}finally{}}}}(t,e),function(t,e){const n=t.cleanup,i=e[7];let r=-1;if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const t=n[s+1],o="function"==typeof t?t(e):Ot(e[t]),a=i[r=n[s+2]],l=n[s+3];"boolean"==typeof l?o.removeEventListener(n[s],a,l):l>=0?i[r=l]():i[r=-l].unsubscribe(),s+=2}else{const t=i[r=n[s+1]];n[s].call(t)}if(null!==i){for(let t=r+1;t<i.length;t++)(0,i[t])();e[7]=null}}(t,e),1===e[1].type&&Dt(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&pt(e[3])){n!==e[3]&&Fr(n,e);const i=e[19];null!==i&&i.detachView(t)}}}function Vr(t,e,n){return Ur(t,e.parent,n)}function Ur(t,e,n){let i=e;for(;null!==i&&40&i.type;)i=(e=i).parent;if(null===i)return n[0];if(2&i.flags){const e=t.data[i.directiveStart].encapsulation;if(e===L.None||e===L.Emulated)return null}return Nt(i,n)}function jr(t,e,n,i,r){Dt(t)?t.insertBefore(e,n,i,r):e.insertBefore(n,i,r)}function qr(t,e,n){Dt(t)?t.appendChild(e,n):e.appendChild(n)}function zr(t,e,n,i,r){null!==i?jr(t,e,n,i,r):qr(t,e,n)}function Hr(t,e){return Dt(t)?t.parentNode(e):e.parentNode}function Gr(t,e,n){return Yr(t,e,n)}function $r(t,e,n){return 40&t.type?Nt(t,n):null}let Zr,Yr=$r;function Wr(t,e){Yr=t,Zr=e}function Kr(t,e,n,i){const r=Vr(t,i,e),s=e[11],o=Gr(i.parent||e[6],i,e);if(null!=r)if(Array.isArray(n))for(let a=0;a<n.length;a++)zr(s,r,n[a],o,!1);else zr(s,r,n,o,!1);void 0!==Zr&&Zr(s,i,e,n,r)}function Qr(t,e){if(null!==e){const n=e.type;if(3&n)return Nt(e,t);if(4&n)return Xr(-1,t[e.index]);if(8&n){const n=e.child;if(null!==n)return Qr(t,n);{const n=t[e.index];return pt(n)?Xr(-1,n):Ot(n)}}if(32&n)return xr(e,t)()||Ot(t[e.index]);{const n=Jr(t,e);return null!==n?Array.isArray(n)?n[0]:Qr(kr(t[16]),n):Qr(t,e.next)}}return null}function Jr(t,e){return null!==e?t[16][6].projection[e.projection]:null}function Xr(t,e){const n=ht+t+1;if(n<e.length){const t=e[n],i=t[1].firstChild;if(null!==i)return Qr(t,i)}return e[7]}function ts(t,e,n){const i=Hr(t,e);i&&function(t,e,n,i){Dt(t)?t.removeChild(e,n,i):e.removeChild(n)}(t,i,e,n)}function es(t,e,n,i,r,s,o){for(;null!=n;){const a=i[n.index],l=n.type;if(o&&0===e&&(a&&ur(Ot(a),i),n.flags|=4),64!=(64&n.flags))if(8&l)es(t,e,n.child,i,r,s,!1),Dr(e,t,r,a,s);else if(32&l){const o=xr(n,i);let l;for(;l=o();)Dr(e,t,r,l,s);Dr(e,t,r,a,s)}else 16&l?is(t,e,i,n,r,s):Dr(e,t,r,a,s);n=o?n.projectionNext:n.next}}function ns(t,e,n,i,r,s){es(n,i,t.firstChild,e,r,s,!1)}function is(t,e,n,i,r,s){const o=n[16],a=o[6].projection[i.projection];if(Array.isArray(a))for(let l=0;l<a.length;l++)Dr(e,t,r,a[l],s);else es(t,e,a,o[3],r,s,!0)}function rs(t,e,n){Dt(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function ss(t,e,n){Dt(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function os(t,e,n){let i=t.length;for(;;){const r=t.indexOf(e,n);if(-1===r)return r;if(0===r||t.charCodeAt(r-1)<=32){const n=e.length;if(r+n===i||t.charCodeAt(r+n)<=32)return r}n=r+1}}const as="ng-template";function ls(t,e,n){let i=0;for(;i<t.length;){let r=t[i++];if(n&&"class"===r){if(r=t[i],-1!==os(r.toLowerCase(),e,0))return!0}else if(1===r){for(;i<t.length&&"string"==typeof(r=t[i++]);)if(r.toLowerCase()===e)return!0;return!1}}return!1}function cs(t){return 4===t.type&&t.value!==as}function us(t,e,n){return e===(4!==t.type||n?t.value:as)}function hs(t,e,n){let i=4;const r=t.attrs||[],s=function(t){for(let e=0;e<t.length;e++)if(Be(t[e]))return e;return t.length}(r);let o=!1;for(let a=0;a<e.length;a++){const l=e[a];if("number"!=typeof l){if(!o)if(4&i){if(i=2|1&i,""!==l&&!us(t,l,n)||""===l&&1===e.length){if(ds(i))return!1;o=!0}}else{const c=8&i?l:e[++a];if(8&i&&null!==t.attrs){if(!ls(t.attrs,c,n)){if(ds(i))return!1;o=!0}continue}const u=ps(8&i?"class":l,r,cs(t),n);if(-1===u){if(ds(i))return!1;o=!0;continue}if(""!==c){let t;t=u>s?"":r[u+1].toLowerCase();const e=8&i?t:null;if(e&&-1!==os(e,c,0)||2&i&&c!==t){if(ds(i))return!1;o=!0}}}}else{if(!o&&!ds(i)&&!ds(l))return!1;if(o&&ds(l))continue;o=!1,i=l|1&i}}return ds(i)||o}function ds(t){return 0==(1&t)}function ps(t,e,n,i){if(null===e)return-1;let r=0;if(i||!n){let n=!1;for(;r<e.length;){const i=e[r];if(i===t)return r;if(3===i||6===i)n=!0;else{if(1===i||2===i){let t=e[++r];for(;"string"==typeof t;)t=e[++r];continue}if(4===i)break;if(0===i){r+=4;continue}}r+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const i=t[n];if("number"==typeof i)return-1;if(i===e)return n;n++}return-1}(e,t)}function fs(t,e,n=!1){for(let i=0;i<e.length;i++)if(hs(t,e[i],n))return!0;return!1}function ms(t,e){t:for(let n=0;n<e.length;n++){const i=e[n];if(t.length===i.length){for(let e=0;e<t.length;e++)if(t[e]!==i[e])continue t;return!0}}return!1}function gs(t,e){return t?":not("+e.trim()+")":e}function _s(t){let e=t[0],n=1,i=2,r="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&i){const e=t[++n];r+="["+o+(e.length>0?'="'+e+'"':"")+"]"}else 8&i?r+="."+o:4&i&&(r+=" "+o);else""===r||ds(o)||(e+=gs(s,r),r=""),i=o,s=s||!ds(i);n++}return""!==r&&(e+=gs(s,r)),e}const ys={};function vs(t){bs(Yt(),Zt(),Ee()+t,ne())}function bs(t,e,n,i){if(!i)if(3==(3&e[2])){const i=t.preOrderCheckHooks;null!==i&&De(e,i,n)}else{const i=t.preOrderHooks;null!==i&&Re(e,i,0,n)}Se(n)}function ws(t,e){return t<<17|e<<2}function Cs(t){return t>>17&32767}function Es(t){return 2|t}function Ss(t){return(131068&t)>>2}function xs(t,e){return-131069&t|e<<2}function ks(t){return 1|t}function Ts(t,e){const n=t.contentQueries;if(null!==n)for(let i=0;i<n.length;i+=2){const r=n[i],s=n[i+1];if(-1!==s){const n=t.data[s];fe(r),n.contentQueries(2,e[s],s)}}}function Is(t,e,n,i,r,s,o,a,l,c){const u=e.blueprint.slice();return u[0]=r,u[2]=140|i,jt(u),u[3]=u[15]=t,u[8]=n,u[10]=o||t&&t[10],u[11]=a||t&&t[11],u[12]=l||t&&t[12]||null,u[9]=c||t&&t[9]||null,u[6]=s,u[16]=2==e.type?t[16]:u,u}function As(t,e,n,i,r){let s=t.data[e];if(null===s)s=Ds(t,e,n,i,r),zt.lFrame.inI18n&&(s.flags|=64);else if(64&s.type){s.type=n,s.value=i,s.attrs=r;const t=Jt();s.injectorIndex=null===t?-1:t.injectorIndex}return Xt(s,!0),s}function Ds(t,e,n,i,r){const s=Qt(),o=te(),a=t.data[e]=function(t,e,n,i,r,s){return{type:n,index:i,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:r,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,i,r);return null===t.firstChild&&(t.firstChild=a),null!==s&&(o?null==s.child&&null!==a.parent&&(s.child=a):null===s.next&&(s.next=a)),a}function Rs(t,e,n,i){if(0===n)return-1;const r=e.length;for(let s=0;s<n;s++)e.push(i),t.blueprint.push(i),t.data.push(null);return r}function Os(t,e,n){_e(e);try{const i=t.viewQuery;null!==i&&uo(1,i,n);const r=t.template;null!==r&&Fs(t,e,r,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Ts(t,e),t.staticViewQueries&&uo(2,t.viewQuery,n);const s=t.components;null!==s&&function(t,e){for(let n=0;n<e.length;n++)so(t,e[n])}(e,s)}catch(i){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),i}finally{e[2]&=-5,Ce()}}function Ps(t,e,n,i){const r=e[2];if(256==(256&r))return;_e(e);const s=ne();try{jt(e),oe(t.bindingStartIndex),null!==n&&Fs(t,e,n,2,i);const o=3==(3&r);if(!s)if(o){const n=t.preOrderCheckHooks;null!==n&&De(e,n,null)}else{const n=t.preOrderHooks;null!==n&&Re(e,n,0,null),Oe(e,0)}if(function(t){for(let e=Tr(t);null!==e;e=Ir(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],i=n[3];0==(1024&n[2])&&qt(i,1),n[2]|=1024}}}(e),function(t){for(let e=Tr(t);null!==e;e=Ir(e))for(let t=ht;t<e.length;t++){const n=e[t],i=n[1];Vt(n)&&Ps(i,n,i.template,n[8])}}(e),null!==t.contentQueries&&Ts(t,e),!s)if(o){const n=t.contentCheckHooks;null!==n&&De(e,n)}else{const n=t.contentHooks;null!==n&&Re(e,n,1),Oe(e,1)}!function(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let t=0;t<n.length;t++){const i=n[t];if(i<0)Se(~i);else{const r=i,s=n[++t],o=n[++t];ue(s,r),o(2,e[r])}}}finally{Se(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)io(t,e[n])}(e,a);const l=t.viewQuery;if(null!==l&&uo(2,l,i),!s)if(o){const n=t.viewCheckHooks;null!==n&&De(e,n)}else{const n=t.viewHooks;null!==n&&Re(e,n,2),Oe(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),s||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,qt(e[3],-1))}finally{Ce()}}function Ns(t,e,n,i){const r=e[10],s=!ne(),o=Bt(e);try{s&&!o&&r.begin&&r.begin(),o&&Os(t,e,i),Ps(t,e,n,i)}finally{s&&!o&&r.end&&r.end()}}function Fs(t,e,n,i,r){const s=Ee(),o=2&i;try{Se(-1),o&&e.length>ut&&bs(t,e,ut,ne()),n(i,r)}finally{Se(s)}}function Ls(t,e,n){if(ft(e)){const i=e.directiveEnd;for(let r=e.directiveStart;r<i;r++){const e=t.data[r];e.contentQueries&&e.contentQueries(1,n[r],r)}}}function Ms(t,e,n){Ht()&&(function(t,e,n,i){const r=n.directiveStart,s=n.directiveEnd;t.firstCreatePass||Ye(n,e),ur(i,e);const o=n.initialInputs;for(let a=r;a<s;a++){const i=t.data[a],s=_t(i);s&&Qs(e,n,i);const l=an(e,t,a,n);ur(l,e),null!==o&&to(0,a-r,l,i,0,o),s&&(Mt(n.index,e)[8]=l)}}(t,e,n,Nt(n,e)),128==(128&n.flags)&&function(t,e,n){const i=n.directiveStart,r=n.directiveEnd,s=n.index,o=zt.lFrame.currentDirectiveIndex;try{Se(s);for(let n=i;n<r;n++){const i=t.data[n],r=e[n];he(n),null===i.hostBindings&&0===i.hostVars&&null===i.hostAttrs||$s(i,r)}}finally{Se(-1),he(o)}}(t,e,n))}function Bs(t,e,n=Nt){const i=e.localNames;if(null!==i){let r=e.index+1;for(let s=0;s<i.length;s+=2){const o=i[s+1],a=-1===o?n(e,t):t[o];t[r++]=a}}}function Vs(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Us(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Us(t,e,n,i,r,s,o,a,l,c){const u=ut+i,h=u+r,d=function(t,e){const n=[];for(let i=0;i<e;i++)n.push(i<t?null:ys);return n}(u,h),p="function"==typeof c?c():c;return d[1]={type:t,blueprint:d,template:n,queries:null,viewQuery:a,declTNode:e,data:d.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:p,incompleteFirstPass:!1}}function js(t,e,n,i){const r=po(e);null===n?r.push(i):(r.push(n),t.firstCreatePass&&fo(t).push(i,r.length-1))}function qs(t,e,n){for(let i in t)if(t.hasOwnProperty(i)){const r=t[i];(n=null===n?{}:n).hasOwnProperty(i)?n[i].push(e,r):n[i]=[e,r]}return n}function zs(t,e,n,i,r,s,o,a){const l=Nt(e,n);let c,u=e.inputs;var h;!a&&null!=u&&(c=u[i])?(_o(t,n,c,i,r),mt(e)&&function(t,e){const n=Mt(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(i="class"===(h=i)?"className":"for"===h?"htmlFor":"formaction"===h?"formAction":"innerHtml"===h?"innerHTML":"readonly"===h?"readOnly":"tabindex"===h?"tabIndex":h,r=null!=o?o(r,e.value||"",i):r,Dt(s)?s.setProperty(l,i,r):Ve(i)||(l.setProperty?l.setProperty(i,r):l[i]=r))}function Hs(t,e,n,i){let r=!1;if(Ht()){const s=function(t,e,n){const i=t.directiveRegistry;let r=null;if(i)for(let s=0;s<i.length;s++){const o=i[s];fs(n,o.selectors,!1)&&(r||(r=[]),Je(Ye(n,e),t,o.type),_t(o)?(Zs(t,n),r.unshift(o)):r.push(o))}return r}(t,e,n),o=null===i?null:{"":-1};if(null!==s){r=!0,Ws(n,t.data.length,s.length);for(let t=0;t<s.length;t++){const e=s[t];e.providersResolver&&e.providersResolver(e)}let i=!1,a=!1,l=Rs(t,e,s.length,null);for(let r=0;r<s.length;r++){const c=s[r];n.mergedAttrs=Ue(n.mergedAttrs,c.hostAttrs),Ks(t,n,e,l,c),Ys(l,c,o),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128);const u=c.type.prototype;!i&&(u.ngOnChanges||u.ngOnInit||u.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),i=!0),a||!u.ngOnChanges&&!u.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),a=!0),l++}!function(t,e){const n=e.directiveEnd,i=t.data,r=e.attrs,s=[];let o=null,a=null;for(let l=e.directiveStart;l<n;l++){const t=i[l],n=t.inputs,c=null===r||cs(e)?null:eo(n,r);s.push(c),o=qs(n,l,o),a=qs(t.outputs,l,a)}null!==o&&(o.hasOwnProperty("class")&&(e.flags|=16),o.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=s,e.inputs=o,e.outputs=a}(t,n)}o&&function(t,e,n){if(e){const i=t.localNames=[];for(let t=0;t<e.length;t+=2){const r=n[e[t+1]];if(null==r)throw new g("301",`Export of name '${e[t+1]}' not found!`);i.push(e[t],r)}}}(n,i,o)}return n.mergedAttrs=Ue(n.mergedAttrs,n.attrs),r}function Gs(t,e,n,i,r,s){const o=s.hostBindings;if(o){let n=t.hostBindingOpCodes;null===n&&(n=t.hostBindingOpCodes=[]);const s=~e.index;(function(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(n)!=s&&n.push(s),n.push(i,r,o)}}function $s(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Zs(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function Ys(t,e,n){if(n){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)n[e.exportAs[i]]=t;_t(e)&&(n[""]=t)}}function Ws(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Ks(t,e,n,i,r){t.data[i]=r;const s=r.factory||(r.factory=yt(r.type)),o=new Le(s,_t(r),null);t.blueprint[i]=o,n[i]=o,Gs(t,e,0,i,Rs(t,n,r.hostVars,ys),r)}function Qs(t,e,n){const i=Nt(e,t),r=Vs(n),s=t[10],o=oo(t,Is(t,r,null,n.onPush?64:16,i,e,s,s.createRenderer(i,n),null,null));t[e.index]=o}function Js(t,e,n,i,r,s){const o=Nt(t,e);Xs(e[11],o,s,t.value,n,i,r)}function Xs(t,e,n,i,r,s,o){if(null==s)Dt(t)?t.removeAttribute(e,r,n):e.removeAttribute(r);else{const a=null==o?_(s):o(s,i||"",r);Dt(t)?t.setAttribute(e,r,a,n):n?e.setAttributeNS(n,r,a):e.setAttribute(r,a)}}function to(t,e,n,i,r,s){const o=s[e];if(null!==o){const t=i.setInput;for(let e=0;e<o.length;){const r=o[e++],s=o[e++],a=o[e++];null!==t?i.setInput(n,a,r,s):n[s]=a}}}function eo(t,e){let n=null,i=0;for(;i<e.length;){const r=e[i];if(0!==r)if(5!==r){if("number"==typeof r)break;t.hasOwnProperty(r)&&(null===n&&(n=[]),n.push(r,t[r],e[i+1])),i+=2}else i+=2;else i+=4}return n}function no(t,e,n,i){return new Array(t,!0,!1,e,null,0,i,n,null,null)}function io(t,e){const n=Mt(e,t);if(Vt(n)){const t=n[1];80&n[2]?Ps(t,n,t.template,n[8]):n[5]>0&&ro(n)}}function ro(t){for(let n=Tr(t);null!==n;n=Ir(n))for(let t=ht;t<n.length;t++){const e=n[t];if(1024&e[2]){const t=e[1];Ps(t,e,t.template,e[8])}else e[5]>0&&ro(e)}const e=t[1].components;if(null!==e)for(let n=0;n<e.length;n++){const i=Mt(e[n],t);Vt(i)&&i[5]>0&&ro(i)}}function so(t,e){const n=Mt(e,t),i=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(i,n),Os(i,n,n[8])}function oo(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function ao(t){for(;t;){t[2]|=64;const e=kr(t);if(0!=(512&t[2])&&!e)return t;t=e}return null}function lo(t,e,n){const i=e[10];i.begin&&i.begin();try{Ps(t,e,t.template,n)}catch(r){throw go(e,r),r}finally{i.end&&i.end()}}function co(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],i=hr(n),r=i[1];Ns(r,i,r.template,n)}}(t[8])}function uo(t,e,n){fe(0),e(t,n)}const ho=(()=>Promise.resolve(null))();function po(t){return t[7]||(t[7]=[])}function fo(t){return t.cleanup||(t.cleanup=[])}function mo(t,e,n){return(null===t||_t(t))&&(n=function(t){for(;Array.isArray(t);){if("object"==typeof t[1])return t;t=t[0]}return null}(n[e.index])),n[11]}function go(t,e){const n=t[9],i=n?n.get(mr,null):null;i&&i.handleError(e)}function _o(t,e,n,i,r){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],l=e[o],c=t.data[o];null!==c.setInput?c.setInput(l,r,i,a):l[a]=r}}function yo(t,e,n){const i=Pt(e,t);Or(t[11],i,n)}function vo(t,e,n){let i=n?t.styles:null,r=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const t=e[o];"number"==typeof t?s=t:1==s?r=h(r,t):2==s&&(i=h(i,t+": "+e[++o]+";"))}n?t.styles=i:t.stylesWithoutHost=i,n?t.classes=r:t.classesWithoutHost=r}const bo=new wn("INJECTOR",-1);class wo{get(t,e=jn){if(e===jn){const e=new Error(`NullInjectorError: No provider for ${u(t)}!`);throw e.name="NullInjectorError",e}return e}}const Co=new wn("Set Injector scope."),Eo={},So={};let xo;function ko(){return void 0===xo&&(xo=new wo),xo}function To(t,e=null,n=null,i){return new Io(t,n,e||ko(),i)}class Io{constructor(t,e,n,i=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const r=[];e&&Tn(e,n=>this.processProvider(n,t,e)),Tn([t],t=>this.processInjectorType(t,[],r)),this.records.set(bo,Ro(void 0,this));const s=this.records.get(Co);this.scope=null!=s?s.value:null,this.source=i||("object"==typeof t?null:u(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=jn,n=D.Default){this.assertNotDestroyed();const i=$n(this);try{if(!(n&D.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(r=t)||"object"==typeof r&&r instanceof wn)&&E(t);e=n&&this.injectableDefInScope(n)?Ro(Ao(t),Eo):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&D.Self?ko():this.parent).get(t,e=n&D.Optional&&e===jn?null:e)}catch(s){if("NullInjectorError"===s.name){if((s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(u(t)),i)throw s;return function(t,e,n,i){const r=t.ngTempTokenPath;throw e[zn]&&r.unshift(e[zn]),t.message=function(t,e,n,i=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let r=u(e);if(Array.isArray(e))r=e.map(u).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let i=e[n];t.push(n+":"+("string"==typeof i?JSON.stringify(i):u(i)))}r=`{${t.join(", ")}}`}return`${n}${i?"("+i+")":""}[${r}]: ${t.replace(qn,"\n  ")}`}("\n"+t.message,r,n,i),t.ngTokenPath=r,t.ngTempTokenPath=null,t}(s,t,"R3InjectorError",this.source)}throw s}finally{$n(i)}var r}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(u(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=f(t)))return!1;let i=x(t);const r=null==i&&t.ngModule||void 0,s=void 0===r?t:r,o=-1!==n.indexOf(s);if(void 0!==r&&(i=x(r)),null==i)return!1;if(null!=i.imports&&!o){let t;n.push(s);try{Tn(i.imports,i=>{this.processInjectorType(i,e,n)&&(void 0===t&&(t=[]),t.push(i))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:i}=t[e];Tn(i,t=>this.processProvider(t,n,i||z))}}this.injectorDefTypes.add(s);const a=yt(s)||(()=>new s);this.records.set(s,Ro(a,Eo));const l=i.providers;if(null!=l&&!o){const e=t;Tn(l,t=>this.processProvider(t,e,l))}return void 0!==r&&void 0!==t.providers}processProvider(t,e,n){let i=Po(t=f(t))?t:f(t&&t.provide);const r=function(t,e,n){return Oo(t)?Ro(void 0,t.useValue):Ro(Do(t),Eo)}(t);if(Po(t)||!0!==t.multi)this.records.get(i);else{let e=this.records.get(i);e||(e=Ro(void 0,Eo,!0),e.factory=()=>Qn(e.multi),this.records.set(i,e)),i=t,e.multi.push(t)}this.records.set(i,r)}hydrate(t,e){var n;return e.value===Eo&&(e.value=So,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){if(!t.providedIn)return!1;const e=f(t.providedIn);return"string"==typeof e?"any"===e||e===this.scope:this.injectorDefTypes.has(e)}}function Ao(t){const e=E(t),n=null!==e?e.factory:yt(t);if(null!==n)return n;if(t instanceof wn)throw new Error(`Token ${u(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=Dn(e,"?");throw new Error(`Can't resolve all parameters for ${u(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[k]||t[I]);if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function Do(t,e,n){let i;if(Po(t)){const e=f(t);return yt(e)||Ao(e)}if(Oo(t))i=()=>f(t.useValue);else if((r=t)&&r.useFactory)i=()=>t.useFactory(...Qn(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))i=()=>Yn(f(t.useExisting));else{const e=f(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return yt(e)||Ao(e);i=()=>new e(...Qn(t.deps))}var r;return i}function Ro(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Oo(t){return null!==t&&"object"==typeof t&&Hn in t}function Po(t){return"function"==typeof t}const No=function(t,e,n){return function(t,e=null,n=null,i){const r=To(t,e,n,i);return r._resolveInjectorDefTypes(),r}({name:n},e,t,n)};let Fo=(()=>{class t{static create(t,e){return Array.isArray(t)?No(t,e,""):No(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=jn,t.NULL=new wo,t.\u0275prov=w({token:t,providedIn:"any",factory:()=>Yn(bo)}),t.__NG_ELEMENT_ID__=-1,t})();function Lo(t,e){Ae(hr(t)[1],Kt())}function Mo(t){return Object.getPrototypeOf(t.prototype).constructor}function Bo(t){let e=Mo(t.type),n=!0;const i=[t];for(;e;){let r;if(_t(t))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");r=e.\u0275dir}if(r){if(n){i.push(r);const e=t;e.inputs=Vo(t.inputs),e.declaredInputs=Vo(t.declaredInputs),e.outputs=Vo(t.outputs);const n=r.hostBindings;n&&qo(t,n);const s=r.viewQuery,o=r.contentQueries;if(s&&Uo(t,s),o&&jo(t,o),c(t.inputs,r.inputs),c(t.declaredInputs,r.declaredInputs),c(t.outputs,r.outputs),_t(r)&&r.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(r.data.animation)}}const e=r.features;if(e)for(let i=0;i<e.length;i++){const r=e[i];r&&r.ngInherit&&r(t),r===Bo&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let i=t.length-1;i>=0;i--){const r=t[i];r.hostVars=e+=r.hostVars,r.hostAttrs=Ue(r.hostAttrs,n=Ue(n,r.hostAttrs))}}(i)}function Vo(t){return t===q?{}:t===z?[]:t}function Uo(t,e){const n=t.viewQuery;t.viewQuery=n?(t,i)=>{e(t,i),n(t,i)}:e}function jo(t,e){const n=t.contentQueries;t.contentQueries=n?(t,i,r)=>{e(t,i,r),n(t,i,r)}:e}function qo(t,e){const n=t.hostBindings;t.hostBindings=n?(t,i)=>{e(t,i),n(t,i)}:e}const zo=["providersResolver"],Ho=["template","decls","consts","vars","onPush","ngContentSelectors","styles","encapsulation","schemas"];function Go(t){let e,n=Mo(t.type);e=_t(t)?n.\u0275cmp:n.\u0275dir;const i=t;for(const r of zo)i[r]=e[r];if(_t(e))for(const r of Ho)i[r]=e[r]}let $o=null;function Zo(){if(!$o){const t=j.Symbol;if(t&&t.iterator)$o=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&($o=n)}}}return $o}class Yo{constructor(t){this.wrapped=t}static wrap(t){return new Yo(t)}static unwrap(t){return Yo.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof Yo}}function Wo(t){return!!Ko(t)&&(Array.isArray(t)||!(t instanceof Map)&&Zo()in t)}function Ko(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Qo(t,e,n){return t[e]=n}function Jo(t,e){return t[e]}function Xo(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function ta(t,e,n,i){const r=Xo(t,e,n);return Xo(t,e+1,i)||r}function ea(t,e,n,i,r){const s=ta(t,e,n,i);return Xo(t,e+2,r)||s}function na(t,e,n,i,r,s){const o=ta(t,e,n,i);return ta(t,e+2,r,s)||o}function ia(t,e,n,i){const r=Zt();return Xo(r,ae(),e)&&(Yt(),Js(xe(),r,t,e,n,i)),ia}function ra(t,e){let n=!1,i=se();for(let s=1;s<e.length;s+=2)n=Xo(t,i++,e[s])||n;if(oe(i),!n)return ys;let r=e[0];for(let s=1;s<e.length;s+=2)r+=_(e[s])+e[s+1];return r}function sa(t,e,n,i){return Xo(t,ae(),n)?e+_(n)+i:ys}function oa(t,e,n,i,r,s){const o=ta(t,se(),n,r);return le(2),o?e+_(n)+i+_(r)+s:ys}function aa(t,e,n,i,r,s,o,a){const l=ea(t,se(),n,r,o);return le(3),l?e+_(n)+i+_(r)+s+_(o)+a:ys}function la(t,e,n,i,r,s,o,a,l,c){const u=na(t,se(),n,r,o,l);return le(4),u?e+_(n)+i+_(r)+s+_(o)+a+_(l)+c:ys}function ca(t,e,n,i,r,s,o,a,l,c,u,h){const d=se();let p=na(t,d,n,r,o,l);return p=Xo(t,d+4,u)||p,le(5),p?e+_(n)+i+_(r)+s+_(o)+a+_(l)+c+_(u)+h:ys}function ua(t,e,n,i,r,s,o,a,l,c,u,h,d,p){const f=se();let m=na(t,f,n,r,o,l);return m=ta(t,f+4,u,d)||m,le(6),m?e+_(n)+i+_(r)+s+_(o)+a+_(l)+c+_(u)+h+_(d)+p:ys}function ha(t,e,n,i,r,s,o,a,l,c,u,h,d,p,f,m){const g=se();let y=na(t,g,n,r,o,l);return y=ea(t,g+4,u,d,f)||y,le(7),y?e+_(n)+i+_(r)+s+_(o)+a+_(l)+c+_(u)+h+_(d)+p+_(f)+m:ys}function da(t,e,n,i,r,s,o,a,l,c,u,h,d,p,f,m,g,y){const v=se();let b=na(t,v,n,r,o,l);return b=na(t,v+4,u,d,f,g)||b,le(8),b?e+_(n)+i+_(r)+s+_(o)+a+_(l)+c+_(u)+h+_(d)+p+_(f)+m+_(g)+y:ys}function pa(t,e,n,i,r,s){const o=Zt(),a=sa(o,e,n,i);return a!==ys&&Js(xe(),o,t,a,r,s),pa}function fa(t,e,n,i,r,s,o,a){const l=Zt(),c=oa(l,e,n,i,r,s);return c!==ys&&Js(xe(),l,t,c,o,a),fa}function ma(t,e,n,i,r,s,o,a,l,c){const u=Zt(),h=aa(u,e,n,i,r,s,o,a);return h!==ys&&Js(xe(),u,t,h,l,c),ma}function ga(t,e,n,i,r,s,o,a,l,c,u,h){const d=Zt(),p=la(d,e,n,i,r,s,o,a,l,c);return p!==ys&&Js(xe(),d,t,p,u,h),ga}function _a(t,e,n,i,r,s,o,a,l,c,u,h,d,p){const f=Zt(),m=ca(f,e,n,i,r,s,o,a,l,c,u,h);return m!==ys&&Js(xe(),f,t,m,d,p),_a}function ya(t,e,n,i,r,s,o,a,l,c,u,h,d,p,f,m){const g=Zt(),_=ua(g,e,n,i,r,s,o,a,l,c,u,h,d,p);return _!==ys&&Js(xe(),g,t,_,f,m),ya}function va(t,e,n,i,r,s,o,a,l,c,u,h,d,p,f,m,g,_){const y=Zt(),v=ha(y,e,n,i,r,s,o,a,l,c,u,h,d,p,f,m);return v!==ys&&Js(xe(),y,t,v,g,_),va}function ba(t,e,n,i,r,s,o,a,l,c,u,h,d,p,f,m,g,_,y,v){const b=Zt(),w=da(b,e,n,i,r,s,o,a,l,c,u,h,d,p,f,m,g,_);return w!==ys&&Js(xe(),b,t,w,y,v),ba}function wa(t,e,n,i){const r=Zt(),s=ra(r,e);return s!==ys&&Js(xe(),r,t,s,n,i),wa}function Ca(t,e,n,i,r,s,o,a){const l=Zt(),c=Yt(),u=t+ut,h=c.firstCreatePass?function(t,e,n,i,r,s,o,a,l){const c=e.consts,u=As(e,t,4,o||null,Ut(c,a));Hs(e,n,u,Ut(c,l)),Ae(e,u);const h=u.tViews=Us(2,u,i,r,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,u),h.queries=e.queries.embeddedTView(u)),u}(u,c,l,e,n,i,r,s,o):c.data[u];Xt(h,!1);const d=l[11].createComment("");Kr(c,l,d,h),ur(d,l),oo(l,l[u]=no(d,l,d,h)),gt(h)&&Ms(c,l,h),null!=o&&Bs(l,h,a)}function Ea(t){return Lt(zt.lFrame.contextLView,ut+t)}const Sa={"\u0275\u0275defineInjectable":w,"\u0275\u0275defineInjector":C,"\u0275\u0275inject":Yn,"\u0275\u0275invalidFactoryDep":Wn,resolveForwardRef:f},xa=l({provide:String,useValue:l});function ka(t){return void 0!==t.useClass}function Ta(t){return void 0!==t.useFactory}const Ia=_n("Injectable",void 0,void 0,void 0,(t,e)=>Aa(t,e)),Aa=function(t,e){let n=null,i=null;t.hasOwnProperty(k)||Object.defineProperty(t,k,{get:()=>(null===n&&(n=En().compileInjectable(Sa,`ng:///${t.name}/\u0275prov.js`,function(t,e){const n=e||{providedIn:null},i={name:t.name,type:t,typeArgumentCount:0,providedIn:n.providedIn};return(ka(n)||Ta(n))&&void 0!==n.deps&&(i.deps=li(n.deps)),ka(n)?i.useClass=n.useClass:function(t){return xa in t}(n)?i.useValue=n.useValue:Ta(n)?i.useFactory=n.useFactory:function(t){return void 0!==t.useExisting}(n)&&(i.useExisting=n.useExisting),i}(t,e))),n)}),t.hasOwnProperty(W)||Object.defineProperty(t,W,{get:()=>{if(null===i){const e=En();i=e.compileFactory(Sa,`ng:///${t.name}/\u0275fac.js`,{name:t.name,type:t,typeArgumentCount:0,deps:ai(t),target:e.FactoryTarget.Injectable})}return i},configurable:!0})};function Da(t,e=D.Default){const n=Zt();return null===n?Yn(t,e):en(Kt(),n,f(t),e)}function Ra(){throw new Error("invalid")}function Oa(t,e,n){const i=Zt();return Xo(i,ae(),e)&&zs(Yt(),xe(),i,t,e,i[11],n,!1),Oa}function Pa(t,e,n,i,r){const s=r?"class":"style";_o(t,n,e.inputs[s],s,i)}function Na(t,e,n,i){const r=Zt(),s=Yt(),o=ut+t,a=r[11],l=r[o]=Nr(a,e,zt.lFrame.currentNamespace),c=s.firstCreatePass?function(t,e,n,i,r,s,o){const a=e.consts,l=As(e,t,2,r,Ut(a,s));return Hs(e,n,l,Ut(a,o)),null!==l.attrs&&vo(l,l.attrs,!1),null!==l.mergedAttrs&&vo(l,l.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,l),l}(o,s,r,0,e,n,i):s.data[o];Xt(c,!0);const u=c.mergedAttrs;null!==u&&Me(a,l,u);const h=c.classes;null!==h&&ss(a,l,h);const d=c.styles;null!==d&&rs(a,l,d),64!=(64&c.flags)&&Kr(s,r,l,c),0===zt.lFrame.elementDepthCount&&ur(l,r),zt.lFrame.elementDepthCount++,gt(c)&&(Ms(s,r,c),Ls(s,c,r)),null!==i&&Bs(r,c)}function Fa(){let t=Kt();te()?ee():(t=t.parent,Xt(t,!1));const e=t;zt.lFrame.elementDepthCount--;const n=Yt();n.firstCreatePass&&(Ae(n,t),ft(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&Pa(n,e,Zt(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&Pa(n,e,Zt(),e.stylesWithoutHost,!1)}function La(t,e,n,i){Na(t,e,n,i),Fa()}function Ma(t,e,n){const i=Zt(),r=Yt(),s=t+ut,o=r.firstCreatePass?function(t,e,n,i,r){const s=e.consts,o=Ut(s,i),a=As(e,t,8,"ng-container",o);return null!==o&&vo(a,o,!0),Hs(e,n,a,Ut(s,r)),null!==e.queries&&e.queries.elementStart(e,a),a}(s,r,i,e,n):r.data[s];Xt(o,!0);const a=i[s]=i[11].createComment("");Kr(r,i,a,o),ur(a,i),gt(o)&&(Ms(r,i,o),Ls(r,o,i)),null!=n&&Bs(i,o)}function Ba(){let t=Kt();const e=Yt();te()?ee():(t=t.parent,Xt(t,!1)),e.firstCreatePass&&(Ae(e,t),ft(t)&&e.queries.elementEnd(t))}function Va(t,e,n){Ma(t,e,n),Ba()}function Ua(){return Zt()}function ja(t){return!!t&&"function"==typeof t.then}function qa(t){return!!t&&"function"==typeof t.subscribe}const za=qa;function Ha(t,e,n,i){const r=Zt(),s=Yt(),o=Kt();return $a(s,r,r[11],o,t,e,!!n,i),Ha}function Ga(t,e){const n=Kt(),i=Zt(),r=Yt();return $a(r,i,mo(de(r.data),n,i),n,t,e,!1),Ga}function $a(t,e,n,i,r,s,o,a){const l=gt(i),c=t.firstCreatePass&&fo(t),u=po(e);let h=!0;if(3&i.type||a){const d=Nt(i,e),p=a?a(d):d,f=u.length,m=a?t=>a(Ot(t[i.index])):i.index;if(Dt(n)){let o=null;if(!a&&l&&(o=function(t,e,n,i){const r=t.cleanup;if(null!=r)for(let s=0;s<r.length-1;s+=2){const t=r[s];if(t===n&&r[s+1]===i){const t=e[7],n=r[s+2];return t.length>n?t[n]:null}"string"==typeof t&&(s+=2)}return null}(t,e,r,i.index)),null!==o)(o.__ngLastListenerFn__||o).__ngNextListenerFn__=s,o.__ngLastListenerFn__=s,h=!1;else{s=Ya(i,e,0,s,!1);const t=n.listen(p,r,s);u.push(s,t),c&&c.push(r,m,f,f+1)}}else s=Ya(i,e,0,s,!0),p.addEventListener(r,s,o),u.push(s),c&&c.push(r,m,f,o)}else s=Ya(i,e,0,s,!1);const d=i.outputs;let p;if(h&&null!==d&&(p=d[r])){const t=p.length;if(t)for(let n=0;n<t;n+=2){const t=e[p[n]][p[n+1]].subscribe(s),o=u.length;u.push(s,t),c&&c.push(r,i.index,o,-(o+1))}}}function Za(t,e,n,i){try{return!1!==n(i)}catch(r){return go(t,r),!1}}function Ya(t,e,n,i,r){return function n(s){if(s===Function)return i;const o=2&t.flags?Mt(t.index,e):e;0==(32&e[2])&&ao(o);let a=Za(e,0,i,s),l=n.__ngNextListenerFn__;for(;l;)a=Za(e,0,l,s)&&a,l=l.__ngNextListenerFn__;return r&&!1===a&&(s.preventDefault(),s.returnValue=!1),a}}function Wa(t=1){return function(t){return(zt.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,zt.lFrame.contextLView))[8]}(t)}function Ka(t,e){let n=null;const i=function(t){const e=t.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(t);for(let r=0;r<e.length;r++){const s=e[r];if("*"!==s){if(null===i?fs(t,s,!0):ms(i,s))return r}else n=r}return n}function Qa(t){const e=Zt()[16][6];if(!e.projection){const n=e.projection=Dn(t?t.length:1,null),i=n.slice();let r=e.child;for(;null!==r;){const e=t?Ka(r,t):0;null!==e&&(i[e]?i[e].projectionNext=r:n[e]=r,i[e]=r),r=r.next}}}function Ja(t,e=0,n){const i=Zt(),r=Yt(),s=As(r,ut+t,16,null,n||null);null===s.projection&&(s.projection=e),ee(),64!=(64&s.flags)&&function(t,e,n){is(e[11],0,e,n,Vr(t,n,e),Gr(n.parent||e[6],n,e))}(r,i,s)}function Xa(t,e,n){return tl(t,"",e,"",n),Xa}function tl(t,e,n,i,r){const s=Zt(),o=sa(s,e,n,i);return o!==ys&&zs(Yt(),xe(),s,t,o,s[11],r,!1),tl}function el(t,e,n,i,r,s,o){const a=Zt(),l=oa(a,e,n,i,r,s);return l!==ys&&zs(Yt(),xe(),a,t,l,a[11],o,!1),el}function nl(t,e,n,i,r,s,o,a,l){const c=Zt(),u=aa(c,e,n,i,r,s,o,a);return u!==ys&&zs(Yt(),xe(),c,t,u,c[11],l,!1),nl}function il(t,e,n,i,r,s,o,a,l,c,u){const h=Zt(),d=la(h,e,n,i,r,s,o,a,l,c);return d!==ys&&zs(Yt(),xe(),h,t,d,h[11],u,!1),il}function rl(t,e,n,i,r,s,o,a,l,c,u,h,d){const p=Zt(),f=ca(p,e,n,i,r,s,o,a,l,c,u,h);return f!==ys&&zs(Yt(),xe(),p,t,f,p[11],d,!1),rl}function sl(t,e,n,i,r,s,o,a,l,c,u,h,d,p,f){const m=Zt(),g=ua(m,e,n,i,r,s,o,a,l,c,u,h,d,p);return g!==ys&&zs(Yt(),xe(),m,t,g,m[11],f,!1),sl}function ol(t,e,n,i,r,s,o,a,l,c,u,h,d,p,f,m,g){const _=Zt(),y=ha(_,e,n,i,r,s,o,a,l,c,u,h,d,p,f,m);return y!==ys&&zs(Yt(),xe(),_,t,y,_[11],g,!1),ol}function al(t,e,n,i,r,s,o,a,l,c,u,h,d,p,f,m,g,_,y){const v=Zt(),b=da(v,e,n,i,r,s,o,a,l,c,u,h,d,p,f,m,g,_);return b!==ys&&zs(Yt(),xe(),v,t,b,v[11],y,!1),al}function ll(t,e,n){const i=Zt(),r=ra(i,e);return r!==ys&&zs(Yt(),xe(),i,t,r,i[11],n,!1),ll}function cl(t,e,n,i,r){const s=t[n+1],o=null===e;let a=i?Cs(s):Ss(s),l=!1;for(;0!==a&&(!1===l||o);){const n=t[a+1];ul(t[a],e)&&(l=!0,t[a+1]=i?ks(n):Es(n)),a=i?Cs(n):Ss(n)}l&&(t[n+1]=i?Es(s):ks(s))}function ul(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&Pn(t,e)>=0}const hl={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function dl(t){return t.substring(hl.key,hl.keyEnd)}function pl(t){return t.substring(hl.value,hl.valueEnd)}function fl(t,e){const n=hl.textEnd;return n===e?-1:(e=hl.keyEnd=function(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,hl.key=e,n),_l(t,e,n))}function ml(t,e){const n=hl.textEnd;let i=hl.key=_l(t,e,n);return n===i?-1:(i=hl.keyEnd=function(t,e,n){let i;for(;e<n&&(45===(i=t.charCodeAt(e))||95===i||(-33&i)>=65&&(-33&i)<=90||i>=48&&i<=57);)e++;return e}(t,i,n),i=yl(t,i,n),i=hl.value=_l(t,i,n),i=hl.valueEnd=function(t,e,n){let i=-1,r=-1,s=-1,o=e,a=o;for(;o<n;){const l=t.charCodeAt(o++);if(59===l)return a;34===l||39===l?a=o=vl(t,l,o,n):e===o-4&&85===s&&82===r&&76===i&&40===l?a=o=vl(t,41,o,n):l>32&&(a=o),s=r,r=i,i=-33&l}return a}(t,i,n),yl(t,i,n))}function gl(t){hl.key=0,hl.keyEnd=0,hl.value=0,hl.valueEnd=0,hl.textEnd=t.length}function _l(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function yl(t,e,n,i){return(e=_l(t,e,n))<n&&e++,e}function vl(t,e,n,i){let r=-1,s=n;for(;s<i;){const n=t.charCodeAt(s++);if(n==e&&92!==r)return s;r=92==n&&92===r?0:n}throw new Error}function bl(t,e,n){return kl(t,e,n,!1),bl}function wl(t,e){return kl(t,e,null,!0),wl}function Cl(t){Tl(Ol,El,t,!1)}function El(t,e){for(let n=function(t){return gl(t),ml(t,_l(t,0,hl.textEnd))}(e);n>=0;n=ml(e,n))Ol(t,dl(e),pl(e))}function Sl(t){Tl(Rn,xl,t,!0)}function xl(t,e){for(let n=function(t){return gl(t),fl(t,_l(t,0,hl.textEnd))}(e);n>=0;n=fl(e,n))Rn(t,dl(e),!0)}function kl(t,e,n,i){const r=Zt(),s=Yt(),o=le(2);s.firstUpdatePass&&Al(s,t,o,i),e!==ys&&Xo(r,o,e)&&Pl(s,s.data[Ee()],r,r[11],t,r[o+1]=function(t,e){return null==t||("string"==typeof e?t+=e:"object"==typeof t&&(t=u(wi(t)))),t}(e,n),i,o)}function Tl(t,e,n,i){const r=Yt(),s=le(2);r.firstUpdatePass&&Al(r,null,s,i);const o=Zt();if(n!==ys&&Xo(o,s,n)){const a=r.data[Ee()];if(Ll(a,i)&&!Il(r,s)){let t=i?a.classesWithoutHost:a.stylesWithoutHost;null!==t&&(n=h(t,n||"")),Pa(r,a,o,n,i)}else!function(t,e,n,i,r,s,o,a){r===ys&&(r=z);let l=0,c=0,u=0<r.length?r[0]:null,h=0<s.length?s[0]:null;for(;null!==u||null!==h;){const d=l<r.length?r[l+1]:void 0,p=c<s.length?s[c+1]:void 0;let f,m=null;u===h?(l+=2,c+=2,d!==p&&(m=h,f=p)):null===h||null!==u&&u<h?(l+=2,m=u):(c+=2,m=h,f=p),null!==m&&Pl(t,e,n,i,m,f,o,a),u=l<r.length?r[l]:null,h=c<s.length?s[c]:null}}(r,a,o,o[11],o[s+1],o[s+1]=function(t,e,n){if(null==n||""===n)return z;const i=[],r=wi(n);if(Array.isArray(r))for(let s=0;s<r.length;s++)t(i,r[s],!0);else if("object"==typeof r)for(const s in r)r.hasOwnProperty(s)&&t(i,s,r[s]);else"string"==typeof r&&e(i,r);return i}(t,e,n),i,s)}}function Il(t,e){return e>=t.expandoStartIndex}function Al(t,e,n,i){const r=t.data;if(null===r[n+1]){const s=r[Ee()],o=Il(t,n);Ll(s,i)&&null===e&&!o&&(e=!1),e=function(t,e,n,i){const r=de(t);let s=i?e.residualClasses:e.residualStyles;if(null===r)0===(i?e.classBindings:e.styleBindings)&&(n=Rl(n=Dl(null,t,e,n,i),e.attrs,i),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==r)if(n=Dl(r,t,e,n,i),null===s){let n=function(t,e,n){const i=n?e.classBindings:e.styleBindings;if(0!==Ss(i))return t[Cs(i)]}(t,e,i);void 0!==n&&Array.isArray(n)&&(n=Dl(null,t,e,n[1],i),n=Rl(n,e.attrs,i),function(t,e,n,i){t[Cs(n?e.classBindings:e.styleBindings)]=i}(t,e,i,n))}else s=function(t,e,n){let i;const r=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<r;s++)i=Rl(i,t[s].hostAttrs,n);return Rl(i,e.attrs,n)}(t,e,i)}return void 0!==s&&(i?e.residualClasses=s:e.residualStyles=s),n}(r,s,e,i),function(t,e,n,i,r,s){let o=s?e.classBindings:e.styleBindings,a=Cs(o),l=Ss(o);t[i]=n;let c,u=!1;if(Array.isArray(n)){const t=n;c=t[1],(null===c||Pn(t,c)>0)&&(u=!0)}else c=n;if(r)if(0!==l){const e=Cs(t[a+1]);t[i+1]=ws(e,a),0!==e&&(t[e+1]=xs(t[e+1],i)),t[a+1]=131071&t[a+1]|i<<17}else t[i+1]=ws(a,0),0!==a&&(t[a+1]=xs(t[a+1],i)),a=i;else t[i+1]=ws(l,0),0===a?a=i:t[l+1]=xs(t[l+1],i),l=i;u&&(t[i+1]=Es(t[i+1])),cl(t,c,i,!0),cl(t,c,i,!1),function(t,e,n,i,r){const s=r?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&Pn(s,e)>=0&&(n[i+1]=ks(n[i+1]))}(e,c,t,i,s),o=ws(a,l),s?e.classBindings=o:e.styleBindings=o}(r,s,e,n,o,i)}}function Dl(t,e,n,i,r){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],i=Rl(i,s.hostAttrs,r),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),i}function Rl(t,e,n){const i=n?1:2;let r=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?r=o:r===i&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Rn(t,o,!!n||e[++s]))}return void 0===t?null:t}function Ol(t,e,n){Rn(t,e,wi(n))}function Pl(t,e,n,i,r,s,o,a){if(!(3&e.type))return;const l=t.data,c=l[a+1];Fl(1==(1&c)?Nl(l,e,n,r,Ss(c),o):void 0)||(Fl(s)||2==(2&c)&&(s=Nl(l,null,n,r,a,o)),function(t,e,n,i,r){const s=Dt(t);if(e)r?s?t.addClass(n,i):n.classList.add(i):s?t.removeClass(n,i):n.classList.remove(i);else{let e=-1===i.indexOf("-")?void 0:Er.DashCase;if(null==r)s?t.removeStyle(n,i,e):n.style.removeProperty(i);else{const o="string"==typeof r&&r.endsWith("!important");o&&(r=r.slice(0,-10),e|=Er.Important),s?t.setStyle(n,i,r,e):n.style.setProperty(i,r,o?"important":"")}}}(i,o,Pt(Ee(),n),r,s))}function Nl(t,e,n,i,r,s){const o=null===e;let a;for(;r>0;){const e=t[r],s=Array.isArray(e),l=s?e[1]:e,c=null===l;let u=n[r+1];u===ys&&(u=c?z:void 0);let h=c?On(u,i):l===i?u:void 0;if(s&&!Fl(h)&&(h=On(e,i)),Fl(h)&&(a=h,o))return a;const d=t[r+1];r=o?Cs(d):Ss(d)}if(null!==e){let t=s?e.residualClasses:e.residualStyles;null!=t&&(a=On(t,i))}return a}function Fl(t){return void 0!==t}function Ll(t,e){return 0!=(t.flags&(e?16:32))}function Ml(t,e=""){const n=Zt(),i=Yt(),r=t+ut,s=i.firstCreatePass?As(i,r,1,e,null):i.data[r],o=n[r]=Rr(n[11],e);Kr(i,n,o,s),Xt(s,!1)}function Bl(t){return Vl("",t,""),Bl}function Vl(t,e,n){const i=Zt(),r=sa(i,t,e,n);return r!==ys&&yo(i,Ee(),r),Vl}function Ul(t,e,n,i,r){const s=Zt(),o=oa(s,t,e,n,i,r);return o!==ys&&yo(s,Ee(),o),Ul}function jl(t,e,n,i,r,s,o){const a=Zt(),l=aa(a,t,e,n,i,r,s,o);return l!==ys&&yo(a,Ee(),l),jl}function ql(t,e,n,i,r,s,o,a,l){const c=Zt(),u=la(c,t,e,n,i,r,s,o,a,l);return u!==ys&&yo(c,Ee(),u),ql}function zl(t,e,n,i,r,s,o,a,l,c,u){const h=Zt(),d=ca(h,t,e,n,i,r,s,o,a,l,c,u);return d!==ys&&yo(h,Ee(),d),zl}function Hl(t,e,n,i,r,s,o,a,l,c,u,h,d){const p=Zt(),f=ua(p,t,e,n,i,r,s,o,a,l,c,u,h,d);return f!==ys&&yo(p,Ee(),f),Hl}function Gl(t,e,n,i,r,s,o,a,l,c,u,h,d,p,f){const m=Zt(),g=ha(m,t,e,n,i,r,s,o,a,l,c,u,h,d,p,f);return g!==ys&&yo(m,Ee(),g),Gl}function $l(t,e,n,i,r,s,o,a,l,c,u,h,d,p,f,m,g){const _=Zt(),y=da(_,t,e,n,i,r,s,o,a,l,c,u,h,d,p,f,m,g);return y!==ys&&yo(_,Ee(),y),$l}function Zl(t){const e=Zt(),n=ra(e,t);return n!==ys&&yo(e,Ee(),n),Zl}function Yl(t,e,n){Tl(Rn,xl,sa(Zt(),t,e,n),!0)}function Wl(t,e,n,i,r){Tl(Rn,xl,oa(Zt(),t,e,n,i,r),!0)}function Kl(t,e,n,i,r,s,o){Tl(Rn,xl,aa(Zt(),t,e,n,i,r,s,o),!0)}function Ql(t,e,n,i,r,s,o,a,l){Tl(Rn,xl,la(Zt(),t,e,n,i,r,s,o,a,l),!0)}function Jl(t,e,n,i,r,s,o,a,l,c,u){Tl(Rn,xl,ca(Zt(),t,e,n,i,r,s,o,a,l,c,u),!0)}function Xl(t,e,n,i,r,s,o,a,l,c,u,h,d){Tl(Rn,xl,ua(Zt(),t,e,n,i,r,s,o,a,l,c,u,h,d),!0)}function tc(t,e,n,i,r,s,o,a,l,c,u,h,d,p,f){Tl(Rn,xl,ha(Zt(),t,e,n,i,r,s,o,a,l,c,u,h,d,p,f),!0)}function ec(t,e,n,i,r,s,o,a,l,c,u,h,d,p,f,m,g){Tl(Rn,xl,da(Zt(),t,e,n,i,r,s,o,a,l,c,u,h,d,p,f,m,g),!0)}function nc(t){Tl(Rn,xl,ra(Zt(),t),!0)}function ic(t,e,n){Cl(sa(Zt(),t,e,n))}function rc(t,e,n,i,r){Cl(oa(Zt(),t,e,n,i,r))}function sc(t,e,n,i,r,s,o){Cl(aa(Zt(),t,e,n,i,r,s,o))}function oc(t,e,n,i,r,s,o,a,l){Cl(la(Zt(),t,e,n,i,r,s,o,a,l))}function ac(t,e,n,i,r,s,o,a,l,c,u){Cl(ca(Zt(),t,e,n,i,r,s,o,a,l,c,u))}function lc(t,e,n,i,r,s,o,a,l,c,u,h,d){Cl(ua(Zt(),t,e,n,i,r,s,o,a,l,c,u,h,d))}function cc(t,e,n,i,r,s,o,a,l,c,u,h,d,p,f){Cl(ha(Zt(),t,e,n,i,r,s,o,a,l,c,u,h,d,p,f))}function uc(t,e,n,i,r,s,o,a,l,c,u,h,d,p,f,m,g){Cl(da(Zt(),t,e,n,i,r,s,o,a,l,c,u,h,d,p,f,m,g))}function hc(t){Cl(ra(Zt(),t))}function dc(t,e,n,i,r){return kl(t,sa(Zt(),e,n,i),r,!1),dc}function pc(t,e,n,i,r,s,o){return kl(t,oa(Zt(),e,n,i,r,s),o,!1),pc}function fc(t,e,n,i,r,s,o,a,l){return kl(t,aa(Zt(),e,n,i,r,s,o,a),l,!1),fc}function mc(t,e,n,i,r,s,o,a,l,c,u){return kl(t,la(Zt(),e,n,i,r,s,o,a,l,c),u,!1),mc}function gc(t,e,n,i,r,s,o,a,l,c,u,h,d){return kl(t,ca(Zt(),e,n,i,r,s,o,a,l,c,u,h),d,!1),gc}function _c(t,e,n,i,r,s,o,a,l,c,u,h,d,p,f){return kl(t,ua(Zt(),e,n,i,r,s,o,a,l,c,u,h,d,p),f,!1),_c}function yc(t,e,n,i,r,s,o,a,l,c,u,h,d,p,f,m,g){return kl(t,ha(Zt(),e,n,i,r,s,o,a,l,c,u,h,d,p,f,m),g,!1),yc}function vc(t,e,n,i,r,s,o,a,l,c,u,h,d,p,f,m,g,_,y){return kl(t,da(Zt(),e,n,i,r,s,o,a,l,c,u,h,d,p,f,m,g,_),y,!1),vc}function bc(t,e,n){return kl(t,ra(Zt(),e),n,!1),bc}function wc(t,e,n){const i=Zt();return Xo(i,ae(),e)&&zs(Yt(),xe(),i,t,e,i[11],n,!0),wc}function Cc(t,e,n){const i=Zt();if(Xo(i,ae(),e)){const r=Yt(),s=xe();zs(r,s,i,t,e,mo(de(r.data),s,i),n,!0)}return Cc}const Ec=void 0;var Sc=["en",[["a","p"],["AM","PM"],Ec],[["AM","PM"],Ec,Ec],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ec,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ec,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ec,"{1} 'at' {0}",Ec],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let xc={};function kc(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=Ic(e);if(n)return n;const i=e.split("-")[0];if(n=Ic(i),n)return n;if("en"===i)return Sc;throw new Error(`Missing locale data for the locale "${t}".`)}function Tc(t){return kc(t)[Ac.PluralCase]}function Ic(t){return t in xc||(xc[t]=j.ng&&j.ng.common&&j.ng.common.locales&&j.ng.common.locales[t]),xc[t]}var Ac=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});const Dc=["zero","one","two","few","many"],Rc="en-US",Oc={marker:"element"},Pc={marker:"ICU"};var Nc=function(t){return t[t.SHIFT=2]="SHIFT",t[t.APPEND_EAGERLY=1]="APPEND_EAGERLY",t[t.COMMENT=2]="COMMENT",t}({});let Fc=Rc;function Lc(t){var e;null==(e=t)&&b("Expected localeId to be defined",e,null,"!="),"string"==typeof t&&(Fc=t.toLowerCase().replace(/_/g,"-"))}function Mc(t,e,n){const i=e.insertBeforeIndex,r=Array.isArray(i)?i[0]:i;return null===r?$r(t,0,n):Ot(n[r])}function Bc(t,e,n,i,r){const s=e.insertBeforeIndex;if(Array.isArray(s)){let o=i,a=null;if(3&e.type||(a=o,o=r),null!==o&&0==(2&e.flags))for(let e=1;e<s.length;e++)jr(t,o,n[s[e]],a,!1)}}function Vc(t,e){if(t.push(e),t.length>1)for(let n=t.length-2;n>=0;n--){const i=t[n];Uc(i)||jc(i,e)&&null===qc(i)&&zc(i,e.index)}}function Uc(t){return!(64&t.type)}function jc(t,e){return Uc(e)||t.index>e.index}function qc(t){const e=t.insertBeforeIndex;return Array.isArray(e)?e[0]:e}function zc(t,e){const n=t.insertBeforeIndex;Array.isArray(n)?n[0]=e:(Wr(Mc,Bc),t.insertBeforeIndex=e)}function Hc(t,e){const n=t.data[e];return null===n||"string"==typeof n?null:n.hasOwnProperty("currentCaseLViewIndex")?n:n.value}function Gc(t,e,n){const i=Ds(t,n,64,null,null);return Vc(e,i),i}function $c(t,e){const n=e[t.currentCaseLViewIndex];return null===n?n:n<0?~n:n}let Zc=0,Yc=0;function Wc(t,e,n,i){const r=n[11];let s,o=null;for(let a=0;a<e.length;a++){const l=e[a];if("string"==typeof l){const t=e[++a];null===n[t]&&(n[t]=Rr(r,l))}else if("number"==typeof l)switch(1&l){case 0:const c=l>>>17;let u,h;if(null===o&&(o=c,s=Hr(r,i)),c===o?(u=i,h=s):(u=null,h=Ot(n[c])),null!==h){const e=(131070&l)>>>1;jr(r,h,n[e],u,!1);const i=Hc(t,e);if(null!==i&&"object"==typeof i){const e=$c(i,n);null!==e&&Wc(t,i.create[e],n,n[i.anchorIdx])}}break;case 1:const d=e[++a],p=e[++a];Xs(r,Pt(l>>>1,n),null,null,d,p,null);break;default:throw new Error(`Unable to determine the type of mutate operation for "${l}"`)}else switch(l){case Pc:const t=e[++a],i=e[++a];null===n[i]&&ur(n[i]=Pr(r,t),n);break;case Oc:const s=e[++a],o=e[++a];null===n[o]&&ur(n[o]=Nr(r,s,null),n)}}}function Kc(t,e,n,i,r){for(let s=0;s<n.length;s++){const o=n[s],a=n[++s];if(o&r){let r="";for(let o=s+1;o<=s+a;o++){const s=n[o];if("string"==typeof s)r+=s;else if("number"==typeof s)if(s<0)r+=_(e[i-s]);else{const a=s>>>2;switch(3&s){case 1:const s=n[++o],l=n[++o],c=t.data[a];"string"==typeof c?Xs(e[11],e[a],null,c,s,r,l):zs(t,c,e,s,r,e[11],l,!1);break;case 0:const u=e[a];null!==u&&Or(e[11],u,r);break;case 2:Jc(t,Hc(t,a),e,r);break;case 3:Qc(t,Hc(t,a),i,e)}}}}else{const r=n[s+1];if(r>0&&3==(3&r)){const n=Hc(t,r>>>2);e[n.currentCaseLViewIndex]<0&&Qc(t,n,i,e)}}s+=a}}function Qc(t,e,n,i){let r=i[e.currentCaseLViewIndex];if(null!==r){let s=Zc;r<0&&(r=i[e.currentCaseLViewIndex]=~r,s=-1),Kc(t,i,e.update[r],n,s)}}function Jc(t,e,n,i){const r=function(t,e){let n=t.cases.indexOf(e);if(-1===n)switch(t.type){case 1:{const i=function(t,e){const n=Tc(e)(parseInt(t,10)),i=Dc[n];return void 0!==i?i:"other"}(e,Fc);n=t.cases.indexOf(i),-1===n&&"other"!==i&&(n=t.cases.indexOf("other"));break}case 0:n=t.cases.indexOf("other")}return-1===n?null:n}(e,i);if($c(e,n)!==r&&(Xc(t,e,n),n[e.currentCaseLViewIndex]=null===r?null:~r,null!==r)){const i=n[e.anchorIdx];i&&Wc(t,e.create[r],n,i)}}function Xc(t,e,n){let i=$c(e,n);if(null!==i){const r=e.remove[i];for(let e=0;e<r.length;e++){const i=r[e];if(i>0){const t=Pt(i,n);null!==t&&ts(n[11],t)}else Xc(t,Hc(t,~i),n)}}}const tu=/\ufffd(\d+):?\d*\ufffd/gi,eu=/({\s*\ufffd\d+:?\d*\ufffd\s*,\s*\S{6}\s*,[\s\S]*})/gi,nu=/\ufffd(\d+)\ufffd/,iu=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,ru=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,su=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,ou=/\uE500/g;function au(t,e,n,i,r,s,o){const a=Rs(t,i,1,null);let l=a<<Nc.SHIFT,c=Jt();e===c&&(c=null),null===c&&(l|=Nc.APPEND_EAGERLY),o&&(l|=Nc.COMMENT,void 0===Sr&&(Sr=function(){const t=[];let e,n,i=-1;function r(t,e){i=0;const r=$c(t,e);n=null!==r?t.remove[r]:z}function s(){if(i<n.length){const o=n[i++];return o>0?e[o]:(t.push(i,n),r(e[1].data[~o],e),s())}return 0===t.length?null:(n=t.pop(),i=t.pop(),s())}return function(n,i){for(e=i;t.length;)t.pop();return r(n.value,i),s}}())),r.push(l,null===s?"":s);const u=Ds(t,a,o?32:1,null===s?"":s,null);Vc(n,u);const h=u.index;return Xt(u,!1),null!==c&&e!==c&&function(t,e){let n=t.insertBeforeIndex;var i;null===n?(Wr(Mc,Bc),n=t.insertBeforeIndex=[null,e]):("Expecting array here",(i=Array.isArray(n))!=!0&&b("Expecting array here",i,true,"=="),n.push(e))}(c,h),u}function lu(t,e,n,i,r,s,o){const a=o.match(tu),l=au(t,e,n,s,i,a?null:o,!1);a&&cu(r,o,l.index,null,0,null)}function cu(t,e,n,i,r,s){const o=t.length,a=o+1;t.push(null,null);const l=o+2,c=e.split(tu);let u=0;for(let h=0;h<c.length;h++){const e=c[h];if(1&h){const n=r+parseInt(e,10);t.push(-1-n),u|=hu(n)}else""!==e&&t.push(e)}return t.push(n<<2|(i?1:0)),i&&t.push(i,s),t[o]=u,t[a]=t.length-l,u}function uu(t){let e=0;for(let n=0;n<t.length;n++){const i=t[n];"number"==typeof i&&i<0&&e++}return e}function hu(t){return 1<<Math.min(t,31)}function du(t){let e,n,i="",r=0,s=!1;for(;null!==(e=ru.exec(t));)s?e[0]===`\ufffd/*${n}\ufffd`&&(r=e.index,s=!1):(i+=t.substring(r,e.index+e[0].length),n=e[1],s=!0);return i+=t.substr(r),i}function pu(t,e,n,i,r,s){let o=0;const a={type:r.type,currentCaseLViewIndex:Rs(t,e,1,null),anchorIdx:s,cases:[],create:[],remove:[],update:[]};!function(t,e,n){t.push(hu(e.mainBinding),2,-1-e.mainBinding,n<<2|2)}(n,r,s),function(t,e,n){const i=t.data[e];null===i?t.data[e]=n:i.value=n}(t,s,a);const l=r.values;for(let c=0;c<l.length;c++){const s=l[c],u=[];for(let t=0;t<s.length;t++){const e=s[t];if("string"!=typeof e){const n=u.push(e)-1;s[t]=`\x3c!--\ufffd${n}\ufffd--\x3e`}}o=gu(t,a,e,n,i,r.cases[c],s.join(""),u)|o}o&&function(t,e,n){t.push(e,1,n<<2|3)}(n,o,s)}function fu(t){const e=[],n=[];let i=1,r=0;const s=mu(t=t.replace(iu,function(t,e,n){return i="select"===n?0:1,r=parseInt(e.substr(1),10),""}));for(let o=0;o<s.length;){let t=s[o++].trim();1===i&&(t=t.replace(/\s*(?:=)?(\w+)\s*/,"$1")),t.length&&e.push(t);const r=mu(s[o++]);e.length>n.length&&n.push(r)}return{type:i,mainBinding:r,cases:e,values:n}}function mu(t){if(!t)return[];let e=0;const n=[],i=[],r=/[{}]/g;let s;for(r.lastIndex=0;s=r.exec(t);){const r=s.index;if("}"==s[0]){if(n.pop(),0==n.length){const n=t.substring(e,r);iu.test(n)?i.push(fu(n)):i.push(n),e=r+1}}else{if(0==n.length){const n=t.substring(e,r);i.push(n),e=r+1}n.push("{")}}const o=t.substring(e);return i.push(o),i}function gu(t,e,n,i,r,s,o,a){const l=[],c=[],u=[];e.cases.push(s),e.create.push(l),e.remove.push(c),e.update.push(u);const h=Ai(At()).getInertBodyElement(o),d=Xi(h)||h;return d?_u(t,e,n,i,l,c,u,d,r,a,0):0}function _u(t,e,n,i,r,s,o,a,l,c,u){let h=0,d=a.firstChild;for(;d;){const a=Rs(t,n,1,null);switch(d.nodeType){case Node.ELEMENT_NODE:const p=d,f=p.tagName.toLowerCase();if(qi.hasOwnProperty(f)){bu(r,Oc,f,l,a),t.data[a]=f;const m=p.attributes;for(let t=0;t<m.length;t++){const e=m.item(t),n=e.name.toLowerCase();e.value.match(tu)?Gi.hasOwnProperty(n)&&cu(o,e.value,a,e.name,0,zi[n]?Ni:Hi[n]?Fi:null):wu(r,a,e)}h=_u(t,e,n,i,r,s,o,d,a,c,u+1)|h,yu(s,a,u)}break;case Node.TEXT_NODE:const m=d.textContent||"",g=m.match(tu);bu(r,null,g?"":m,l,a),yu(s,a,u),g&&(h=cu(o,m,a,null,0,null)|h);break;case Node.COMMENT_NODE:const _=nu.exec(d.textContent||"");if(_){const e=c[parseInt(_[1],10)];bu(r,Pc,"",l,a),pu(t,n,i,l,e,a),vu(s,a,u)}}d=d.nextSibling}return h}function yu(t,e,n){0===n&&t.push(e)}function vu(t,e,n){0===n&&(t.push(~e),t.push(e))}function bu(t,e,n,i,r){null!==e&&t.push(e),t.push(n,r,0|i<<17|r<<1)}function wu(t,e,n){t.push(e<<1|1,n.name,n.value)}const Cu=/\[(\ufffd.+?\ufffd?)\]/,Eu=/\[(\ufffd.+?\ufffd?)\]|(\ufffd\/?\*\d+:\d+\ufffd)/g,Su=/({\s*)(VAR_(PLURAL|SELECT)(_\d+)?)(\s*,)/g,xu=/{([A-Z0-9_]+)}/g,ku=/\ufffdI18N_EXP_(ICU(_\d+)?)\ufffd/g,Tu=/\/\*/,Iu=/\d+\:(\d+)/;function Au(t,e,n=-1){const i=Yt(),r=Zt(),s=ut+t,o=Ut(i.consts,e),a=Jt();i.firstCreatePass&&function(t,e,n,i,r,s){const o=Jt(),a=[],l=[],c=[[]],u=(h=r=function(t,e){if(function(t){return-1===t}(e))return du(t);{const n=t.indexOf(`:${e}\ufffd`)+2+e.toString().length,i=t.search(new RegExp(`\ufffd\\/\\*\\d+:${e}\ufffd`));return du(t.substring(n,i))}}(r,s),h.replace(ou," ")).split(su);var h;for(let d=0;d<u.length;d++){let i=u[d];if(0==(1&d)){const s=mu(i);for(let i=0;i<s.length;i++){let u=s[i];if(0==(1&i)){const e=u;""!==e&&lu(t,o,c[0],a,l,n,e)}else{const i=u;if("object"!=typeof i)throw new Error(`Unable to parse ICU expression in "${r}" message.`);pu(t,n,l,e,i,au(t,o,c[0],n,a,"",!0).index)}}}else{const e=47===i.charCodeAt(0),n=(i.charCodeAt(e?1:0),ut+Number.parseInt(i.substring(e?2:1)));if(e)c.shift(),Xt(Jt(),!1);else{const e=Gc(t,c[0],n);c.unshift([]),Xt(e,!0)}}}t.data[i]={create:a,update:l}}(i,null===a?0:a.index,r,s,o,n);const l=i.data[s],c=Ur(i,a===r[6]?null:a,r);!function(t,e,n,i){const r=t[11];for(let s=0;s<e.length;s++){const o=e[s++],a=e[s],l=(o&Nc.COMMENT)===Nc.COMMENT,c=(o&Nc.APPEND_EAGERLY)===Nc.APPEND_EAGERLY,u=o>>>Nc.SHIFT;let h=t[u];null===h&&(h=t[u]=l?r.createComment(a):Rr(r,a)),c&&null!==n&&jr(r,n,h,i,!1)}}(r,l.create,c,a&&8&a.type?r[a.index]:null),ce(!0)}function Du(){ce(!1)}function Ru(t,e,n){Au(t,e,n),Du()}function Ou(t,e){const n=Yt(),i=Ut(n.consts,e);!function(t,e,n){const i=Kt().index,r=[];if(t.firstCreatePass&&null===t.data[e]){for(let t=0;t<n.length;t+=2){const e=n[t],s=n[t+1];if(""!==s){if(eu.test(s))throw new Error(`ICU expressions are not supported in attributes. Message: "${s}".`);cu(r,s,i,e,uu(r),null)}}t.data[e]=r}}(n,t+ut,i)}function Pu(t){return Xo(Zt(),ae(),t)&&(Zc|=1<<Math.min(Yc,31)),Yc++,Pu}function Nu(t){!function(t,e,n){if(Yc>0){const i=t.data[n];Kc(t,e,Array.isArray(i)?i:i.update,se()-Yc-1,Zc)}Zc=0,Yc=0}(Yt(),Zt(),t+ut)}function Fu(t,e={}){return function(t,e={}){let n=t;if(Cu.test(t)){const t={},e=[0];n=n.replace(Eu,(n,i,r)=>{const s=i||r,o=t[s]||[];if(o.length||(s.split("|").forEach(t=>{const e=t.match(Iu),n=e?parseInt(e[1],10):0,i=Tu.test(t);o.push([n,i,t])}),t[s]=o),!o.length)throw new Error(`i18n postprocess: unmatched placeholder - ${s}`);const a=e[e.length-1];let l=0;for(let t=0;t<o.length;t++)if(o[t][0]===a){l=t;break}const[c,u,h]=o[l];return u?e.pop():a!==c&&e.push(c),o.splice(l,1),h})}return Object.keys(e).length?(n=n.replace(Su,(t,n,i,r,s,o)=>e.hasOwnProperty(i)?`${n}${e[i]}${o}`:t),n=n.replace(xu,(t,n)=>e.hasOwnProperty(n)?e[n]:t),n=n.replace(ku,(t,n)=>{if(e.hasOwnProperty(n)){const i=e[n];if(!i.length)throw new Error(`i18n postprocess: unmatched ICU - ${t} with key: ${n}`);return i.shift()}return t}),n):n}(t,e)}function Lu(t,e,n,i,r){if(t=f(t),Array.isArray(t))for(let s=0;s<t.length;s++)Lu(t[s],e,n,i,r);else{const s=Yt(),o=Zt();let a=Po(t)?t:f(t.provide),l=Do(t);const c=Kt(),u=1048575&c.providerIndexes,h=c.directiveStart,d=c.providerIndexes>>20;if(Po(t)||!t.multi){const i=new Le(l,r,Da),p=Vu(a,e,r?u:u+d,h);-1===p?(Je(Ye(c,o),s,a),Mu(s,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,r&&(c.providerIndexes+=1048576),n.push(i),o.push(i)):(n[p]=i,o[p]=i)}else{const p=Vu(a,e,u+d,h),f=Vu(a,e,u,u+d),m=p>=0&&n[p],g=f>=0&&n[f];if(r&&!g||!r&&!m){Je(Ye(c,o),s,a);const u=function(t,e,n,i,r){const s=new Le(t,n,Da);return s.multi=[],s.index=e,s.componentProviders=0,Bu(s,r,i&&!n),s}(r?ju:Uu,n.length,r,i,l);!r&&g&&(n[f].providerFactory=u),Mu(s,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,r&&(c.providerIndexes+=1048576),n.push(u),o.push(u)}else Mu(s,t,p>-1?p:f,Bu(n[r?f:p],l,!r&&i));!r&&i&&g&&n[f].componentProviders++}}}function Mu(t,e,n,i){const r=Po(e);if(r||e.useClass){const s=(e.useClass||e).prototype.ngOnDestroy;if(s){const o=t.destroyHooks||(t.destroyHooks=[]);if(!r&&e.multi){const t=o.indexOf(n);-1===t?o.push(n,[i,s]):o[t+1].push(i,s)}else o.push(n,s)}}}function Bu(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Vu(t,e,n,i){for(let r=n;r<i;r++)if(e[r]===t)return r;return-1}function Uu(t,e,n,i){return qu(this.multi,[])}function ju(t,e,n,i){const r=this.multi;let s;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=an(n,n[1],this.providerFactory.index,i);s=e.slice(0,t),qu(r,s);for(let n=t;n<e.length;n++)s.push(e[n])}else s=[],qu(r,s);return s}function qu(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function zu(t,e=[]){return n=>{n.providersResolver=(n,i)=>function(t,e,n){const i=Yt();if(i.firstCreatePass){const r=_t(t);Lu(n,i.data,i.blueprint,r,!0),Lu(e,i.data,i.blueprint,r,!1)}}(n,i?i(t):t,e)}}class Hu{}class Gu{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${u(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let $u=(()=>{class t{}return t.NULL=new Gu,t})();function Zu(...t){}function Yu(t,e){return new Ku(Nt(t,e))}const Wu=function(){return Yu(Kt(),Zt())};let Ku=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=Wu,t})();function Qu(t){return t instanceof Ku?t.nativeElement:t}class Ju{}let Xu=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>th(),t})();const th=function(){const t=Zt(),e=Mt(Kt().index,t);return function(t){return t[11]}(dt(e)?e:t)};let eh=(()=>{class t{}return t.\u0275prov=w({token:t,providedIn:"root",factory:()=>null}),t})();class nh{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const ih=new nh("12.0.5");class rh{constructor(){}supports(t){return Wo(t)}create(t){return new oh(t)}}const sh=(t,e)=>e;class oh{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||sh}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,i=0,r=null;for(;e||n;){const s=!n||e&&e.currentIndex<uh(n,i,r)?e:n,o=uh(s,i,r),a=s.currentIndex;if(s===n)i--,n=n._nextRemoved;else if(e=e._next,null==s.previousIndex)i++;else{r||(r=[]);const t=o-i,e=a-i;if(t!=e){for(let n=0;n<t;n++){const i=n<r.length?r[n]:r[n]=0,s=i+n;e<=s&&s<t&&(r[n]=i+1)}r[s.previousIndex]=e-t}}o!==a&&t(s,o,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Wo(t))throw new Error(`Error trying to diff '${u(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,i,r=this._itHead,s=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],i=this._trackByFn(e,n),null!==r&&Object.is(r.trackById,i)?(s&&(r=this._verifyReinsertion(r,n,i,e)),Object.is(r.item,n)||this._addIdentityChange(r,n)):(r=this._mismatch(r,n,i,e),s=!0),r=r._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Zo()]();let i;for(;!(i=n.next()).done;)e(i.value)}}(t,t=>{i=this._trackByFn(e,t),null!==r&&Object.is(r.trackById,i)?(s&&(r=this._verifyReinsertion(r,t,i,e)),Object.is(r.item,t)||this._addIdentityChange(r,t)):(r=this._mismatch(r,t,i,e),s=!0),r=r._next,e++}),this.length=e;return this._truncate(r),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,i){let r;return null===t?r=this._itTail:(r=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,r,i)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,i))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,r,i)):t=this._addAfter(new ah(e,n),r,i),t}_verifyReinsertion(t,e,n,i){let r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==r?t=this._reinsertAfter(r,t._prev,i):t.currentIndex!=i&&(t.currentIndex=i,this._addToMoves(t,i)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const i=t._prevRemoved,r=t._nextRemoved;return null===i?this._removalsHead=r:i._nextRemoved=r,null===r?this._removalsTail=i:r._prevRemoved=i,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const i=null===e?this._itHead:e._next;return t._next=i,t._prev=e,null===i?this._itTail=t:i._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new ch),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ch),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class ah{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class lh{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class ch{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new lh,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function uh(t,e,n){const i=t.previousIndex;if(null===i)return i;let r=0;return n&&i<n.length&&(r=n[i]),i+e+r}class hh{constructor(){}supports(t){return t instanceof Map||Ko(t)}create(){return new dh}}class dh{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||Ko(t)))throw new Error(`Error trying to diff '${u(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const i=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,i)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const i=n._prev,r=n._next;return i&&(i._next=r),r&&(r._prev=i),n._next=null,n._prev=null,n}const n=new ph(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class ph{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function fh(){return new mh([new rh])}let mh=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||fh()),deps:[[t,new ni,new ti]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=w({token:t,providedIn:"root",factory:fh}),t})();function gh(){return new _h([new hh])}let _h=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||gh()),deps:[[t,new ni,new ti]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=w({token:t,providedIn:"root",factory:gh}),t})();function yh(t,e,n,i,r=!1){for(;null!==n;){const s=e[n.index];if(null!==s&&i.push(Ot(s)),pt(s))for(let t=ht;t<s.length;t++){const e=s[t],n=e[1].firstChild;null!==n&&yh(e[1],e,n,i)}const o=n.type;if(8&o)yh(t,e,n.child,i);else if(32&o){const t=xr(n,e);let r;for(;r=t();)i.push(r)}else if(16&o){const t=Jr(e,n);if(Array.isArray(t))i.push(...t);else{const n=kr(e[16]);yh(n[1],n,t,i,!0)}}n=r?n.projectionNext:n.next}return i}class vh{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return yh(e,t,e.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(pt(t)){const e=t[8],n=e?e.indexOf(this):-1;n>-1&&(Lr(t,n),An(e,n))}this._attachedToViewContainer=!1}Mr(this._lView[1],this._lView)}onDestroy(t){js(this._lView[1],this._lView,null,t)}markForCheck(){ao(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){lo(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){ie(!0);try{lo(t,e,n)}finally{ie(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var t;this._appRef=null,ns(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class bh extends vh{constructor(t){super(t),this._view=t}detectChanges(){co(this._view)}checkNoChanges(){!function(t){ie(!0);try{co(t)}finally{ie(!1)}}(this._view)}get context(){return null}}const wh=function(t){return function(t,e,n){if(mt(t)&&!n){const n=Mt(t.index,e);return new vh(n,n)}return 47&t.type?new vh(e[16],e):null}(Kt(),Zt(),16==(16&t))};let Ch=(()=>{class t{}return t.__NG_ELEMENT_ID__=wh,t})();const Eh=[new hh],Sh=new mh([new rh]),xh=new _h(Eh),kh=function(){return Dh(Kt(),Zt())};let Th=(()=>{class t{}return t.__NG_ELEMENT_ID__=kh,t})();const Ih=Th,Ah=class extends Ih{constructor(t,e,n){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=Is(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const i=this._declarationLView[19];return null!==i&&(n[19]=i.createEmbeddedView(e)),Os(e,n,t),new vh(n)}};function Dh(t,e){return 4&t.type?new Ah(e,t,Yu(t,e)):null}class Rh{}class Oh{}const Ph=function(){return Vh(Kt(),Zt())};let Nh=(()=>{class t{}return t.__NG_ELEMENT_ID__=Ph,t})();const Fh=Nh,Lh=class extends Fh{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=n}get element(){return Yu(this._hostTNode,this._hostLView)}get injector(){return new un(this._hostTNode,this._hostLView)}get parentInjector(){const t=Qe(this._hostTNode,this._hostLView);if(qe(t)){const e=He(t,this._hostLView),n=ze(t);return new un(e[1].data[n+8],e)}return new un(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=Mh(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-ht}createEmbeddedView(t,e,n){const i=t.createEmbeddedView(e||{});return this.insert(i,n),i}createComponent(t,e,n,i,r){const s=n||this.parentInjector;if(!r&&null==t.ngModule&&s){const t=s.get(Rh,null);t&&(r=t)}const o=t.create(s,i,void 0,r);return this.insert(o.hostView,e),o}insert(t,e){const n=t._lView,i=n[1];if(pt(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],i=new Lh(e,e[6],e[3]);i.detach(i.indexOf(t))}}const r=this._adjustIndex(e),s=this._lContainer;!function(t,e,n,i){const r=ht+i,s=n.length;i>0&&(n[r-1][4]=e),i<s-ht?(e[4]=n[r],In(n,ht+i,e)):(n.push(e),e[4]=null),e[3]=n;const o=e[17];null!==o&&n!==o&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(i,n,s,r);const o=Xr(r,s),a=n[11],l=Hr(a,s[7]);return null!==l&&function(t,e,n,i,r,s){i[0]=r,i[6]=e,ns(t,i,n,1,r,s)}(i,s[6],a,n,l,o),t.attachToViewContainerRef(),In(Bh(s),r,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=Mh(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),n=Lr(this._lContainer,e);n&&(An(Bh(this._lContainer),e),Mr(n[1],n))}detach(t){const e=this._adjustIndex(t,-1),n=Lr(this._lContainer,e);return n&&null!=An(Bh(this._lContainer),e)?new vh(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function Mh(t){return t[8]}function Bh(t){return t[8]||(t[8]=[])}function Vh(t,e){let n;const i=e[t.index];if(pt(i))n=i;else{let r;if(8&t.type)r=Ot(i);else{const n=e[11];r=n.createComment("");const i=Nt(t,e);jr(n,Hr(n,i),r,function(t,e){return Dt(t)?t.nextSibling(e):e.nextSibling}(n,i),!1)}e[t.index]=n=no(i,e,r,t),oo(e,n)}return new Lh(n,t,e)}const Uh={};class jh extends $u{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=lt(t);return new Hh(e,this.ngModule)}}function qh(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const zh=new wn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>yr});class Hh extends Hu{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(_s).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return qh(this.componentDef.inputs)}get outputs(){return qh(this.componentDef.outputs)}create(t,e,n,i){const r=(i=i||this.ngModule)?function(t,e){return{get:(n,i,r)=>{const s=t.get(n,Uh,r);return s!==Uh||i===Uh?s:e.get(n,i,r)}}}(t,i.injector):t,s=r.get(Ju,Rt),o=r.get(eh,null),a=s.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",c=n?function(t,e,n){if(Dt(t))return t.selectRootElement(e,n===L.ShadowDom);let i="string"==typeof e?t.querySelector(e):e;return i.textContent="",i}(a,n,this.componentDef.encapsulation):Nr(s.createRenderer(null,this.componentDef),l,function(t){const e=t.toLowerCase();return"svg"===e?xt:"math"===e?kt:null}(l)),u=this.componentDef.onPush?576:528,h={components:[],scheduler:yr,clean:ho,playerHandler:null,flags:0},d=Us(0,null,null,1,0,null,null,null,null,null),p=Is(null,d,h,u,null,null,s,a,o,r);let f,m;_e(p);try{const t=function(t,e,n,i,r,s){const o=n[1];n[20]=t;const a=As(o,20,2,"#host",null),l=a.mergedAttrs=e.hostAttrs;null!==l&&(vo(a,l,!0),null!==t&&(Me(r,t,l),null!==a.classes&&ss(r,t,a.classes),null!==a.styles&&rs(r,t,a.styles)));const c=i.createRenderer(t,e),u=Is(n,Vs(e),null,e.onPush?64:16,n[20],a,i,c,null,null);return o.firstCreatePass&&(Je(Ye(a,n),o,e.type),Zs(o,a),Ws(a,n.length,1)),oo(n,u),n[20]=u}(c,this.componentDef,p,s,a);if(c)if(n)Me(a,c,["ng-version",ih.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let i=1,r=2;for(;i<t.length;){let s=t[i];if("string"==typeof s)2===r?""!==s&&e.push(s,t[++i]):8===r&&n.push(s);else{if(!ds(r))break;r=s}i++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&Me(a,c,t),e&&e.length>0&&ss(a,c,e.join(" "))}if(m=Ft(d,ut),void 0!==e){const t=m.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const i=e[n];t.push(null!=i?Array.from(i):null)}}f=function(t,e,n,i,r){const s=n[1],o=function(t,e,n){const i=Kt();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Ks(t,i,e,Rs(t,e,1,null),n));const r=an(e,t,i.directiveStart,i);ur(r,e);const s=Nt(i,e);return s&&ur(s,e),r}(s,n,e);if(i.components.push(o),t[8]=o,r&&r.forEach(t=>t(o,e)),e.contentQueries){const t=Kt();e.contentQueries(1,o,t.directiveStart)}const a=Kt();return!s.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(Se(a.index),Gs(n[1],a,0,a.directiveStart,a.directiveEnd,e),$s(e,o)),o}(t,this.componentDef,p,h,[Lo]),Os(d,p,null)}finally{Ce()}return new Gh(this.componentType,f,Yu(m,p),p,m)}}class Gh extends class{}{constructor(t,e,n,i,r){super(),this.location=n,this._rootLView=i,this._tNode=r,this.instance=e,this.hostView=this.changeDetectorRef=new bh(i),this.componentType=t}get injector(){return new un(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function $h(t,e,n,i){return N(()=>{const r=t;null!==e&&(r.hasOwnProperty("decorators")&&void 0!==r.decorators?r.decorators.push(...e):r.decorators=e),null!==n&&(r.ctorParameters=n),null!==i&&(r.propDecorators=r.hasOwnProperty("propDecorators")&&void 0!==r.propDecorators?Object.assign(Object.assign({},r.propDecorators),i):i)})}const Zh=new Map;class Yh extends Rh{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new jh(this);const n=ct(t),i=t[Y]||null;i&&Lc(i),this._bootstrapComponents=Cr(n.bootstrap),this._r3Injector=To(t,e,[{provide:Rh,useValue:this},{provide:$u,useValue:this.componentFactoryResolver}],u(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=Fo.THROW_IF_NOT_FOUND,n=D.Default){return t===Fo||t===Rh||t===bo?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Wh extends Oh{constructor(t){super(),this.moduleType=t,null!==ct(t)&&function(t){const e=new Set;!function t(n){const i=ct(n,!0),r=i.id;null!==r&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${u(e)} vs ${u(e.name)}`)}(r,Zh.get(r),n),Zh.set(r,n));const s=Cr(i.imports);for(const o of s)e.has(o)||(e.add(o),t(o))}(t)}(t)}create(t){return new Yh(this.moduleType,t)}}function Kh(t,e,n){const i=re()+t,r=Zt();return r[i]===ys?Qo(r,i,n?e.call(n):e()):Jo(r,i)}function Qh(t,e,n,i){return ad(Zt(),re(),t,e,n,i)}function Jh(t,e,n,i,r){return ld(Zt(),re(),t,e,n,i,r)}function Xh(t,e,n,i,r,s){return cd(Zt(),re(),t,e,n,i,r,s)}function td(t,e,n,i,r,s,o){return ud(Zt(),re(),t,e,n,i,r,s,o)}function ed(t,e,n,i,r,s,o,a){const l=re()+t,c=Zt(),u=na(c,l,n,i,r,s);return Xo(c,l+4,o)||u?Qo(c,l+5,a?e.call(a,n,i,r,s,o):e(n,i,r,s,o)):Jo(c,l+5)}function nd(t,e,n,i,r,s,o,a,l){const c=re()+t,u=Zt(),h=na(u,c,n,i,r,s);return ta(u,c+4,o,a)||h?Qo(u,c+6,l?e.call(l,n,i,r,s,o,a):e(n,i,r,s,o,a)):Jo(u,c+6)}function id(t,e,n,i,r,s,o,a,l,c){const u=re()+t,h=Zt();let d=na(h,u,n,i,r,s);return ea(h,u+4,o,a,l)||d?Qo(h,u+7,c?e.call(c,n,i,r,s,o,a,l):e(n,i,r,s,o,a,l)):Jo(h,u+7)}function rd(t,e,n,i,r,s,o,a,l,c,u){const h=re()+t,d=Zt(),p=na(d,h,n,i,r,s);return na(d,h+4,o,a,l,c)||p?Qo(d,h+8,u?e.call(u,n,i,r,s,o,a,l,c):e(n,i,r,s,o,a,l,c)):Jo(d,h+8)}function sd(t,e,n,i){return hd(Zt(),re(),t,e,n,i)}function od(t,e){const n=t[e];return n===ys?void 0:n}function ad(t,e,n,i,r,s){const o=e+n;return Xo(t,o,r)?Qo(t,o+1,s?i.call(s,r):i(r)):od(t,o+1)}function ld(t,e,n,i,r,s,o){const a=e+n;return ta(t,a,r,s)?Qo(t,a+2,o?i.call(o,r,s):i(r,s)):od(t,a+2)}function cd(t,e,n,i,r,s,o,a){const l=e+n;return ea(t,l,r,s,o)?Qo(t,l+3,a?i.call(a,r,s,o):i(r,s,o)):od(t,l+3)}function ud(t,e,n,i,r,s,o,a,l){const c=e+n;return na(t,c,r,s,o,a)?Qo(t,c+4,l?i.call(l,r,s,o,a):i(r,s,o,a)):od(t,c+4)}function hd(t,e,n,i,r,s){let o=e+n,a=!1;for(let l=0;l<r.length;l++)Xo(t,o++,r[l])&&(a=!0);return a?Qo(t,o,i.apply(s,r)):od(t,o)}function dd(t,e){const n=Yt();let i;const r=t+ut;n.firstCreatePass?(i=function(t,e){if(e)for(let n=e.length-1;n>=0;n--){const i=e[n];if(t===i.name)return i}throw new g("302",`The pipe '${t}' could not be found!`)}(e,n.pipeRegistry),n.data[r]=i,i.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(r,i.onDestroy)):i=n.data[r];const s=i.factory||(i.factory=yt(i.type)),o=O(Da);try{const t=$e(!1),e=s();return $e(t),function(t,e,n,i){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=i}(n,Zt(),r,e),e}finally{O(o)}}function pd(t,e,n){const i=t+ut,r=Zt(),s=Lt(r,i);return vd(r,yd(r,i)?ad(r,re(),e,s.transform,n,s):s.transform(n))}function fd(t,e,n,i){const r=t+ut,s=Zt(),o=Lt(s,r);return vd(s,yd(s,r)?ld(s,re(),e,o.transform,n,i,o):o.transform(n,i))}function md(t,e,n,i,r){const s=t+ut,o=Zt(),a=Lt(o,s);return vd(o,yd(o,s)?cd(o,re(),e,a.transform,n,i,r,a):a.transform(n,i,r))}function gd(t,e,n,i,r,s){const o=t+ut,a=Zt(),l=Lt(a,o);return vd(a,yd(a,o)?ud(a,re(),e,l.transform,n,i,r,s,l):l.transform(n,i,r,s))}function _d(t,e,n){const i=t+ut,r=Zt(),s=Lt(r,i);return vd(r,yd(r,i)?hd(r,re(),e,s.transform,n,s):s.transform.apply(s,n))}function yd(t,e){return t[1].data[e].pure}function vd(t,e){return Yo.isWrapped(e)&&(e=Yo.unwrap(e),t[se()]=ys),e}function bd(t){return e=>{setTimeout(t,void 0,e)}}const wd=class extends i.xQ{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){var i,s,o;let a=t,l=e||(()=>null),c=n;if(t&&"object"==typeof t){const e=t;a=null===(i=e.next)||void 0===i?void 0:i.bind(e),l=null===(s=e.error)||void 0===s?void 0:s.bind(e),c=null===(o=e.complete)||void 0===o?void 0:o.bind(e)}this.__isAsync&&(l=bd(l),a&&(a=bd(a)),c&&(c=bd(c)));const u=super.subscribe({next:a,error:l,complete:c});return t instanceof r.w&&t.add(u),u}};function Cd(){return this._results[Zo()]()}class Ed{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=Zo(),n=Ed.prototype;n[e]||(n[e]=Cd)}get changes(){return this._changes||(this._changes=new wd)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const n=this;n.dirty=!1;const i=kn(t);(this._changesDetected=!function(t,e,n){if(t.length!==e.length)return!1;for(let i=0;i<t.length;i++){let r=t[i],s=e[i];if(n&&(r=n(r),s=n(s)),s!==r)return!1}return!0}(n._results,i,e))&&(n._results=i,n.length=i.length,n.last=i[this.length-1],n.first=i[0])}notifyOnChanges(){!this._changes||!this._changesDetected&&this._emitDistinctChangesOnly||this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class Sd{constructor(t){this.queryList=t,this.matches=null}clone(){return new Sd(this.queryList)}setDirty(){this.queryList.setDirty()}}class xd{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,i=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);i.push(this.queries[n.indexInDeclarationView].clone())}return new xd(i)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==Vd(t,e).matches&&this.queries[e].setDirty()}}class kd{constructor(t,e,n=null){this.predicate=t,this.flags=e,this.read=n}}class Td{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const i=null!==e?e.length:0,r=this.getByIndex(n).embeddedTView(t,i);r&&(r.indexInDeclarationView=n,null!==e?e.push(r):e=[r])}return null!==e?new Td(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Id{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new Id(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let i=0;i<n.length;i++){const r=n[i];this.matchTNodeWithReadOption(t,e,Ad(e,r)),this.matchTNodeWithReadOption(t,e,on(e,t,r,!1,!1))}else n===Th?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,on(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const i=this.metadata.read;if(null!==i)if(i===Ku||i===Nh||i===Th&&4&e.type)this.addMatch(e.index,-2);else{const n=on(e,t,i,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function Ad(t,e){const n=t.localNames;if(null!==n)for(let i=0;i<n.length;i+=2)if(n[i]===e)return n[i+1];return null}function Dd(t,e,n,i){return-1===n?function(t,e){return 11&t.type?Yu(t,e):4&t.type?Dh(t,e):null}(e,t):-2===n?function(t,e,n){return n===Ku?Yu(e,t):n===Th?Dh(e,t):n===Nh?Vh(e,t):void 0}(t,e,i):an(t,t[1],n,e)}function Rd(t,e,n,i){const r=e[19].queries[i];if(null===r.matches){const i=t.data,s=n.matches,o=[];for(let t=0;t<s.length;t+=2){const r=s[t];o.push(r<0?null:Dd(e,i[r],s[t+1],n.metadata.read))}r.matches=o}return r.matches}function Od(t,e,n,i){const r=t.queries.getByIndex(n),s=r.matches;if(null!==s){const o=Rd(t,e,r,n);for(let t=0;t<s.length;t+=2){const n=s[t];if(n>0)i.push(o[t/2]);else{const r=s[t+1],o=e[-n];for(let t=ht;t<o.length;t++){const e=o[t];e[17]===e[3]&&Od(e[1],e,r,i)}if(null!==o[9]){const t=o[9];for(let e=0;e<t.length;e++){const n=t[e];Od(n[1],n,r,i)}}}}}return i}function Pd(t){const e=Zt(),n=Yt(),i=pe();fe(i+1);const r=Vd(n,i);if(t.dirty&&Bt(e)===(2==(2&r.metadata.flags))){if(null===r.matches)t.reset([]);else{const s=r.crossesNgTemplate?Od(n,e,i,[]):Rd(n,e,r,i);t.reset(s,Qu),t.notifyOnChanges()}return!0}return!1}function Nd(t,e,n){const i=Yt();i.firstCreatePass&&(Bd(i,new kd(t,e,n),-1),2==(2&e)&&(i.staticViewQueries=!0)),Md(i,Zt(),e)}function Fd(t,e,n,i){const r=Yt();if(r.firstCreatePass){const s=Kt();Bd(r,new kd(e,n,i),s.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(r,t),2==(2&n)&&(r.staticContentQueries=!0)}Md(r,Zt(),n)}function Ld(){return t=Zt(),e=pe(),t[19].queries[e].queryList;var t,e}function Md(t,e,n){const i=new Ed(4==(4&n));js(t,e,i,i.destroy),null===e[19]&&(e[19]=new xd),e[19].queries.push(new Sd(i))}function Bd(t,e,n){null===t.queries&&(t.queries=new Td),t.queries.track(new Id(e,n))}function Vd(t,e){return t.queries.getByIndex(e)}function Ud(t,e){return Dh(t,e)}const jd=(()=>({"\u0275\u0275attribute":ia,"\u0275\u0275attributeInterpolate1":pa,"\u0275\u0275attributeInterpolate2":fa,"\u0275\u0275attributeInterpolate3":ma,"\u0275\u0275attributeInterpolate4":ga,"\u0275\u0275attributeInterpolate5":_a,"\u0275\u0275attributeInterpolate6":ya,"\u0275\u0275attributeInterpolate7":va,"\u0275\u0275attributeInterpolate8":ba,"\u0275\u0275attributeInterpolateV":wa,"\u0275\u0275defineComponent":J,"\u0275\u0275defineDirective":ot,"\u0275\u0275defineInjectable":w,"\u0275\u0275defineInjector":C,"\u0275\u0275defineNgModule":it,"\u0275\u0275definePipe":at,"\u0275\u0275directiveInject":Da,"\u0275\u0275getInheritedFactory":hn,"\u0275\u0275inject":Yn,"\u0275\u0275injectAttribute":pn,"\u0275\u0275invalidFactory":Ra,"\u0275\u0275invalidFactoryDep":Wn,"\u0275\u0275templateRefExtractor":Ud,"\u0275\u0275NgOnChangesFeature":bt,"\u0275\u0275ProvidersFeature":zu,"\u0275\u0275CopyDefinitionFeature":Go,"\u0275\u0275InheritDefinitionFeature":Bo,"\u0275\u0275nextContext":Wa,"\u0275\u0275namespaceHTML":Ie,"\u0275\u0275namespaceMathML":Te,"\u0275\u0275namespaceSVG":ke,"\u0275\u0275enableBindings":Gt,"\u0275\u0275disableBindings":$t,"\u0275\u0275elementStart":Na,"\u0275\u0275elementEnd":Fa,"\u0275\u0275element":La,"\u0275\u0275elementContainerStart":Ma,"\u0275\u0275elementContainerEnd":Ba,"\u0275\u0275elementContainer":Va,"\u0275\u0275pureFunction0":Kh,"\u0275\u0275pureFunction1":Qh,"\u0275\u0275pureFunction2":Jh,"\u0275\u0275pureFunction3":Xh,"\u0275\u0275pureFunction4":td,"\u0275\u0275pureFunction5":ed,"\u0275\u0275pureFunction6":nd,"\u0275\u0275pureFunction7":id,"\u0275\u0275pureFunction8":rd,"\u0275\u0275pureFunctionV":sd,"\u0275\u0275getCurrentView":Ua,"\u0275\u0275restoreView":Wt,"\u0275\u0275listener":Ha,"\u0275\u0275projection":Ja,"\u0275\u0275syntheticHostProperty":Cc,"\u0275\u0275syntheticHostListener":Ga,"\u0275\u0275pipeBind1":pd,"\u0275\u0275pipeBind2":fd,"\u0275\u0275pipeBind3":md,"\u0275\u0275pipeBind4":gd,"\u0275\u0275pipeBindV":_d,"\u0275\u0275projectionDef":Qa,"\u0275\u0275hostProperty":wc,"\u0275\u0275property":Oa,"\u0275\u0275propertyInterpolate":Xa,"\u0275\u0275propertyInterpolate1":tl,"\u0275\u0275propertyInterpolate2":el,"\u0275\u0275propertyInterpolate3":nl,"\u0275\u0275propertyInterpolate4":il,"\u0275\u0275propertyInterpolate5":rl,"\u0275\u0275propertyInterpolate6":sl,"\u0275\u0275propertyInterpolate7":ol,"\u0275\u0275propertyInterpolate8":al,"\u0275\u0275propertyInterpolateV":ll,"\u0275\u0275pipe":dd,"\u0275\u0275queryRefresh":Pd,"\u0275\u0275viewQuery":Nd,"\u0275\u0275loadQuery":Ld,"\u0275\u0275contentQuery":Fd,"\u0275\u0275reference":Ea,"\u0275\u0275classMap":Sl,"\u0275\u0275classMapInterpolate1":Yl,"\u0275\u0275classMapInterpolate2":Wl,"\u0275\u0275classMapInterpolate3":Kl,"\u0275\u0275classMapInterpolate4":Ql,"\u0275\u0275classMapInterpolate5":Jl,"\u0275\u0275classMapInterpolate6":Xl,"\u0275\u0275classMapInterpolate7":tc,"\u0275\u0275classMapInterpolate8":ec,"\u0275\u0275classMapInterpolateV":nc,"\u0275\u0275styleMap":Cl,"\u0275\u0275styleMapInterpolate1":ic,"\u0275\u0275styleMapInterpolate2":rc,"\u0275\u0275styleMapInterpolate3":sc,"\u0275\u0275styleMapInterpolate4":oc,"\u0275\u0275styleMapInterpolate5":ac,"\u0275\u0275styleMapInterpolate6":lc,"\u0275\u0275styleMapInterpolate7":cc,"\u0275\u0275styleMapInterpolate8":uc,"\u0275\u0275styleMapInterpolateV":hc,"\u0275\u0275styleProp":bl,"\u0275\u0275stylePropInterpolate1":dc,"\u0275\u0275stylePropInterpolate2":pc,"\u0275\u0275stylePropInterpolate3":fc,"\u0275\u0275stylePropInterpolate4":mc,"\u0275\u0275stylePropInterpolate5":gc,"\u0275\u0275stylePropInterpolate6":_c,"\u0275\u0275stylePropInterpolate7":yc,"\u0275\u0275stylePropInterpolate8":vc,"\u0275\u0275stylePropInterpolateV":bc,"\u0275\u0275classProp":wl,"\u0275\u0275advance":vs,"\u0275\u0275template":Ca,"\u0275\u0275text":Ml,"\u0275\u0275textInterpolate":Bl,"\u0275\u0275textInterpolate1":Vl,"\u0275\u0275textInterpolate2":Ul,"\u0275\u0275textInterpolate3":jl,"\u0275\u0275textInterpolate4":ql,"\u0275\u0275textInterpolate5":zl,"\u0275\u0275textInterpolate6":Hl,"\u0275\u0275textInterpolate7":Gl,"\u0275\u0275textInterpolate8":$l,"\u0275\u0275textInterpolateV":Zl,"\u0275\u0275i18n":Ru,"\u0275\u0275i18nAttributes":Ou,"\u0275\u0275i18nExp":Pu,"\u0275\u0275i18nStart":Au,"\u0275\u0275i18nEnd":Du,"\u0275\u0275i18nApply":Nu,"\u0275\u0275i18nPostprocess":Fu,"\u0275\u0275resolveWindow":vr,"\u0275\u0275resolveDocument":br,"\u0275\u0275resolveBody":wr,"\u0275\u0275setComponentScope":X,"\u0275\u0275setNgModuleScope":rt,"\u0275\u0275sanitizeHtml":er,"\u0275\u0275sanitizeStyle":nr,"\u0275\u0275sanitizeResourceUrl":rr,"\u0275\u0275sanitizeScript":sr,"\u0275\u0275sanitizeUrl":ir,"\u0275\u0275sanitizeUrlOrResourceUrl":lr,"\u0275\u0275trustConstantHtml":or,"\u0275\u0275trustConstantResourceUrl":ar,forwardRef:p,resolveForwardRef:f}))(),qd=[];function zd(t){return function(t){return void 0!==t.ngModule}(t)?t.ngModule:t}function Hd(t,e){return{type:t,name:t.name,pipeName:e.name,pure:void 0===e.pure||e.pure}}const Gd=_n("Pipe",t=>Object.assign({pure:!0},t),void 0,void 0,(t,e)=>$d(t,e)),$d=function(t,e){let n=null,i=null;Object.defineProperty(t,W,{get:()=>{if(null===i){const n=Hd(t,e),r=En();i=r.compileFactory(jd,`ng:///${n.name}/\u0275fac.js`,{name:n.name,type:n.type,typeArgumentCount:0,deps:ai(t),target:r.FactoryTarget.Pipe})}return i},configurable:!1}),Object.defineProperty(t,$,{get:()=>{if(null===n){const i=Hd(t,e);n=En().compilePipe(jd,`ng:///${i.name}/\u0275pipe.js`,i)}return n},configurable:!1})},Zd=_n("NgModule",t=>t,void 0,void 0,(t,e)=>Yd(t,e)),Yd=function(t,e={}){!function(t,e,n=!1){const i=kn(e.declarations||z);let r=null;Object.defineProperty(t,Z,{configurable:!0,get:()=>(null===r&&(r=En().compileNgModule(jd,`ng:///${t.name}/\u0275mod.js`,{type:t,bootstrap:kn(e.bootstrap||z).map(f),declarations:i.map(f),imports:kn(e.imports||z).map(f).map(zd),exports:kn(e.exports||z).map(f).map(zd),schemas:e.schemas?kn(e.schemas):null,id:e.id||null}),r.schemas||(r.schemas=[])),r)});let s=null;Object.defineProperty(t,W,{get:()=>{if(null===s){const e=En();s=e.compileFactory(jd,`ng:///${t.name}/\u0275fac.js`,{name:t.name,type:t,deps:ai(t),target:e.FactoryTarget.NgModule,typeArgumentCount:0})}return s},configurable:!1});let o=null;Object.defineProperty(t,T,{get:()=>{if(null===o){const n={name:t.name,type:t,providers:e.providers||z,imports:[(e.imports||z).map(f),(e.exports||z).map(f)]};o=En().compileInjector(jd,`ng:///${t.name}/\u0275inj.js`,n)}return o},configurable:!1})}(t,e),function(t,e){qd.push({moduleType:t,ngModule:e})}(t,e)},Wd=new wn("Application Initializer");let Kd=(()=>{class t{constructor(t){this.appInits=t,this.resolve=Zu,this.reject=Zu,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();if(ja(e))t.push(e);else if(za(e)){const n=new Promise((t,n)=>{e.subscribe({complete:t,error:n})});t.push(n)}}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(Yn(Wd,8))},t.\u0275prov=w({token:t,factory:t.\u0275fac}),t})();const Qd=new wn("AppId"),Jd={provide:Qd,useFactory:function(){return`${Xd()}${Xd()}${Xd()}`},deps:[]};function Xd(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const tp=new wn("Platform Initializer"),ep=new wn("Platform ID"),np=new wn("appBootstrapListener");let ip=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=w({token:t,factory:t.\u0275fac}),t})();const rp=new wn("LocaleId"),sp=new wn("DefaultCurrencyCode");class op{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const ap=function(t){return new Wh(t)},lp=ap,cp=function(t){return Promise.resolve(ap(t))},up=function(t){const e=ap(t),n=Cr(ct(t).declarations).reduce((t,e)=>{const n=lt(e);return n&&t.push(new Hh(n)),t},[]);return new op(e,n)},hp=up,dp=function(t){return Promise.resolve(up(t))};let pp=(()=>{class t{constructor(){this.compileModuleSync=lp,this.compileModuleAsync=cp,this.compileModuleAndAllComponentsSync=hp,this.compileModuleAndAllComponentsAsync=dp}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=w({token:t,factory:t.\u0275fac}),t})();const fp=(()=>Promise.resolve(0))();function mp(t){"undefined"==typeof Zone?fp.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class gp{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new wd(!1),this.onMicrotaskEmpty=new wd(!1),this.onStable=new wd(!1),this.onError=new wd(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!n&&e,i.shouldCoalesceRunChangeDetection=n,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function(){let t=j.requestAnimationFrame,e=j.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=()=>{!function(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(j,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,vp(t),t.isCheckStableRunning=!0,yp(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),vp(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,i,r,s,o,a)=>{try{return bp(t),n.invokeTask(r,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),wp(t)}},onInvoke:(n,i,r,s,o,a,l)=>{try{return bp(t),n.invoke(r,s,o,a,l)}finally{t.shouldCoalesceRunChangeDetection&&e(),wp(t)}},onHasTask:(e,n,i,r)=>{e.hasTask(i,r),n===i&&("microTask"==r.change?(t._hasPendingMicrotasks=r.microTask,vp(t),yp(t)):"macroTask"==r.change&&(t.hasPendingMacrotasks=r.macroTask))},onHandleError:(e,n,i,r)=>(e.handleError(i,r),t.runOutsideAngular(()=>t.onError.emit(r)),!1)})}(i)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!gp.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(gp.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,i){const r=this._inner,s=r.scheduleEventTask("NgZoneEvent: "+i,t,_p,Zu,Zu);try{return r.runTask(s,e,n)}finally{r.cancelTask(s)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}const _p={};function yp(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function vp(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function bp(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function wp(t){t._nesting--,yp(t)}class Cp{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new wd,this.onMicrotaskEmpty=new wd,this.onStable=new wd,this.onError=new wd}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,i){return t.apply(e,n)}}let Ep=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{gp.assertNotInAngularZone(),mp(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())mp(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let i=-1;e&&e>0&&(i=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==i),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:i,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(Yn(gp))},t.\u0275prov=w({token:t,factory:t.\u0275fac}),t})(),Sp=(()=>{class t{constructor(){this._applications=new Map,Ip.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return Ip.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=w({token:t,factory:t.\u0275fac}),t})();class xp{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function kp(t){Ip=t}let Tp,Ip=new xp,Ap=!0,Dp=!1;function Rp(){return Dp=!0,Ap}function Op(){if(Dp)throw new Error("Cannot enable prod mode after platform setup.");Ap=!1}const Pp=new wn("AllowMultipleToken");class Np{constructor(t,e){this.name=t,this.token=e}}function Fp(t,e,n=[]){const i=`Platform: ${e}`,r=new wn(i);return(e=[])=>{let s=Lp();if(!s||s.injector.get(Pp,!1))if(t)t(n.concat(e).concat({provide:r,useValue:!0}));else{const t=n.concat(e).concat({provide:r,useValue:!0},{provide:Co,useValue:"platform"});!function(t){if(Tp&&!Tp.destroyed&&!Tp.injector.get(Pp,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Tp=t.get(Mp);const e=t.get(tp,null);e&&e.forEach(t=>t())}(Fo.create({providers:t,name:i}))}return function(t){const e=Lp();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(r)}}function Lp(){return Tp&&!Tp.destroyed?Tp:null}let Mp=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new Cp:("zone.js"===t?void 0:t)||new gp({enableLongStackTrace:Rp(),shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),n}(e?e.ngZone:void 0,{ngZoneEventCoalescing:e&&e.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:e&&e.ngZoneRunCoalescing||!1}),i=[{provide:gp,useValue:n}];return n.run(()=>{const e=Fo.create({providers:i,parent:this.injector,name:t.moduleType.name}),r=t.create(e),s=r.injector.get(mr,null);if(!s)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.runOutsideAngular(()=>{const t=n.onError.subscribe({next:t=>{s.handleError(t)}});r.onDestroy(()=>{Up(this._modules,r),t.unsubscribe()})}),function(t,e,n){try{const i=n();return ja(i)?i.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):i}catch(i){throw e.runOutsideAngular(()=>t.handleError(i)),i}}(s,n,()=>{const t=r.injector.get(Kd);return t.runInitializers(),t.donePromise.then(()=>(Lc(r.injector.get(rp,Rc)||Rc),this._moduleDoBootstrap(r),r))})})}bootstrapModule(t,e=[]){const n=Bp({},e);return function(t,e,n){const i=new Wh(n);return Promise.resolve(i)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(Vp);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${u(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(Yn(Fo))},t.\u0275prov=w({token:t,factory:t.\u0275fac}),t})();function Bp(t,e){return Array.isArray(e)?e.reduce(Bp,t):Object.assign(Object.assign({},t),e)}let Vp=(()=>{class t{constructor(t,e,n,i,r){this._zone=t,this._injector=e,this._exceptionHandler=n,this._componentFactoryResolver=i,this._initStatus=r,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const l=new s.y(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),c=new s.y(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{gp.assertNotInAngularZone(),mp(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{gp.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=(0,o.T)(l,c.pipe((0,a.B)()))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof Hu?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const i=n.isBoundToModule?void 0:this._injector.get(Rh),r=n.create(Fo.NULL,[],e||n.selector,i),s=r.location.nativeElement,o=r.injector.get(Ep,null),a=o&&r.injector.get(Sp);return o&&a&&a.registerApplication(s,o),r.onDestroy(()=>{this.detachView(r.hostView),Up(this.components,r),a&&a.unregisterApplication(s)}),this._loadComponent(r),r}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;Up(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(np,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(Yn(gp),Yn(Fo),Yn(mr),Yn($u),Yn(Kd))},t.\u0275prov=w({token:t,factory:t.\u0275fac}),t})();function Up(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class jp{}class qp{}const zp={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let Hp=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||zp}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,i]=t.split("#");return void 0===i&&(i="default"),n(8255)(e).then(t=>t[i]).then(t=>Gp(t,e,i)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,i]=t.split("#"),r="NgFactory";return void 0===i&&(i="default",r=""),n(8255)(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[i+r]).then(t=>Gp(t,e,i))}}return t.\u0275fac=function(e){return new(e||t)(Yn(pp),Yn(qp,8))},t.\u0275prov=w({token:t,factory:t.\u0275fac}),t})();function Gp(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const $p=function(t){return null},Zp=Fp(null,"core",[{provide:ep,useValue:"unknown"},{provide:Mp,deps:[Fo]},{provide:Sp,deps:[]},{provide:ip,deps:[]}]),Yp=[{provide:Vp,useClass:Vp,deps:[gp,Fo,mr,$u,Kd]},{provide:zh,deps:[gp],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:Kd,useClass:Kd,deps:[[new ti,Wd]]},{provide:pp,useClass:pp,deps:[]},Jd,{provide:mh,useFactory:function(){return Sh},deps:[]},{provide:_h,useFactory:function(){return xh},deps:[]},{provide:rp,useFactory:function(t){return Lc(t=t||"undefined"!=typeof $localize&&$localize.locale||Rc),t},deps:[[new Xn(rp),new ti,new ni]]},{provide:sp,useValue:"USD"}];let Wp=(()=>{class t{constructor(t){}}return t.\u0275fac=function(e){return new(e||t)(Yn(Vp))},t.\u0275mod=it({type:t}),t.\u0275inj=C({providers:Yp}),t})()},3250:(t,e,n)=>{"use strict";n.d(e,{zQ:()=>I,ww:()=>A,rT:()=>S,f7:()=>k,L6:()=>C,_Q:()=>E,lh:()=>x,Qv:()=>w,nw:()=>T});var i=n(5366),r=n(5959),s=n(878),o=n(8318),a=n(9764),l=n(1906),c=n(9971),u=n(4689),h=n(9996),d=n(5096),p=n(3530),f=n(3853),m=n(3482),g=n(3835),_=n(5271),y=n(9748),v=n(1116),b=n(9001);const w=new i.OlP("angularfire2.auth.use-emulator"),C=new i.OlP("angularfire2.auth.settings"),E=new i.OlP("angularfire2.auth.tenant-id"),S=new i.OlP("angularfire2.auth.langugage-code"),x=new i.OlP("angularfire2.auth.use-device-language"),k=new i.OlP("angularfire.auth.persistence"),T=(t,e,n,i,r,s,o,a)=>(0,_.cc)(`${t.name}.auth`,"AngularFireAuth",t.name,()=>{const l=e.runOutsideAngular(()=>t.auth());if(n&&l.useEmulator(...n),i&&(l.tenantId=i),l.languageCode=r,s&&l.useDeviceLanguage(),o)for(const[t,e]of Object.entries(o))l.settings[t]=e;return a&&l.setPersistence(a),l},[n,i,r,s,o,a]);let I=(()=>{class t{constructor(t,e,i,b,w,C,E,S,x,k,I){const A=new r.xQ,D=(0,s.of)(void 0).pipe((0,c.QV)(w.outsideAngular),(0,u.w)(()=>b.runOutsideAngular(()=>Promise.resolve().then(n.bind(n,6702)))),(0,h.U)(()=>(0,y.on)(t,b,e)),(0,h.U)(t=>T(t,b,C,S,x,k,E,I)),(0,d.d)({bufferSize:1,refCount:!1}));if((0,v.PM)(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,s.of)(null);else{D.pipe((0,p.P)()).subscribe();const t=D.pipe((0,u.w)(t=>t.getRedirectResult().then(t=>t,()=>null)),_.iC,(0,d.d)({bufferSize:1,refCount:!1})),e=D.pipe((0,u.w)(t=>new o.y(e=>({unsubscribe:b.runOutsideAngular(()=>t.onAuthStateChanged(t=>e.next(t),t=>e.error(t),()=>e.complete()))})))),n=D.pipe((0,u.w)(t=>new o.y(e=>({unsubscribe:b.runOutsideAngular(()=>t.onIdTokenChanged(t=>e.next(t),t=>e.error(t),()=>e.complete()))}))));this.authState=t.pipe((0,f.c)(e),(0,m.R)(w.outsideAngular),(0,c.QV)(w.insideAngular)),this.user=t.pipe((0,f.c)(n),(0,m.R)(w.outsideAngular),(0,c.QV)(w.insideAngular)),this.idToken=this.user.pipe((0,u.w)(t=>t?(0,a.D)(t.getIdToken()):(0,s.of)(null))),this.idTokenResult=this.user.pipe((0,u.w)(t=>t?(0,a.D)(t.getIdTokenResult()):(0,s.of)(null))),this.credential=(0,l.T)(t,A,this.authState.pipe((0,g.h)(t=>!t))).pipe((0,h.U)(t=>(null==t?void 0:t.user)?t:null),(0,m.R)(w.outsideAngular),(0,c.QV)(w.insideAngular))}return(0,y.pX)(this,D,b,{spy:{apply:(t,e,n)=>{(t.startsWith("signIn")||t.startsWith("createUser"))&&n.then(t=>A.next(t))}}})}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(y.Dh),i.LFG(y.xv,8),i.LFG(i.Lbi),i.LFG(i.R0b),i.LFG(_.HU),i.LFG(w,8),i.LFG(C,8),i.LFG(E,8),i.LFG(S,8),i.LFG(x,8),i.LFG(k,8))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac,providedIn:"any"}),t})();(0,y.GT)(I,[{name:null,config:null,emulatorConfig:null,app:null,applyActionCode:null,checkActionCode:null,confirmPasswordReset:null,createUserWithEmailAndPassword:null,currentUser:null,fetchSignInMethodsForEmail:null,isSignInWithEmailLink:null,getRedirectResult:null,languageCode:null,settings:null,onAuthStateChanged:null,onIdTokenChanged:null,sendSignInLinkToEmail:null,sendPasswordResetEmail:null,setPersistence:null,signInAndRetrieveDataWithCredential:null,signInAnonymously:null,signInWithCredential:null,signInWithCustomToken:null,signInWithEmailAndPassword:null,signInWithPhoneNumber:null,signInWithEmailLink:null,signInWithPopup:null,signInWithRedirect:null,signOut:null,tenantId:null,updateCurrentUser:null,useDeviceLanguage:null,useEmulator:null,verifyPasswordResetCode:null}]);let A=(()=>{class t{constructor(){b.Z.registerVersion("angularfire",_.q4.full,"auth-compat")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({providers:[I]}),t})()},9822:(t,e,n)=>{"use strict";n.d(e,{KQ:()=>Qs,JS:()=>Js});var i=n(5366),r=n(8569),s=n(8318),o=n(878),a=n(1906),l=n(9829),c=n(7e3);class u{constructor(t,e){this.observables=t,this.project=e}call(t,e){return e.subscribe(new h(t,this.observables,this.project))}}class h extends l.L{constructor(t,e,n){super(t),this.observables=e,this.project=n,this.toRespond=[];const i=e.length;this.values=new Array(i);for(let r=0;r<i;r++)this.toRespond.push(r);for(let r=0;r<i;r++)this.add((0,c.D)(this,e[r],void 0,r))}notifyNext(t,e,n){this.values[n]=e;const i=this.toRespond;if(i.length>0){const t=i.indexOf(n);-1!==t&&i.splice(t,1)}}notifyComplete(){}_next(t){if(0===this.toRespond.length){const e=[t,...this.values];this.project?this._tryProject(e):this.destination.next(e)}}_tryProject(t){let e;try{e=this.project.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}var d=n(6673);class p{constructor(t){this.predicate=t}call(t,e){return e.subscribe(new f(t,this.predicate))}}class f extends d.L{constructor(t,e){super(t),this.predicate=e,this.skipping=!0,this.index=0}_next(t){const e=this.destination;this.skipping&&this.tryCallPredicate(t),this.skipping||e.next(t)}tryCallPredicate(t){try{const e=this.predicate(t,this.index++);this.skipping=Boolean(e)}catch(e){this.destination.error(e)}}}var m=n(9996),g=n(1055),_=n(4689),y=n(2023),v=n(8720),b=n(5271),w=n(9748),C=(n(6702),n(1932)),E=n(5119),S=n(6304),x=n(7092),k=n(250),T=n(308);let I="";function A(t){I=t}class D{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,k.Pz)(e))}get(t){const e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:(0,k.cI)(e)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class R{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e}get(t){return(0,k.r3)(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const O=function(t){try{if("undefined"!=typeof window&&void 0!==window[t]){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new D(e)}}catch(e){}return new R},P=O("localStorage"),N=O("sessionStorage"),F=new T.Yd("@firebase/database"),L=function(){let t=1;return function(){return t++}}(),M=function(t){const e=(0,k.dS)(t),n=new k.gQ;n.update(e);const i=n.digest();return k.US.encodeByteArray(i)},B=function(...t){let e="";for(let n=0;n<t.length;n++){const i=t[n];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?e+=B.apply(null,i):e+="object"==typeof i?(0,k.Pz)(i):i,e+=" "}return e};let V=null,U=!0;const j=function(t,e){(0,k.hu)(!e||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(F.logLevel=T.in.VERBOSE,V=F.log.bind(F),e&&N.set("logging_enabled",!0)):"function"==typeof t?V=t:(V=null,N.remove("logging_enabled"))},q=function(...t){if(!0===U&&(U=!1,null===V&&!0===N.get("logging_enabled")&&j(!0)),V){const e=B.apply(null,t);V(e)}},z=function(t){return function(...e){q(t,...e)}},H=function(...t){const e="FIREBASE INTERNAL ERROR: "+B(...t);F.error(e)},G=function(...t){const e=`FIREBASE FATAL ERROR: ${B(...t)}`;throw F.error(e),new Error(e)},$=function(...t){const e="FIREBASE WARNING: "+B(...t);F.warn(e)},Z=function(t){return"number"==typeof t&&(t!=t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},Y="[MIN_NAME]",W="[MAX_NAME]",K=function(t,e){if(t===e)return 0;if(t===Y||e===W)return-1;if(e===Y||t===W)return 1;{const n=rt(t),i=rt(e);return null!==n?null!==i?n-i==0?t.length-e.length:n-i:-1:null!==i?1:t<e?-1:1}},Q=function(t,e){return t===e?0:t<e?-1:1},J=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+(0,k.Pz)(e))},X=function(t){if("object"!=typeof t||null===t)return(0,k.Pz)(t);const e=[];for(const i in t)e.push(i);e.sort();let n="{";for(let i=0;i<e.length;i++)0!==i&&(n+=","),n+=(0,k.Pz)(e[i]),n+=":",n+=X(t[e[i]]);return n+="}",n},tt=function(t,e){const n=t.length;if(n<=e)return[t];const i=[];for(let r=0;r<n;r+=e)i.push(t.substring(r,r+e>n?n:r+e));return i};function et(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const nt=function(t){let e,n,i,r,s;(0,k.hu)(!Z(t),"Invalid JSON number"),0===t?(n=0,i=0,e=1/t==-1/0?1:0):(e=t<0,(t=Math.abs(t))>=Math.pow(2,-1022)?(r=Math.min(Math.floor(Math.log(t)/Math.LN2),1023),n=r+1023,i=Math.round(t*Math.pow(2,52-r)-Math.pow(2,52))):(n=0,i=Math.round(t/Math.pow(2,-1074))));const o=[];for(s=52;s;s-=1)o.push(i%2?1:0),i=Math.floor(i/2);for(s=11;s;s-=1)o.push(n%2?1:0),n=Math.floor(n/2);o.push(e?1:0),o.reverse();const a=o.join("");let l="";for(s=0;s<64;s+=8){let t=parseInt(a.substr(s,8),2).toString(16);1===t.length&&(t="0"+t),l+=t}return l.toLowerCase()},it=new RegExp("^-?(0*)\\d{1,10}$"),rt=function(t){if(it.test(t)){const e=Number(t);if(e>=-2147483648&&e<=2147483647)return e}return null},st=function(t){try{t()}catch(e){setTimeout(()=>{throw $("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},ot=function(t,e){const n=setTimeout(t,e);return"object"==typeof n&&n.unref&&n.unref(),n};class at{constructor(t,e){this.appName_=t,this.appCheckProvider=e,this.appCheck=null==e?void 0:e.getImmediate({optional:!0}),this.appCheck||null==e||e.get().then(t=>this.appCheck=t)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((e,n)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(e,n):e(null)},0)})}addTokenChangeListener(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(e=>e.addTokenListener(t))}notifyForInvalidToken(){$(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class lt{constructor(t,e,n){this.appName_=t,this.firebaseOptions_=e,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit(t=>this.auth_=t)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(t=>t&&"auth/token-not-initialized"===t.code?(q("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((e,n)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(e,n):e(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(e=>e.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(e=>e.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',$(t)}}let ct=(()=>{class t{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}return t.OWNER="owner",t})();const ut=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,ht="websocket",dt="long_polling";class pt{constructor(t,e,n,i,r=!1,s="",o=!1){this.secure=e,this.namespace=n,this.webSocketOnly=i,this.nodeAdmin=r,this.persistenceKey=s,this.includeNamespaceInQueryParams=o,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=P.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&P.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function ft(t,e,n){let i;if((0,k.hu)("string"==typeof e,"typeof type must == string"),(0,k.hu)("object"==typeof n,"typeof params must == object"),e===ht)i=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else{if(e!==dt)throw new Error("Unknown connection type: "+e);i=(t.secure?"https://":"http://")+t.internalHost+"/.lp?"}(function(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams})(t)&&(n.ns=t.namespace);const r=[];return et(n,(t,e)=>{r.push(t+"="+e)}),i+r.join("&")}class mt{constructor(){this.counters_={}}incrementCounter(t,e=1){(0,k.r3)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e}get(){return(0,k.p$)(this.counters_)}}const gt={},_t={};function yt(t){const e=t.toString();return gt[e]||(gt[e]=new mt),gt[e]}class vt{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,e){for(this.pendingResponses[t]=e;this.pendingResponses[this.currentResponseNum];){const t=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let e=0;e<t.length;++e)t[e]&&st(()=>{this.onMessage_(t[e])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class bt{constructor(t,e,n,i,r,s,o){this.connId=t,this.repoInfo=e,this.applicationId=n,this.appCheckToken=i,this.authToken=r,this.transportSessionId=s,this.lastSessionId=o,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=z(t),this.stats_=yt(e),this.urlFn=t=>(this.appCheckToken&&(t.ac=this.appCheckToken),ft(e,dt,t))}open(t,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new vt(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(t){if((0,k.Yr)()||"complete"===document.readyState)t();else{let e=!1;const n=function(){document.body?e||(e=!0,t()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new wt((...t)=>{const[e,n,i,r,s]=t;if(this.incrementIncomingBytes_(t),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===e)this.id=n,this.password=i;else{if("close"!==e)throw new Error("Unrecognized command received: "+e);n?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(n,()=>{this.onClosed_()})):this.onClosed_()}},(...t)=>{const[e,n]=t;this.incrementIncomingBytes_(t),this.myPacketOrderer.handleResponse(e,n)},()=>{this.onClosed_()},this.urlFn);const t={start:"t"};t.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(t.cb=this.scriptTagHolder.uniqueCallbackIdentifier),t.v="5",this.transportSessionId&&(t.s=this.transportSessionId),this.lastSessionId&&(t.ls=this.lastSessionId),this.applicationId&&(t.p=this.applicationId),this.appCheckToken&&(t.ac=this.appCheckToken),"undefined"!=typeof location&&location.hostname&&ut.test(location.hostname)&&(t.r="f");const e=this.urlFn(t);this.log_("Connecting via long-poll to "+e),this.scriptTagHolder.addTag(e,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){bt.forceAllow_=!0}static forceDisallow(){bt.forceDisallow_=!0}static isAvailable(){return!((0,k.Yr)()||!bt.forceAllow_&&(bt.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const e=(0,k.Pz)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const n=(0,k.h$)(e),i=tt(n,1840);for(let r=0;r<i.length;r++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[r]),this.curSegmentNum++}addDisconnectPingFrame(t,e){if((0,k.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const n={dframe:"t"};n.id=t,n.pw=e,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const e=(0,k.Pz)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class wt{constructor(t,e,n,i){if(this.onDisconnect=n,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,k.Yr)())this.commandCB=t,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=L(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=wt.createIFrame_();let n="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(n='<script>document.domain="'+document.domain+'";<\/script>');const i="<html><body>"+n+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(i),this.myIFrame.doc.close()}catch(r){q("frame writing exception"),r.stack&&q(r.stack),q(r)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||q("No IE domain setting required")}catch(e){const n=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+n+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let e=this.urlFn(t),n="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+n.length<=1870;){const t=this.pendingSegs.shift();n=n+"&seg"+i+"="+t.seg+"&ts"+i+"="+t.ts+"&d"+i+"="+t.d,i++}return e+=n,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(t,e,n){this.pendingSegs.push({seg:t,ts:e,d:n}),this.alive&&this.newRequest_()}addLongPollTag_(t,e){this.outstandingRequests.add(e);const n=()=>{this.outstandingRequests.delete(e),this.newRequest_()},i=setTimeout(n,Math.floor(25e3));this.addTag(t,()=>{clearTimeout(i),n()})}addTag(t,e){(0,k.Yr)()?this.doNodeLongPoll(t,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const n=this.myIFrame.doc.createElement("script");n.type="text/javascript",n.async=!0,n.src=t,n.onload=n.onreadystatechange=function(){const t=n.readyState;t&&"loaded"!==t&&"complete"!==t||(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),e())},n.onerror=()=>{q("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(n)}catch(n){}},Math.floor(1))}}let Ct=null;"undefined"!=typeof MozWebSocket?Ct=MozWebSocket:"undefined"!=typeof WebSocket&&(Ct=WebSocket);let Et=(()=>{class t{constructor(e,n,i,r,s,o,a){this.connId=e,this.applicationId=i,this.appCheckToken=r,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=z(this.connId),this.stats_=yt(n),this.connURL=t.connectionURL_(n,o,a,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(t,e,n,i){const r={v:"5"};return!(0,k.Yr)()&&"undefined"!=typeof location&&location.hostname&&ut.test(location.hostname)&&(r.r="f"),e&&(r.s=e),n&&(r.ls=n),i&&(r.ac=i),ft(t,ht,r)}open(t,e){this.onDisconnect=e,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,P.set("previous_websocket_failure",!0);try{if((0,k.Yr)()){const t={headers:{"User-Agent":`Firebase/5/${I}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(t.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(t.headers["X-Firebase-AppCheck"]=this.appCheckToken);const e=process.env,n=0===this.connURL.indexOf("wss://")?e.HTTPS_PROXY||e.https_proxy:e.HTTP_PROXY||e.http_proxy;n&&(t.proxy={origin:n}),this.mySock=new Ct(this.connURL,[],t)}else this.mySock=new Ct(this.connURL,[],{headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}})}catch(n){this.log_("Error instantiating WebSocket.");const t=n.message||n.data;return t&&this.log_(t),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=t=>{this.handleIncomingFrame(t)},this.mySock.onerror=t=>{this.log_("WebSocket error.  Closing connection.");const e=t.message||t.data;e&&this.log_(e),this.onClosed_()}}start(){}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){let e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){const t=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);t&&t.length>1&&parseFloat(t[1])<4.4&&(e=!0)}return!e&&null!==Ct&&!t.forceDisallow_}static previouslyFailed(){return P.isInMemoryStorage||!0===P.get("previous_websocket_failure")}markConnectionHealthy(){P.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const t=this.frames.join("");this.frames=null;const e=(0,k.cI)(t);this.onMessage(e)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if((0,k.hu)(null===this.frames,"We already have a frame buffer"),t.length<=6){const e=Number(t);if(!isNaN(e))return this.handleNewFrameCount_(e),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(null===this.mySock)return;const e=t.data;if(this.bytesReceived+=e.length,this.stats_.incrementCounter("bytes_received",e.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(e);else{const t=this.extractFrameCount_(e);null!==t&&this.appendFrame_(t)}}send(t){this.resetKeepAlive();const e=(0,k.Pz)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const n=tt(e,16384);n.length>1&&this.sendString_(String(n.length));for(let i=0;i<n.length;i++)this.sendString_(n[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(t){try{this.mySock.send(t)}catch(e){this.log_("Exception thrown from WebSocket.send():",e.message||e.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t})();class St{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[bt,Et]}initTransports_(t){const e=Et&&Et.isAvailable();let n=e&&!Et.previouslyFailed();if(t.webSocketOnly&&(e||$("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),n=!0),n)this.transports_=[Et];else{const t=this.transports_=[];for(const e of St.ALL_TRANSPORTS)e&&e.isAvailable()&&t.push(e)}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}class xt{constructor(t,e,n,i,r,s,o,a,l,c){this.id=t,this.repoInfo_=e,this.applicationId_=n,this.appCheckToken_=i,this.authToken_=r,this.onMessage_=s,this.onReady_=o,this.onDisconnect_=a,this.onKill_=l,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=z("c:"+this.id+":"),this.transportManager_=new St(e),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),n=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,n)},Math.floor(0));const i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=ot(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return e=>{t===this.conn_?this.onConnectionLost_(e):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return e=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(e):t===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(t){this.sendData_({t:"d",d:t})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const e=J("t",t),n=J("d",t);if("c"===e)this.onSecondaryControl_(n);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(n)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const e=J("t",t),n=J("d",t);"c"===e?this.onControl_(n):"d"===e&&this.onDataMessage_(n)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const e=J("t",t);if("d"in t){const n=t.d;if("h"===e)this.onHandshake_(n);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let t=0;t<this.pendingDataMessages.length;++t)this.onDataMessage_(this.pendingDataMessages[t]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(n):"r"===e?this.onReset_(n):"e"===e?H("Server Error: "+n):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):H("Unknown control packet command: "+e)}}onHandshake_(t){const e=t.ts,n=t.v,i=t.h;this.sessionId=t.s,this.repoInfo_.host=i,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==n&&$("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),n=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,n),ot(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,e){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):ot(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==t&&this.rx_!==t||this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(P.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class kt{put(t,e,n,i){}merge(t,e,n,i){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,e,n){}onDisconnectMerge(t,e,n){}onDisconnectCancel(t,e){}reportStats(t){}}class Tt{constructor(t){this.allowedEvents_=t,this.listeners_={},(0,k.hu)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){const n=[...this.listeners_[t]];for(let t=0;t<n.length;t++)n[t].callback.apply(n[t].context,e)}}on(t,e,n){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:n});const i=this.getInitialEvent(t);i&&e.apply(n,i)}off(t,e,n){this.validateEventType_(t);const i=this.listeners_[t]||[];for(let r=0;r<i.length;r++)if(i[r].callback===e&&(!n||n===i[r].context))return void i.splice(r,1)}validateEventType_(t){(0,k.hu)(this.allowedEvents_.find(e=>e===t),"Unknown event: "+t)}}class It extends Tt{constructor(){super(["online"]),this.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||(0,k.uI)()||(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new It}getInitialEvent(t){return(0,k.hu)("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}class At{constructor(t,e){if(void 0===e){this.pieces_=t.split("/");let e=0;for(let t=0;t<this.pieces_.length;t++)this.pieces_[t].length>0&&(this.pieces_[e]=this.pieces_[t],e++);this.pieces_.length=e,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}toString(){let t="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"}}function Dt(){return new At("")}function Rt(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Ot(t){return t.pieces_.length-t.pieceNum_}function Pt(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new At(t.pieces_,e)}function Nt(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function Ft(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function Lt(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new At(e,0)}function Mt(t,e){const n=[];for(let i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);if(e instanceof At)for(let i=e.pieceNum_;i<e.pieces_.length;i++)n.push(e.pieces_[i]);else{const t=e.split("/");for(let e=0;e<t.length;e++)t[e].length>0&&n.push(t[e])}return new At(n,0)}function Bt(t){return t.pieceNum_>=t.pieces_.length}function Vt(t,e){const n=Rt(t),i=Rt(e);if(null===n)return e;if(n===i)return Vt(Pt(t),Pt(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function Ut(t,e){const n=Ft(t,0),i=Ft(e,0);for(let r=0;r<n.length&&r<i.length;r++){const t=K(n[r],i[r]);if(0!==t)return t}return n.length===i.length?0:n.length<i.length?-1:1}function jt(t,e){if(Ot(t)!==Ot(e))return!1;for(let n=t.pieceNum_,i=e.pieceNum_;n<=t.pieces_.length;n++,i++)if(t.pieces_[n]!==e.pieces_[i])return!1;return!0}function qt(t,e){let n=t.pieceNum_,i=e.pieceNum_;if(Ot(t)>Ot(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[i])return!1;++n,++i}return!0}class zt{constructor(t,e){this.errorPrefix_=e,this.parts_=Ft(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let n=0;n<this.parts_.length;n++)this.byteLength_+=(0,k.ug)(this.parts_[n]);Ht(this)}}function Ht(t){if(t.byteLength_>768)throw new Error(t.errorPrefix_+"has a key path longer than 768 bytes ("+t.byteLength_+").");if(t.parts_.length>32)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Gt(t))}function Gt(t){return 0===t.parts_.length?"":"in property '"+t.parts_.join(".")+"'"}class $t extends Tt{constructor(){let t,e;super(["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(e="visibilitychange",t="hidden"):void 0!==document.mozHidden?(e="mozvisibilitychange",t="mozHidden"):void 0!==document.msHidden?(e="msvisibilitychange",t="msHidden"):void 0!==document.webkitHidden&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const e=!document[t];e!==this.visible_&&(this.visible_=e,this.trigger("visible",e))},!1)}static getInstance(){return new $t}getInitialEvent(t){return(0,k.hu)("visible"===t,"Unknown event type: "+t),[this.visible_]}}const Zt=1e3;let Yt,Wt=(()=>{class t extends kt{constructor(e,n,i,r,s,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=i,this.onConnectStatus_=r,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=t.nextPersistentConnectionId_++,this.log_=z("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Zt,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!(0,k.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");$t.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&It.getInstance().on("online",this.onOnline_,this)}sendRequest(t,e,n){const i=++this.requestNumber_,r={r:i,a:t,b:e};this.log_((0,k.Pz)(r)),(0,k.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(r),n&&(this.requestCBHash_[i]=n)}get(t){this.initConnection_();const e=new k.BH,n={p:t._path.toString(),q:t._queryObject},i={action:"g",request:n,onComplete:t=>{const i=t.d;"ok"===t.s?(this.onDataUpdate_(n.p,i,!1,null),e.resolve(i)):e.reject(i)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const r=this.outstandingGets_.length-1;return this.connected_||setTimeout(()=>{const t=this.outstandingGets_[r];void 0!==t&&i===t&&(delete this.outstandingGets_[r],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),this.log_("get "+r+" timed out on connection"),e.reject(new Error("Client is offline.")))},3e3),this.connected_&&this.sendGet_(r),e.promise}listen(t,e,n,i){this.initConnection_();const r=t._queryIdentifier,s=t._path.toString();this.log_("Listen called for "+s+" "+r),this.listens.has(s)||this.listens.set(s,new Map),(0,k.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,k.hu)(!this.listens.get(s).has(r),"listen() called twice for same path/queryId.");const o={onComplete:i,hashFn:e,query:t,tag:n};this.listens.get(s).set(r,o),this.connected_&&this.sendListen_(o)}sendGet_(t){const e=this.outstandingGets_[t];this.sendRequest("g",e.request,n=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),e.onComplete&&e.onComplete(n)})}sendListen_(e){const n=e.query,i=n._path.toString(),r=n._queryIdentifier;this.log_("Listen on "+i+" for "+r);const s={p:i};e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest("q",s,s=>{const o=s.d,a=s.s;t.warnOnListenWarnings_(o,n),(this.listens.get(i)&&this.listens.get(i).get(r))===e&&(this.log_("listen response",s),"ok"!==a&&this.removeListen_(i,r),e.onComplete&&e.onComplete(a,o))})}static warnOnListenWarnings_(t,e){if(t&&"object"==typeof t&&(0,k.r3)(t,"w")){const n=(0,k.DV)(t,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){const t='".indexOn": "'+e._queryParams.getIndex().toString()+'"',n=e._path.toString();$(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${t} at ${n} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&40===t.length||(0,k.GJ)(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,e=(0,k.w9)(t)?"auth":"gauth",n={cred:t};null===this.authOverride_?n.noauth=!0:"object"==typeof this.authOverride_&&(n.authvar=this.authOverride_),this.sendRequest(e,n,e=>{const n=e.s,i=e.d||"error";this.authToken_===t&&("ok"===n?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(n,i))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const e=t.s,n=t.d||"error";"ok"===e?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(e,n)})}unlisten(t,e){const n=t._path.toString(),i=t._queryIdentifier;this.log_("Unlisten called for "+n+" "+i),(0,k.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,i)&&this.connected_&&this.sendUnlisten_(n,i,t._queryObject,e)}sendUnlisten_(t,e,n,i){this.log_("Unlisten on "+t+" for "+e);const r={p:t};i&&(r.q=n,r.t=i),this.sendRequest("n",r)}onDisconnectPut(t,e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:e,onComplete:n})}onDisconnectMerge(t,e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:e,onComplete:n})}onDisconnectCancel(t,e){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,e):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:e})}sendOnDisconnect_(t,e,n,i){const r={p:e,d:n};this.log_("onDisconnect "+t,r),this.sendRequest(t,r,t=>{i&&setTimeout(()=>{i(t.s,t.d)},Math.floor(0))})}put(t,e,n,i){this.putInternal("p",t,e,n,i)}merge(t,e,n,i){this.putInternal("m",t,e,n,i)}putInternal(t,e,n,i,r){this.initConnection_();const s={p:e,d:n};void 0!==r&&(s.h=r),this.outstandingPuts_.push({action:t,request:s,onComplete:i}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+e)}sendPut_(t){const e=this.outstandingPuts_[t].action,n=this.outstandingPuts_[t].request,i=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(e,n,n=>{this.log_(e+" response",n),delete this.outstandingPuts_[t],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),i&&i(n.s,n.d)})}reportStats(t){if(this.connected_){const e={c:t};this.log_("reportStats",e),this.sendRequest("s",e,t=>{"ok"!==t.s&&this.log_("reportStats","Error sending stats: "+t.d)})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+(0,k.Pz)(t));const e=t.r,n=this.requestCBHash_[e];n&&(delete this.requestCBHash_[e],n(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,e){this.log_("handleServerMessage",t,e),"d"===t?this.onDataUpdate_(e.p,e.d,!1,e.t):"m"===t?this.onDataUpdate_(e.p,e.d,!0,e.t):"c"===t?this.onListenRevoked_(e.p,e.q):"ac"===t?this.onAuthRevoked_(e.s,e.d):"apc"===t?this.onAppCheckRevoked_(e.s,e.d):"sd"===t?this.onSecurityDebugPacket_(e):H("Unrecognized action received from server: "+(0,k.Pz)(t)+"\nAre you using the latest client?")}onReady_(t,e){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=e,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){(0,k.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Zt,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=Zt,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Zt),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const t=(new Date).getTime()-this.lastConnectionAttemptTime_;let e=Math.max(0,this.reconnectDelay_-t);e=Math.random()*e,this.log_("Trying to reconnect in "+e+"ms"),this.scheduleConnect_(e),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,S.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const n=e.onDataMessage_.bind(e),i=e.onReady_.bind(e),r=e.onRealtimeDisconnect_.bind(e),s=e.id+":"+t.nextConnectionId_++,o=e.lastSessionId;let a=!1,l=null;const c=function(){l?l.close():(a=!0,r())};e.realtime_={close:c,sendRequest:function(t){(0,k.hu)(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(t)}};const u=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[t,c]=yield Promise.all([e.authTokenProvider_.getToken(u),e.appCheckTokenProvider_.getToken(u)]);a?q("getToken() completed but was canceled"):(q("getToken() completed. Creating connection."),e.authToken_=t&&t.accessToken,e.appCheckToken_=c&&c.token,l=new xt(s,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,n,i,r,t=>{$(t+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},o))}catch(H){e.log_("Failed to get token: "+H),a||(e.repoInfo_.nodeAdmin&&$(H),c())}}})()}interrupt(t){q("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){q("Resuming connection for reason: "+t),delete this.interruptReasons_[t],(0,k.xb)(this.interruptReasons_)&&(this.reconnectDelay_=Zt,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const e=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:e})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const e=this.outstandingPuts_[t];e&&"h"in e.request&&e.queued&&(e.onComplete&&e.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(t,e){let n;n=e?e.map(t=>X(t)).join("$"):"default";const i=this.removeListen_(t,n);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(t,e){const n=new At(t).toString();let i;if(this.listens.has(n)){const t=this.listens.get(n);i=t.get(e),t.delete(e),0===t.size&&this.listens.delete(n)}else i=void 0;return i}onAuthRevoked_(t,e){q("Auth token revoked: "+t+"/"+e),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==t&&"permission_denied"!==t||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,e){q("App check token revoked: "+t+"/"+e),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==t&&"permission_denied"!==t||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const e of t.values())this.sendListen_(e);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let e="js";(0,k.Yr)()&&(e=this.repoInfo_.nodeAdmin?"admin_node":"node"),t["sdk."+e+"."+I.replace(/\./g,"-")]=1,(0,k.uI)()?t["framework.cordova"]=1:(0,k.b$)()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=It.getInstance().currentlyOnline();return(0,k.xb)(this.interruptReasons_)&&t}}return t.nextPersistentConnectionId_=0,t.nextConnectionId_=0,t})();class Kt{constructor(t,e){this.name=t,this.node=e}static Wrap(t,e){return new Kt(t,e)}}class Qt{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,e){const n=new Kt(Y,t),i=new Kt(Y,e);return 0!==this.compare(n,i)}minPost(){return Kt.MIN}}class Jt extends Qt{static get __EMPTY_NODE(){return Yt}static set __EMPTY_NODE(t){Yt=t}compare(t,e){return K(t.name,e.name)}isDefinedOn(t){throw(0,k.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,e){return!1}minPost(){return Kt.MIN}maxPost(){return new Kt(W,Yt)}makePost(t,e){return(0,k.hu)("string"==typeof t,"KeyIndex indexValue must always be a string."),new Kt(t,Yt)}toString(){return".key"}}const Xt=new Jt;class te{constructor(t,e,n,i,r=null){this.isReverse_=i,this.resultGenerator_=r,this.nodeStack_=[];let s=1;for(;!t.isEmpty();)if(t=t,s=e?n(t.key,e):1,i&&(s*=-1),s<0)t=this.isReverse_?t.left:t.right;else{if(0===s){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}let ee=(()=>{class t{constructor(e,n,i,r,s){this.key=e,this.value=n,this.color=null!=i?i:t.RED,this.left=null!=r?r:re.EMPTY_NODE,this.right=null!=s?s:re.EMPTY_NODE}copy(e,n,i,r,s){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=i?i:this.color,null!=r?r:this.left,null!=s?s:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,n){let i=this;const r=n(t,i.key);return i=r<0?i.copy(null,null,null,i.left.insert(t,e,n),null):0===r?i.copy(null,e,null,null,null):i.copy(null,null,null,null,i.right.insert(t,e,n)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return re.EMPTY_NODE;let t=this;return t.left.isRed_()||t.left.left.isRed_()||(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,e){let n,i;if(n=this,e(t,n.key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(t,e),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===e(t,n.key)){if(n.right.isEmpty())return re.EMPTY_NODE;i=n.right.min_(),n=n.copy(i.key,i.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(t,e))}return n.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}return t.RED=!0,t.BLACK=!1,t})();class ne{copy(t,e,n,i,r){return this}insert(t,e,n){return new ee(t,e,null)}remove(t,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}let ie,re=(()=>{class t{constructor(e,n=t.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,ee.BLACK,null,null))}remove(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,ee.BLACK,null,null))}get(t){let e,n=this.root_;for(;!n.isEmpty();){if(e=this.comparator_(t,n.key),0===e)return n.value;e<0?n=n.left:e>0&&(n=n.right)}return null}getPredecessorKey(t){let e,n=this.root_,i=null;for(;!n.isEmpty();){if(e=this.comparator_(t,n.key),0===e){if(n.left.isEmpty())return i?i.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}e<0?n=n.left:e>0&&(i=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new te(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,e){return new te(this.root_,t,this.comparator_,!1,e)}getReverseIteratorFrom(t,e){return new te(this.root_,t,this.comparator_,!0,e)}getReverseIterator(t){return new te(this.root_,null,this.comparator_,!0,t)}}return t.EMPTY_NODE=new ne,t})();function se(t,e){return K(t.name,e.name)}function oe(t,e){return K(t,e)}const ae=function(t){return"number"==typeof t?"number:"+nt(t):"string:"+t},le=function(t){if(t.isLeafNode()){const e=t.val();(0,k.hu)("string"==typeof e||"number"==typeof e||"object"==typeof e&&(0,k.r3)(e,".sv"),"Priority must be a string or number.")}else(0,k.hu)(t===ie||t.isEmpty(),"priority of unexpected type.");(0,k.hu)(t===ie||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let ce,ue,he,de=(()=>{class t{constructor(e,n=t.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,(0,k.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),le(this.priorityNode_)}static set __childrenNodeConstructor(t){ce=t}static get __childrenNodeConstructor(){return ce}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new t(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Bt(e)?this:".priority"===Rt(e)?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,e){return null}updateImmediateChild(e,n){return".priority"===e?this.updatePriority(n):n.isEmpty()&&".priority"!==e?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const i=Rt(e);return null===i?n:n.isEmpty()&&".priority"!==i?this:((0,k.hu)(".priority"!==i||1===Ot(e),".priority must be the last token in a path"),this.updateImmediateChild(i,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(Pt(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,e){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+ae(this.priorityNode_.val())+":");const e=typeof this.value_;t+=e+":",t+="number"===e?nt(this.value_):this.value_,this.lazyHash_=M(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===t.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof t.__childrenNodeConstructor?-1:((0,k.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,i=typeof this.value_,r=t.VALUE_TYPE_ORDER.indexOf(n),s=t.VALUE_TYPE_ORDER.indexOf(i);return(0,k.hu)(r>=0,"Unknown leaf type: "+n),(0,k.hu)(s>=0,"Unknown leaf type: "+i),r===s?"object"===i?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-r}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const e=t;return this.value_===e.value_&&this.priorityNode_.equals(e.priorityNode_)}return!1}}return t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t})();const pe=new class extends Qt{compare(t,e){const n=t.node.getPriority(),i=e.node.getPriority(),r=n.compareTo(i);return 0===r?K(t.name,e.name):r}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,e){return!t.getPriority().equals(e.getPriority())}minPost(){return Kt.MIN}maxPost(){return new Kt(W,new de("[PRIORITY-POST]",he))}makePost(t,e){const n=ue(t);return new Kt(e,new de("[PRIORITY-POST]",n))}toString(){return".priority"}},fe=Math.log(2);class me{constructor(t){this.count=parseInt(Math.log(t+1)/fe,10),this.current_=this.count-1;const e=parseInt(Array(this.count+1).join("1"),2);this.bits_=t+1&e}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const ge=function(t,e,n,i){t.sort(e);const r=function(e,i){const s=i-e;let o,a;if(0===s)return null;if(1===s)return o=t[e],a=n?n(o):o,new ee(a,o.node,ee.BLACK,null,null);{const l=parseInt(s/2,10)+e,c=r(e,l),u=r(l+1,i);return o=t[l],a=n?n(o):o,new ee(a,o.node,ee.BLACK,c,u)}},s=function(e){let i=null,s=null,o=t.length;const a=function(e,i){const s=o-e,a=o;o-=e;const c=r(s+1,a),u=t[s],h=n?n(u):u;l(new ee(h,u.node,i,null,c))},l=function(t){i?(i.left=t,i=t):(s=t,i=t)};for(let t=0;t<e.count;++t){const n=e.nextBitIsOne(),i=Math.pow(2,e.count-(t+1));n?a(i,ee.BLACK):(a(i,ee.BLACK),a(i,ee.RED))}return s}(new me(t.length));return new re(i||e,s)};let _e;const ye={};class ve{constructor(t,e){this.indexes_=t,this.indexSet_=e}static get Default(){return(0,k.hu)(ye&&pe,"ChildrenNode.ts has not been loaded"),_e=_e||new ve({".priority":ye},{".priority":pe}),_e}get(t){const e=(0,k.DV)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof re?e:null}hasIndex(t){return(0,k.r3)(this.indexSet_,t.toString())}addIndex(t,e){(0,k.hu)(t!==Xt,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const n=[];let i=!1;const r=e.getIterator(Kt.Wrap);let s,o=r.getNext();for(;o;)i=i||t.isDefinedOn(o.node),n.push(o),o=r.getNext();s=i?ge(n,t.getCompare()):ye;const a=t.toString(),l=Object.assign({},this.indexSet_);l[a]=t;const c=Object.assign({},this.indexes_);return c[a]=s,new ve(c,l)}addToIndexes(t,e){const n=(0,k.UI)(this.indexes_,(n,i)=>{const r=(0,k.DV)(this.indexSet_,i);if((0,k.hu)(r,"Missing index implementation for "+i),n===ye){if(r.isDefinedOn(t.node)){const n=[],i=e.getIterator(Kt.Wrap);let s=i.getNext();for(;s;)s.name!==t.name&&n.push(s),s=i.getNext();return n.push(t),ge(n,r.getCompare())}return ye}{const i=e.get(t.name);let r=n;return i&&(r=r.remove(new Kt(t.name,i))),r.insert(t,t.node)}});return new ve(n,this.indexSet_)}removeFromIndexes(t,e){const n=(0,k.UI)(this.indexes_,n=>{if(n===ye)return n;{const i=e.get(t.name);return i?n.remove(new Kt(t.name,i)):n}});return new ve(n,this.indexSet_)}}let be,we=(()=>{class t{constructor(t,e,n){this.children_=t,this.priorityNode_=e,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&le(this.priorityNode_),this.children_.isEmpty()&&(0,k.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return be||(be=new t(new re(oe),null,ve.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||be}updatePriority(e){return this.children_.isEmpty()?this:new t(this.children_,e,this.indexMap_)}getImmediateChild(t){if(".priority"===t)return this.getPriority();{const e=this.children_.get(t);return null===e?be:e}}getChild(t){const e=Rt(t);return null===e?this:this.getImmediateChild(e).getChild(Pt(t))}hasChild(t){return null!==this.children_.get(t)}updateImmediateChild(e,n){if((0,k.hu)(n,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(n);{const i=new Kt(e,n);let r,s;n.isEmpty()?(r=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(i,this.children_)):(r=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(i,this.children_));const o=r.isEmpty()?be:this.priorityNode_;return new t(r,o,s)}}updateChild(t,e){const n=Rt(t);if(null===n)return e;{(0,k.hu)(".priority"!==Rt(t)||1===Ot(t),".priority must be the last token in a path");const i=this.getImmediateChild(n).updateChild(Pt(t),e);return this.updateImmediateChild(n,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let i=0,r=0,s=!0;if(this.forEachChild(pe,(o,a)=>{n[o]=a.val(e),i++,s&&t.INTEGER_REGEXP_.test(o)?r=Math.max(r,Number(o)):s=!1}),!e&&s&&r<2*i){const t=[];for(const e in n)t[e]=n[e];return t}return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(null===this.lazyHash_){let t="";this.getPriority().isEmpty()||(t+="priority:"+ae(this.getPriority().val())+":"),this.forEachChild(pe,(e,n)=>{const i=n.hash();""!==i&&(t+=":"+e+":"+i)}),this.lazyHash_=""===t?"":M(t)}return this.lazyHash_}getPredecessorChildName(t,e,n){const i=this.resolveIndex_(n);if(i){const n=i.getPredecessorKey(new Kt(t,e));return n?n.name:null}return this.children_.getPredecessorKey(t)}getFirstChildName(t){const e=this.resolveIndex_(t);if(e){const t=e.minKey();return t&&t.name}return this.children_.minKey()}getFirstChild(t){const e=this.getFirstChildName(t);return e?new Kt(e,this.children_.get(e)):null}getLastChildName(t){const e=this.resolveIndex_(t);if(e){const t=e.maxKey();return t&&t.name}return this.children_.maxKey()}getLastChild(t){const e=this.getLastChildName(t);return e?new Kt(e,this.children_.get(e)):null}forEachChild(t,e){const n=this.resolveIndex_(t);return n?n.inorderTraversal(t=>e(t.name,t.node)):this.children_.inorderTraversal(e)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,e){const n=this.resolveIndex_(e);if(n)return n.getIteratorFrom(t,t=>t);{const n=this.children_.getIteratorFrom(t.name,Kt.Wrap);let i=n.peek();for(;null!=i&&e.compare(i,t)<0;)n.getNext(),i=n.peek();return n}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,e){const n=this.resolveIndex_(e);if(n)return n.getReverseIteratorFrom(t,t=>t);{const n=this.children_.getReverseIteratorFrom(t.name,Kt.Wrap);let i=n.peek();for(;null!=i&&e.compare(i,t)>0;)n.getNext(),i=n.peek();return n}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Ce?-1:0}withIndex(e){if(e===Xt||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new t(this.children_,this.priorityNode_,n)}}isIndexed(t){return t===Xt||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const e=t;if(this.getPriority().equals(e.getPriority())){if(this.children_.count()===e.children_.count()){const t=this.getIterator(pe),n=e.getIterator(pe);let i=t.getNext(),r=n.getNext();for(;i&&r;){if(i.name!==r.name||!i.node.equals(r.node))return!1;i=t.getNext(),r=n.getNext()}return null===i&&null===r}return!1}return!1}}resolveIndex_(t){return t===Xt?null:this.indexMap_.get(t.toString())}}return t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t})();const Ce=new class extends we{constructor(){super(new re(oe),we.EMPTY_NODE,ve.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return we.EMPTY_NODE}isEmpty(){return!1}};function Ee(t,e=null){if(null===t)return we.EMPTY_NODE;if("object"==typeof t&&".priority"in t&&(e=t[".priority"]),(0,k.hu)(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!=typeof t||".sv"in t)return new de(t,Ee(e));if(t instanceof Array){let n=we.EMPTY_NODE;return et(t,(e,i)=>{if((0,k.r3)(t,e)&&"."!==e.substring(0,1)){const t=Ee(i);!t.isLeafNode()&&t.isEmpty()||(n=n.updateImmediateChild(e,t))}}),n.updatePriority(Ee(e))}{const n=[];let i=!1;if(et(t,(t,e)=>{if("."!==t.substring(0,1)){const r=Ee(e);r.isEmpty()||(i=i||!r.getPriority().isEmpty(),n.push(new Kt(t,r)))}}),0===n.length)return we.EMPTY_NODE;const r=ge(n,se,t=>t.name,oe);if(i){const t=ge(n,pe.getCompare());return new we(r,Ee(e),new ve({".priority":t},{".priority":pe}))}return new we(r,Ee(e),ve.Default)}}Object.defineProperties(Kt,{MIN:{value:new Kt(Y,we.EMPTY_NODE)},MAX:{value:new Kt(W,Ce)}}),Jt.__EMPTY_NODE=we.EMPTY_NODE,de.__childrenNodeConstructor=we,ie=Ce,he=Ce,ue=Ee;class Se extends Qt{constructor(t){super(),this.indexPath_=t,(0,k.hu)(!Bt(t)&&".priority"!==Rt(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,e){const n=this.extractChild(t.node),i=this.extractChild(e.node),r=n.compareTo(i);return 0===r?K(t.name,e.name):r}makePost(t,e){const n=Ee(t),i=we.EMPTY_NODE.updateChild(this.indexPath_,n);return new Kt(e,i)}maxPost(){const t=we.EMPTY_NODE.updateChild(this.indexPath_,Ce);return new Kt(W,t)}toString(){return Ft(this.indexPath_,0).join("/")}}const xe=new class extends Qt{compare(t,e){const n=t.node.compareTo(e.node);return 0===n?K(t.name,e.name):n}isDefinedOn(t){return!0}indexedValueChanged(t,e){return!t.equals(e)}minPost(){return Kt.MIN}maxPost(){return Kt.MAX}makePost(t,e){const n=Ee(t);return new Kt(e,n)}toString(){return".value"}},ke="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Te=function(){let t=0;const e=[];return function(n){const i=n===t;let r;t=n;const s=new Array(8);for(r=7;r>=0;r--)s[r]=ke.charAt(n%64),n=Math.floor(n/64);(0,k.hu)(0===n,"Cannot push at time == 0");let o=s.join("");if(i){for(r=11;r>=0&&63===e[r];r--)e[r]=0;e[r]++}else for(r=0;r<12;r++)e[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)o+=ke.charAt(e[r]);return(0,k.hu)(20===o.length,"nextPushId: Length should be 20."),o}}(),Ie=function(t){if("2147483647"===t)return"-";const e=rt(t);if(null!=e)return""+(e+1);const n=new Array(t.length);for(let s=0;s<n.length;s++)n[s]=t.charAt(s);if(n.length<786)return n.push("-"),n.join("");let i=n.length-1;for(;i>=0&&"z"===n[i];)i--;if(-1===i)return W;const r=ke.charAt(ke.indexOf(n[i])+1);return n[i]=r,n.slice(0,i+1).join("")},Ae=function(t){if("-2147483648"===t)return Y;const e=rt(t);if(null!=e)return""+(e-1);const n=new Array(t.length);for(let i=0;i<n.length;i++)n[i]=t.charAt(i);return"-"===n[n.length-1]?1===n.length?"2147483647":(delete n[n.length-1],n.join("")):(n[n.length-1]=ke.charAt(ke.indexOf(n[n.length-1])-1),n.join("")+"z".repeat(786-n.length))};function De(t){return{type:"value",snapshotNode:t}}function Re(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Oe(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Pe(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}class Ne{constructor(t){this.index_=t}updateChild(t,e,n,i,r,s){(0,k.hu)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const o=t.getImmediateChild(e);return o.getChild(i).equals(n.getChild(i))&&o.isEmpty()===n.isEmpty()?t:(null!=s&&(n.isEmpty()?t.hasChild(e)?s.trackChildChange(Oe(e,o)):(0,k.hu)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):o.isEmpty()?s.trackChildChange(Re(e,n)):s.trackChildChange(Pe(e,n,o))),t.isLeafNode()&&n.isEmpty()?t:t.updateImmediateChild(e,n).withIndex(this.index_))}updateFullNode(t,e,n){return null!=n&&(t.isLeafNode()||t.forEachChild(pe,(t,i)=>{e.hasChild(t)||n.trackChildChange(Oe(t,i))}),e.isLeafNode()||e.forEachChild(pe,(e,i)=>{if(t.hasChild(e)){const r=t.getImmediateChild(e);r.equals(i)||n.trackChildChange(Pe(e,i,r))}else n.trackChildChange(Re(e,i))})),e.withIndex(this.index_)}updatePriority(t,e){return t.isEmpty()?we.EMPTY_NODE:t.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Fe{constructor(t){this.indexedFilter_=new Ne(t.getIndex()),this.index_=t.getIndex(),this.startPost_=Fe.getStartPost_(t),this.endPost_=Fe.getEndPost_(t)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0}updateChild(t,e,n,i,r,s){return this.matches(new Kt(e,n))||(n=we.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,n,i,r,s)}updateFullNode(t,e,n){e.isLeafNode()&&(e=we.EMPTY_NODE);let i=e.withIndex(this.index_);i=i.updatePriority(we.EMPTY_NODE);const r=this;return e.forEachChild(pe,(t,e)=>{r.matches(new Kt(t,e))||(i=i.updateImmediateChild(t,we.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,i,n)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()}}class Le{constructor(t){this.rangedFilter_=new Fe(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}updateChild(t,e,n,i,r,s){return this.rangedFilter_.matches(new Kt(e,n))||(n=we.EMPTY_NODE),t.getImmediateChild(e).equals(n)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,n,i,r,s):this.fullLimitUpdateChild_(t,e,n,r,s)}updateFullNode(t,e,n){let i;if(e.isLeafNode()||e.isEmpty())i=we.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let t;i=we.EMPTY_NODE.withIndex(this.index_),t=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let n=0;for(;t.hasNext()&&n<this.limit_;){const e=t.getNext();let r;if(r=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),e)<=0:this.index_.compare(e,this.rangedFilter_.getEndPost())<=0,!r)break;i=i.updateImmediateChild(e.name,e.node),n++}}else{let t,n,r,s;if(i=e.withIndex(this.index_),i=i.updatePriority(we.EMPTY_NODE),this.reverse_){s=i.getReverseIterator(this.index_),t=this.rangedFilter_.getEndPost(),n=this.rangedFilter_.getStartPost();const e=this.index_.getCompare();r=(t,n)=>e(n,t)}else s=i.getIterator(this.index_),t=this.rangedFilter_.getStartPost(),n=this.rangedFilter_.getEndPost(),r=this.index_.getCompare();let o=0,a=!1;for(;s.hasNext();){const e=s.getNext();!a&&r(t,e)<=0&&(a=!0),a&&o<this.limit_&&r(e,n)<=0?o++:i=i.updateImmediateChild(e.name,we.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,i,n)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,e,n,i,r){let s;if(this.reverse_){const t=this.index_.getCompare();s=(e,n)=>t(n,e)}else s=this.index_.getCompare();const o=t;(0,k.hu)(o.numChildren()===this.limit_,"");const a=new Kt(e,n),l=this.reverse_?o.getFirstChild(this.index_):o.getLastChild(this.index_),c=this.rangedFilter_.matches(a);if(o.hasChild(e)){const t=o.getImmediateChild(e);let u=i.getChildAfterChild(this.index_,l,this.reverse_);for(;null!=u&&(u.name===e||o.hasChild(u.name));)u=i.getChildAfterChild(this.index_,u,this.reverse_);const h=null==u?1:s(u,a);if(c&&!n.isEmpty()&&h>=0)return null!=r&&r.trackChildChange(Pe(e,n,t)),o.updateImmediateChild(e,n);{null!=r&&r.trackChildChange(Oe(e,t));const n=o.updateImmediateChild(e,we.EMPTY_NODE);return null!=u&&this.rangedFilter_.matches(u)?(null!=r&&r.trackChildChange(Re(u.name,u.node)),n.updateImmediateChild(u.name,u.node)):n}}return n.isEmpty()?t:c&&s(l,a)>=0?(null!=r&&(r.trackChildChange(Oe(l.name,l.node)),r.trackChildChange(Re(e,n))),o.updateImmediateChild(e,n).updateImmediateChild(l.name,we.EMPTY_NODE)):t}}class Me{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=pe}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,k.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,k.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Y}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,k.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,k.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:W}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,k.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===pe}copy(){const t=new Me;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function Be(t,e,n){const i=t.copy();return i.startSet_=!0,void 0===e&&(e=null),i.indexStartValue_=e,null!=n?(i.startNameSet_=!0,i.indexStartName_=n):(i.startNameSet_=!1,i.indexStartName_=""),i}function Ve(t,e,n){const i=t.copy();return i.endSet_=!0,void 0===e&&(e=null),i.indexEndValue_=e,void 0!==n?(i.endNameSet_=!0,i.indexEndName_=n):(i.endNameSet_=!1,i.indexEndName_=""),i}function Ue(t,e){const n=t.copy();return n.index_=e,n}function je(t){const e={};if(t.isDefault())return e;let n;return t.index_===pe?n="$priority":t.index_===xe?n="$value":t.index_===Xt?n="$key":((0,k.hu)(t.index_ instanceof Se,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=(0,k.Pz)(n),t.startSet_&&(e.startAt=(0,k.Pz)(t.indexStartValue_),t.startNameSet_&&(e.startAt+=","+(0,k.Pz)(t.indexStartName_))),t.endSet_&&(e.endAt=(0,k.Pz)(t.indexEndValue_),t.endNameSet_&&(e.endAt+=","+(0,k.Pz)(t.indexEndName_))),t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function qe(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_)),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_)),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;""===n&&(n=t.isViewFromLeft()?"l":"r"),e.vf=n}return t.index_!==pe&&(e.i=t.index_.toString()),e}class ze extends kt{constructor(t,e,n,i){super(),this.repoInfo_=t,this.onDataUpdate_=e,this.authTokenProvider_=n,this.appCheckTokenProvider_=i,this.log_=z("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,e){return void 0!==e?"tag$"+e:((0,k.hu)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,e,n,i){const r=t._path.toString();this.log_("Listen called for "+r+" "+t._queryIdentifier);const s=ze.getListenId_(t,n),o={};this.listens_[s]=o;const a=je(t._queryParams);this.restRequest_(r+".json",a,(t,e)=>{let a=e;if(404===t&&(a=null,t=null),null===t&&this.onDataUpdate_(r,a,!1,n),(0,k.DV)(this.listens_,s)===o){let e;e=t?401===t?"permission_denied":"rest_error:"+t:"ok",i(e,null)}})}unlisten(t,e){const n=ze.getListenId_(t,e);delete this.listens_[n]}get(t){const e=je(t._queryParams),n=t._path.toString(),i=new k.BH;return this.restRequest_(n+".json",e,(t,e)=>{let r=e;404===t&&(r=null,t=null),null===t?(this.onDataUpdate_(n,r,!1,null),i.resolve(r)):i.reject(new Error(r))}),i.promise}refreshAuthToken(t){}restRequest_(t,e={},n){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,r])=>{i&&i.accessToken&&(e.auth=i.accessToken),r&&r.token&&(e.ac=r.token);const s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+(0,k.xO)(e);this.log_("Sending REST request for "+s);const o=new XMLHttpRequest;o.onreadystatechange=()=>{if(n&&4===o.readyState){this.log_("REST Response for "+s+" received. status:",o.status,"response:",o.responseText);let e=null;if(o.status>=200&&o.status<300){try{e=(0,k.cI)(o.responseText)}catch(t){$("Failed to parse JSON response for "+s+": "+o.responseText)}n(null,e)}else 401!==o.status&&404!==o.status&&$("Got unsuccessful REST response for "+s+" Status: "+o.status),n(o.status);n=null}},o.open("GET",s,!0),o.send()})}}class He{constructor(){this.rootNode_=we.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)}}function Ge(){return{value:null,children:new Map}}function $e(t,e,n){if(Bt(e))t.value=n,t.children.clear();else if(null!==t.value)t.value=t.value.updateChild(e,n);else{const i=Rt(e);t.children.has(i)||t.children.set(i,Ge()),$e(t.children.get(i),e=Pt(e),n)}}function Ze(t,e){if(Bt(e))return t.value=null,t.children.clear(),!0;if(null!==t.value){if(t.value.isLeafNode())return!1;{const n=t.value;return t.value=null,n.forEachChild(pe,(e,n)=>{$e(t,new At(e),n)}),Ze(t,e)}}if(t.children.size>0){const n=Rt(e);return e=Pt(e),t.children.has(n)&&Ze(t.children.get(n),e)&&t.children.delete(n),0===t.children.size}return!0}function Ye(t,e,n){null!==t.value?n(e,t.value):function(t,e){t.children.forEach((t,n)=>{e(n,t)})}(t,(t,i)=>{Ye(i,new At(e.toString()+"/"+t),n)})}class We{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),e=Object.assign({},t);return this.last_&&et(this.last_,(t,n)=>{e[t]=e[t]-n}),this.last_=t,e}}class Ke{constructor(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new We(t);const n=1e4+2e4*Math.random();ot(this.reportStats_.bind(this),Math.floor(n))}reportStats_(){const t=this.statsListener_.get(),e={};let n=!1;et(t,(t,i)=>{i>0&&(0,k.r3)(this.statsToReport_,t)&&(e[t]=i,n=!0)}),n&&this.server_.reportStats(e),ot(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Qe=function(t){return t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",t}({});function Je(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}class Xe{constructor(t,e,n){this.path=t,this.affectedTree=e,this.revert=n,this.type=Qe.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if(Bt(this.path)){if(null!=this.affectedTree.value)return(0,k.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new At(t));return new Xe(Dt(),e,this.revert)}}return(0,k.hu)(Rt(this.path)===t,"operationForChild called for unrelated child."),new Xe(Pt(this.path),this.affectedTree,this.revert)}}class tn{constructor(t,e){this.source=t,this.path=e,this.type=Qe.LISTEN_COMPLETE}operationForChild(t){return Bt(this.path)?new tn(this.source,Dt()):new tn(this.source,Pt(this.path))}}class en{constructor(t,e,n){this.source=t,this.path=e,this.snap=n,this.type=Qe.OVERWRITE}operationForChild(t){return Bt(this.path)?new en(this.source,Dt(),this.snap.getImmediateChild(t)):new en(this.source,Pt(this.path),this.snap)}}class nn{constructor(t,e,n){this.source=t,this.path=e,this.children=n,this.type=Qe.MERGE}operationForChild(t){if(Bt(this.path)){const e=this.children.subtree(new At(t));return e.isEmpty()?null:e.value?new en(this.source,Dt(),e.value):new nn(this.source,Dt(),e)}return(0,k.hu)(Rt(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new nn(this.source,Pt(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class rn{constructor(t,e,n){this.node_=t,this.fullyInitialized_=e,this.filtered_=n}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(Bt(t))return this.isFullyInitialized()&&!this.filtered_;const e=Rt(t);return this.isCompleteForChild(e)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class sn{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function on(t,e,n,i,r,s){const o=i.filter(t=>t.type===n);o.sort((e,n)=>function(t,e,n){if(null==e.childName||null==n.childName)throw(0,k.g5)("Should only compare child_ events.");const i=new Kt(e.childName,e.snapshotNode),r=new Kt(n.childName,n.snapshotNode);return t.index_.compare(i,r)}(t,e,n)),o.forEach(n=>{const i=function(t,e,n){return"value"===e.type||"child_removed"===e.type||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}(t,n,s);r.forEach(r=>{r.respondsTo(n.type)&&e.push(r.createEvent(i,t.query_))})})}function an(t,e){return{eventCache:t,serverCache:e}}function ln(t,e,n,i){return an(new rn(e,n,i),t.serverCache)}function cn(t,e,n,i){return an(t.eventCache,new rn(e,n,i))}function un(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function hn(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}let dn;class pn{constructor(t,e=(()=>(dn||(dn=new re(Q)),dn))()){this.value=t,this.children=e}static fromObject(t){let e=new pn(null);return et(t,(t,n)=>{e=e.set(new At(t),n)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,e){if(null!=this.value&&e(this.value))return{path:Dt(),value:this.value};if(Bt(t))return null;{const n=Rt(t),i=this.children.get(n);if(null!==i){const r=i.findRootMostMatchingPathAndValue(Pt(t),e);return null!=r?{path:Mt(new At(n),r.path),value:r.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(Bt(t))return this;{const e=Rt(t),n=this.children.get(e);return null!==n?n.subtree(Pt(t)):new pn(null)}}set(t,e){if(Bt(t))return new pn(e,this.children);{const n=Rt(t),i=(this.children.get(n)||new pn(null)).set(Pt(t),e),r=this.children.insert(n,i);return new pn(this.value,r)}}remove(t){if(Bt(t))return this.children.isEmpty()?new pn(null):new pn(null,this.children);{const e=Rt(t),n=this.children.get(e);if(n){const i=n.remove(Pt(t));let r;return r=i.isEmpty()?this.children.remove(e):this.children.insert(e,i),null===this.value&&r.isEmpty()?new pn(null):new pn(this.value,r)}return this}}get(t){if(Bt(t))return this.value;{const e=Rt(t),n=this.children.get(e);return n?n.get(Pt(t)):null}}setTree(t,e){if(Bt(t))return e;{const n=Rt(t),i=(this.children.get(n)||new pn(null)).setTree(Pt(t),e);let r;return r=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),new pn(this.value,r)}}fold(t){return this.fold_(Dt(),t)}fold_(t,e){const n={};return this.children.inorderTraversal((i,r)=>{n[i]=r.fold_(Mt(t,i),e)}),e(t,this.value,n)}findOnPath(t,e){return this.findOnPath_(t,Dt(),e)}findOnPath_(t,e,n){const i=!!this.value&&n(e,this.value);if(i)return i;if(Bt(t))return null;{const i=Rt(t),r=this.children.get(i);return r?r.findOnPath_(Pt(t),Mt(e,i),n):null}}foreachOnPath(t,e){return this.foreachOnPath_(t,Dt(),e)}foreachOnPath_(t,e,n){if(Bt(t))return this;{this.value&&n(e,this.value);const i=Rt(t),r=this.children.get(i);return r?r.foreachOnPath_(Pt(t),Mt(e,i),n):new pn(null)}}foreach(t){this.foreach_(Dt(),t)}foreach_(t,e){this.children.inorderTraversal((n,i)=>{i.foreach_(Mt(t,n),e)}),this.value&&e(t,this.value)}foreachChild(t){this.children.inorderTraversal((e,n)=>{n.value&&t(e,n.value)})}}class fn{constructor(t){this.writeTree_=t}static empty(){return new fn(new pn(null))}}function mn(t,e,n){if(Bt(e))return new fn(new pn(n));{const i=t.writeTree_.findRootMostValueAndPath(e);if(null!=i){const r=i.path;let s=i.value;const o=Vt(r,e);return s=s.updateChild(o,n),new fn(t.writeTree_.set(r,s))}{const i=new pn(n),r=t.writeTree_.setTree(e,i);return new fn(r)}}}function gn(t,e,n){let i=t;return et(n,(t,n)=>{i=mn(i,Mt(e,t),n)}),i}function _n(t,e){if(Bt(e))return fn.empty();{const n=t.writeTree_.setTree(e,new pn(null));return new fn(n)}}function yn(t,e){return null!=vn(t,e)}function vn(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return null!=n?t.writeTree_.get(n.path).getChild(Vt(n.path,e)):null}function bn(t){const e=[],n=t.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(pe,(t,n)=>{e.push(new Kt(t,n))}):t.writeTree_.children.inorderTraversal((t,n)=>{null!=n.value&&e.push(new Kt(t,n.value))}),e}function wn(t,e){if(Bt(e))return t;{const n=vn(t,e);return new fn(null!=n?new pn(n):t.writeTree_.subtree(e))}}function Cn(t){return t.writeTree_.isEmpty()}function En(t,e){return Sn(Dt(),t.writeTree_,e)}function Sn(t,e,n){if(null!=e.value)return n.updateChild(t,e.value);{let i=null;return e.children.inorderTraversal((e,r)=>{".priority"===e?((0,k.hu)(null!==r.value,"Priority writes must always be leaf nodes"),i=r.value):n=Sn(Mt(t,e),r,n)}),n.getChild(t).isEmpty()||null===i||(n=n.updateChild(Mt(t,".priority"),i)),n}}function xn(t,e){return Ln(e,t)}function kn(t,e){if(t.snap)return qt(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&qt(Mt(t.path,n),e))return!0;return!1}function Tn(t){return t.visible}function In(t,e,n){let i=fn.empty();for(let r=0;r<t.length;++r){const s=t[r];if(e(s)){const t=s.path;let e;if(s.snap)qt(n,t)?(e=Vt(n,t),i=mn(i,e,s.snap)):qt(t,n)&&(e=Vt(t,n),i=mn(i,Dt(),s.snap.getChild(e)));else{if(!s.children)throw(0,k.g5)("WriteRecord should have .snap or .children");if(qt(n,t))e=Vt(n,t),i=gn(i,e,s.children);else if(qt(t,n))if(e=Vt(t,n),Bt(e))i=gn(i,Dt(),s.children);else{const t=(0,k.DV)(s.children,Rt(e));if(t){const n=t.getChild(Pt(e));i=mn(i,Dt(),n)}}}}}return i}function An(t,e,n,i,r){if(i||r){const s=wn(t.visibleWrites,e);return!r&&Cn(s)?n:r||null!=n||yn(s,Dt())?En(In(t.allWrites,function(t){return(t.visible||r)&&(!i||!~i.indexOf(t.writeId))&&(qt(t.path,e)||qt(e,t.path))},e),n||we.EMPTY_NODE):null}{const i=vn(t.visibleWrites,e);if(null!=i)return i;{const i=wn(t.visibleWrites,e);return Cn(i)?n:null!=n||yn(i,Dt())?En(i,n||we.EMPTY_NODE):null}}}function Dn(t,e,n,i){return An(t.writeTree,t.treePath,e,n,i)}function Rn(t,e){return function(t,e,n){let i=we.EMPTY_NODE;const r=vn(t.visibleWrites,e);if(r)return r.isLeafNode()||r.forEachChild(pe,(t,e)=>{i=i.updateImmediateChild(t,e)}),i;if(n){const r=wn(t.visibleWrites,e);return n.forEachChild(pe,(t,e)=>{const n=En(wn(r,new At(t)),e);i=i.updateImmediateChild(t,n)}),bn(r).forEach(t=>{i=i.updateImmediateChild(t.name,t.node)}),i}return bn(wn(t.visibleWrites,e)).forEach(t=>{i=i.updateImmediateChild(t.name,t.node)}),i}(t.writeTree,t.treePath,e)}function On(t,e,n,i){return function(t,e,n,i,r){(0,k.hu)(i||r,"Either existingEventSnap or existingServerSnap must exist");const s=Mt(e,n);if(yn(t.visibleWrites,s))return null;{const e=wn(t.visibleWrites,s);return Cn(e)?r.getChild(n):En(e,r.getChild(n))}}(t.writeTree,t.treePath,e,n,i)}function Pn(t,e){return function(t,e){return vn(t.visibleWrites,e)}(t.writeTree,Mt(t.treePath,e))}function Nn(t,e,n){return function(t,e,n,i){const r=Mt(e,n),s=vn(t.visibleWrites,r);return null!=s?s:i.isCompleteForChild(n)?En(wn(t.visibleWrites,r),i.getNode().getImmediateChild(n)):null}(t.writeTree,t.treePath,e,n)}function Fn(t,e){return Ln(Mt(t.treePath,e),t.writeTree)}function Ln(t,e){return{treePath:t,writeTree:e}}class Mn{constructor(){this.changeMap=new Map}trackChildChange(t){const e=t.type,n=t.childName;(0,k.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,k.hu)(".priority"!==n,"Only non-priority child changes can be tracked.");const i=this.changeMap.get(n);if(i){const r=i.type;if("child_added"===e&&"child_removed"===r)this.changeMap.set(n,Pe(n,t.snapshotNode,i.snapshotNode));else if("child_removed"===e&&"child_added"===r)this.changeMap.delete(n);else if("child_removed"===e&&"child_changed"===r)this.changeMap.set(n,Oe(n,i.oldSnap));else if("child_changed"===e&&"child_added"===r)this.changeMap.set(n,Re(n,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==r)throw(0,k.g5)("Illegal combination of changes: "+t+" occurred after "+i);this.changeMap.set(n,Pe(n,t.snapshotNode,i.oldSnap))}}else this.changeMap.set(n,t)}getChanges(){return Array.from(this.changeMap.values())}}const Bn=new class{getCompleteChild(t){return null}getChildAfterChild(t,e,n){return null}};class Vn{constructor(t,e,n=null){this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=n}getCompleteChild(t){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);{const e=null!=this.optCompleteServerCache_?new rn(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Nn(this.writes_,t,e)}}getChildAfterChild(t,e,n){const i=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:hn(this.viewCache_),r=function(t,e,n,i,r,s){return function(t,e,n,i,r,s,o){let a;const l=wn(t.visibleWrites,e),c=vn(l,Dt());if(null!=c)a=c;else{if(null==n)return[];a=En(l,n)}if(a=a.withIndex(o),a.isEmpty()||a.isLeafNode())return[];{const t=[],e=o.getCompare(),n=s?a.getReverseIteratorFrom(i,o):a.getIteratorFrom(i,o);let r=n.getNext();for(;r&&t.length<1;)0!==e(r,i)&&t.push(r),r=n.getNext();return t}}(t.writeTree,t.treePath,e,n,0,r,s)}(this.writes_,i,e,0,n,t);return 0===r.length?null:r[0]}}function Un(t,e,n,i,r,s){const o=e.eventCache;if(null!=Pn(i,n))return e;{let a,l;if(Bt(n))if((0,k.hu)(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const n=hn(e),r=Rn(i,n instanceof we?n:we.EMPTY_NODE);a=t.filter.updateFullNode(e.eventCache.getNode(),r,s)}else{const n=Dn(i,hn(e));a=t.filter.updateFullNode(e.eventCache.getNode(),n,s)}else{const c=Rt(n);if(".priority"===c){(0,k.hu)(1===Ot(n),"Can't have a priority with additional path components");const r=o.getNode();l=e.serverCache.getNode();const s=On(i,n,r,l);a=null!=s?t.filter.updatePriority(r,s):o.getNode()}else{const u=Pt(n);let h;if(o.isCompleteForChild(c)){l=e.serverCache.getNode();const t=On(i,n,o.getNode(),l);h=null!=t?o.getNode().getImmediateChild(c).updateChild(u,t):o.getNode().getImmediateChild(c)}else h=Nn(i,c,e.serverCache);a=null!=h?t.filter.updateChild(o.getNode(),c,h,u,r,s):o.getNode()}}return ln(e,a,o.isFullyInitialized()||Bt(n),t.filter.filtersNodes())}}function jn(t,e,n,i,r,s,o,a){const l=e.serverCache;let c;const u=o?t.filter:t.filter.getIndexedFilter();if(Bt(n))c=u.updateFullNode(l.getNode(),i,null);else if(u.filtersNodes()&&!l.isFiltered()){const t=l.getNode().updateChild(n,i);c=u.updateFullNode(l.getNode(),t,null)}else{const t=Rt(n);if(!l.isCompleteForPath(n)&&Ot(n)>1)return e;const r=Pt(n),s=l.getNode().getImmediateChild(t).updateChild(r,i);c=".priority"===t?u.updatePriority(l.getNode(),s):u.updateChild(l.getNode(),t,s,r,Bn,null)}const h=cn(e,c,l.isFullyInitialized()||Bt(n),u.filtersNodes());return Un(t,h,n,r,new Vn(r,h,s),a)}function qn(t,e,n,i,r,s,o){const a=e.eventCache;let l,c;const u=new Vn(r,e,s);if(Bt(n))c=t.filter.updateFullNode(e.eventCache.getNode(),i,o),l=ln(e,c,!0,t.filter.filtersNodes());else{const r=Rt(n);if(".priority"===r)c=t.filter.updatePriority(e.eventCache.getNode(),i),l=ln(e,c,a.isFullyInitialized(),a.isFiltered());else{const s=Pt(n),c=a.getNode().getImmediateChild(r);let h;if(Bt(s))h=i;else{const t=u.getCompleteChild(r);h=null!=t?".priority"===Nt(s)&&t.getChild(Lt(s)).isEmpty()?t:t.updateChild(s,i):we.EMPTY_NODE}l=c.equals(h)?e:ln(e,t.filter.updateChild(a.getNode(),r,h,s,u,o),a.isFullyInitialized(),t.filter.filtersNodes())}}return l}function zn(t,e){return t.eventCache.isCompleteForChild(e)}function Hn(t,e,n){return n.foreach((t,n)=>{e=e.updateChild(t,n)}),e}function Gn(t,e,n,i,r,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l,c=e;l=Bt(n)?i:new pn(null).setTree(n,i);const u=e.serverCache.getNode();return l.children.inorderTraversal((n,i)=>{if(u.hasChild(n)){const l=Hn(0,e.serverCache.getNode().getImmediateChild(n),i);c=jn(t,c,new At(n),l,r,s,o,a)}}),l.children.inorderTraversal((n,i)=>{const l=!e.serverCache.isCompleteForChild(n)&&void 0===i.value;if(!u.hasChild(n)&&!l){const l=Hn(0,e.serverCache.getNode().getImmediateChild(n),i);c=jn(t,c,new At(n),l,r,s,o,a)}}),c}class $n{constructor(t,e){this.query_=t,this.eventRegistrations_=[];const n=this.query_._queryParams,i=new Ne(n.getIndex()),r=(s=n).loadsAllData()?new Ne(s.getIndex()):s.hasLimit()?new Le(s):new Fe(s);var s;this.processor_=function(t){return{filter:t}}(r);const o=e.serverCache,a=e.eventCache,l=i.updateFullNode(we.EMPTY_NODE,o.getNode(),null),c=r.updateFullNode(we.EMPTY_NODE,a.getNode(),null),u=new rn(l,o.isFullyInitialized(),i.filtersNodes()),h=new rn(c,a.isFullyInitialized(),r.filtersNodes());this.viewCache_=an(h,u),this.eventGenerator_=new sn(this.query_)}get query(){return this.query_}}function Zn(t,e){const n=hn(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!Bt(e)&&!n.getImmediateChild(Rt(e)).isEmpty())?n.getChild(e):null}function Yn(t){return 0===t.eventRegistrations_.length}function Wn(t,e,n){const i=[];if(n){(0,k.hu)(null==e,"A cancel should cancel all event registrations.");const r=t.query._path;t.eventRegistrations_.forEach(t=>{const e=t.createCancelEvent(n,r);e&&i.push(e)})}if(e){let n=[];for(let i=0;i<t.eventRegistrations_.length;++i){const r=t.eventRegistrations_[i];if(r.matches(e)){if(e.hasAnyCallback()){n=n.concat(t.eventRegistrations_.slice(i+1));break}}else n.push(r)}t.eventRegistrations_=n}else t.eventRegistrations_=[];return i}function Kn(t,e,n,i){e.type===Qe.MERGE&&null!==e.source.queryId&&((0,k.hu)(hn(t.viewCache_),"We should always have a full cache before handling merges"),(0,k.hu)(un(t.viewCache_),"Missing event cache, even though we have a server cache"));const r=t.viewCache_,s=function(t,e,n,i,r){const s=new Mn;let o,a;if(n.type===Qe.OVERWRITE){const l=n;l.source.fromUser?o=qn(t,e,l.path,l.snap,i,r,s):((0,k.hu)(l.source.fromServer,"Unknown source."),a=l.source.tagged||e.serverCache.isFiltered()&&!Bt(l.path),o=jn(t,e,l.path,l.snap,i,r,a,s))}else if(n.type===Qe.MERGE){const l=n;l.source.fromUser?o=function(t,e,n,i,r,s,o){let a=e;return i.foreach((i,l)=>{const c=Mt(n,i);zn(e,Rt(c))&&(a=qn(t,a,c,l,r,s,o))}),i.foreach((i,l)=>{const c=Mt(n,i);zn(e,Rt(c))||(a=qn(t,a,c,l,r,s,o))}),a}(t,e,l.path,l.children,i,r,s):((0,k.hu)(l.source.fromServer,"Unknown source."),a=l.source.tagged||e.serverCache.isFiltered(),o=Gn(t,e,l.path,l.children,i,r,a,s))}else if(n.type===Qe.ACK_USER_WRITE){const a=n;o=a.revert?function(t,e,n,i,r,s){let o;if(null!=Pn(i,n))return e;{const a=new Vn(i,e,r),l=e.eventCache.getNode();let c;if(Bt(n)||".priority"===Rt(n)){let n;if(e.serverCache.isFullyInitialized())n=Dn(i,hn(e));else{const t=e.serverCache.getNode();(0,k.hu)(t instanceof we,"serverChildren would be complete if leaf node"),n=Rn(i,t)}n=n,c=t.filter.updateFullNode(l,n,s)}else{const r=Rt(n);let u=Nn(i,r,e.serverCache);null==u&&e.serverCache.isCompleteForChild(r)&&(u=l.getImmediateChild(r)),c=null!=u?t.filter.updateChild(l,r,u,Pt(n),a,s):e.eventCache.getNode().hasChild(r)?t.filter.updateChild(l,r,we.EMPTY_NODE,Pt(n),a,s):l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=Dn(i,hn(e)),o.isLeafNode()&&(c=t.filter.updateFullNode(c,o,s)))}return o=e.serverCache.isFullyInitialized()||null!=Pn(i,Dt()),ln(e,c,o,t.filter.filtersNodes())}}(t,e,a.path,i,r,s):function(t,e,n,i,r,s,o){if(null!=Pn(r,n))return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(null!=i.value){if(Bt(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return jn(t,e,n,l.getNode().getChild(n),r,s,a,o);if(Bt(n)){let i=new pn(null);return l.getNode().forEachChild(Xt,(t,e)=>{i=i.set(new At(t),e)}),Gn(t,e,n,i,r,s,a,o)}return e}{let c=new pn(null);return i.foreach((t,e)=>{const i=Mt(n,t);l.isCompleteForPath(i)&&(c=c.set(t,l.getNode().getChild(i)))}),Gn(t,e,n,c,r,s,a,o)}}(t,e,a.path,a.affectedTree,i,r,s)}else{if(n.type!==Qe.LISTEN_COMPLETE)throw(0,k.g5)("Unknown operation type: "+n.type);o=function(t,e,n,i,r){const s=e.serverCache;return Un(t,cn(e,s.getNode(),s.isFullyInitialized()||Bt(n),s.isFiltered()),n,i,Bn,r)}(t,e,n.path,i,s)}const l=s.getChanges();return function(t,e,n){const i=e.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),s=un(t);(n.length>0||!t.eventCache.isFullyInitialized()||r&&!i.getNode().equals(s)||!i.getNode().getPriority().equals(s.getPriority()))&&n.push(De(un(e)))}}(e,o,l),{viewCache:o,changes:l}}(t.processor_,r,e,n,i);var o,a;return o=t.processor_,(0,k.hu)((a=s.viewCache).eventCache.getNode().isIndexed(o.filter.getIndex()),"Event snap not indexed"),(0,k.hu)(a.serverCache.getNode().isIndexed(o.filter.getIndex()),"Server snap not indexed"),(0,k.hu)(s.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,Qn(t,s.changes,s.viewCache.eventCache.getNode(),null)}function Qn(t,e,n,i){return function(t,e,n,i){const r=[],s=[];return e.forEach(e=>{"child_changed"===e.type&&t.index_.indexedValueChanged(e.oldSnap,e.snapshotNode)&&s.push({type:"child_moved",snapshotNode:e.snapshotNode,childName:e.childName})}),on(t,r,"child_removed",e,i,n),on(t,r,"child_added",e,i,n),on(t,r,"child_moved",s,i,n),on(t,r,"child_changed",e,i,n),on(t,r,"value",e,i,n),r}(t.eventGenerator_,e,n,i?[i]:t.eventRegistrations_)}let Jn,Xn;class ti{constructor(){this.views=new Map}}function ei(t,e,n,i){const r=e.source.queryId;if(null!==r){const s=t.views.get(r);return(0,k.hu)(null!=s,"SyncTree gave us an op for an invalid query."),Kn(s,e,n,i)}{let r=[];for(const s of t.views.values())r=r.concat(Kn(s,e,n,i));return r}}function ni(t,e,n,i,r){const s=t.views.get(e._queryIdentifier);if(!s){let t=Dn(n,r?i:null),s=!1;t?s=!0:i instanceof we?(t=Rn(n,i),s=!1):(t=we.EMPTY_NODE,s=!1);const o=an(new rn(t,s,!1),new rn(i,r,!1));return new $n(e,o)}return s}function ii(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function ri(t,e){let n=null;for(const i of t.views.values())n=n||Zn(i,e);return n}function si(t,e){return e._queryParams.loadsAllData()?li(t):t.views.get(e._queryIdentifier)}function oi(t,e){return null!=si(t,e)}function ai(t){return null!=li(t)}function li(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}let ci=1;class ui{constructor(t){this.listenProvider_=t,this.syncPointTree_=new pn(null),this.pendingWriteTree_={visibleWrites:fn.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function hi(t,e,n,i,r){return function(t,e,n,i,r){(0,k.hu)(i>t.lastWriteId,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),t.allWrites.push({path:e,snap:n,writeId:i,visible:r}),r&&(t.visibleWrites=mn(t.visibleWrites,e,n)),t.lastWriteId=i}(t.pendingWriteTree_,e,n,i,r),r?_i(t,new en({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,n)):[]}function di(t,e,n=!1){const i=function(t,e){for(let n=0;n<t.allWrites.length;n++){const i=t.allWrites[n];if(i.writeId===e)return i}return null}(t.pendingWriteTree_,e);if(function(t,e){const n=t.allWrites.findIndex(t=>t.writeId===e);(0,k.hu)(n>=0,"removeWrite called with nonexistent writeId.");const i=t.allWrites[n];t.allWrites.splice(n,1);let r=i.visible,s=!1,o=t.allWrites.length-1;for(;r&&o>=0;){const e=t.allWrites[o];e.visible&&(o>=n&&kn(e,i.path)?r=!1:qt(i.path,e.path)&&(s=!0)),o--}return!!r&&(s?(function(t){t.visibleWrites=In(t.allWrites,Tn,Dt()),t.lastWriteId=t.allWrites.length>0?t.allWrites[t.allWrites.length-1].writeId:-1}(t),!0):(i.snap?t.visibleWrites=_n(t.visibleWrites,i.path):et(i.children,e=>{t.visibleWrites=_n(t.visibleWrites,Mt(i.path,e))}),!0))}(t.pendingWriteTree_,e)){let e=new pn(null);return null!=i.snap?e=e.set(Dt(),!0):et(i.children,t=>{e=e.set(new At(t),!0)}),_i(t,new Xe(i.path,e,n))}return[]}function pi(t,e,n){return _i(t,new en({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,n))}function fi(t,e,n,i){const r=e._path,s=t.syncPointTree_.get(r);let o=[];if(s&&("default"===e._queryIdentifier||oi(s,e))){const a=function(t,e,n,i){const r=e._queryIdentifier,s=[];let o=[];const a=ai(t);if("default"===r)for(const[l,c]of t.views.entries())o=o.concat(Wn(c,n,i)),Yn(c)&&(t.views.delete(l),c.query._queryParams.loadsAllData()||s.push(c.query));else{const e=t.views.get(r);e&&(o=o.concat(Wn(e,n,i)),Yn(e)&&(t.views.delete(r),e.query._queryParams.loadsAllData()||s.push(e.query)))}return a&&!ai(t)&&s.push(new((0,k.hu)(Jn,"Reference.ts has not been loaded"),Jn)(e._repo,e._path)),{removed:s,events:o}}(s,e,n,i);0===s.views.size&&(t.syncPointTree_=t.syncPointTree_.remove(r));const l=a.removed;o=a.events;const c=-1!==l.findIndex(t=>t._queryParams.loadsAllData()),u=t.syncPointTree_.findOnPath(r,(t,e)=>ai(e));if(c&&!u){const e=t.syncPointTree_.subtree(r);if(!e.isEmpty()){const n=function(t){return t.fold((t,e,n)=>{if(e&&ai(e))return[li(e)];{let t=[];return e&&(t=ii(e)),et(n,(e,n)=>{t=t.concat(n)}),t}})}(e);for(let e=0;e<n.length;++e){const i=n[e],r=i.query,s=bi(t,i);t.listenProvider_.startListening(ki(r),wi(t,r),s.hashFn,s.onComplete)}}}if(!u&&l.length>0&&!i)if(c){const n=null;t.listenProvider_.stopListening(ki(e),n)}else l.forEach(e=>{const n=t.queryToTagMap.get(Ci(e));t.listenProvider_.stopListening(ki(e),n)});!function(t,e){for(let n=0;n<e.length;++n){const i=e[n];if(!i._queryParams.loadsAllData()){const e=Ci(i),n=t.queryToTagMap.get(e);t.queryToTagMap.delete(e),t.tagToQueryMap.delete(n)}}}(t,l)}return o}function mi(t,e,n){const i=e._path;let r=null,s=!1;t.syncPointTree_.foreachOnPath(i,(t,e)=>{const n=Vt(t,i);r=r||ri(e,n),s=s||ai(e)});let o,a=t.syncPointTree_.get(i);a?(s=s||ai(a),r=r||ri(a,Dt())):(a=new ti,t.syncPointTree_=t.syncPointTree_.set(i,a)),null!=r?o=!0:(o=!1,r=we.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((t,e)=>{const n=ri(e,Dt());n&&(r=r.updateImmediateChild(t,n))}));const l=oi(a,e);if(!l&&!e._queryParams.loadsAllData()){const n=Ci(e);(0,k.hu)(!t.queryToTagMap.has(n),"View does not exist, but we have a tag");const i=ci++;t.queryToTagMap.set(n,i),t.tagToQueryMap.set(i,n)}let c=function(t,e,n,i,r,s){const o=ni(t,e,i,r,s);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),function(t,e){t.eventRegistrations_.push(e)}(o,n),function(t,e){const n=t.viewCache_.eventCache,i=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(pe,(t,e)=>{i.push(Re(t,e))}),n.isFullyInitialized()&&i.push(De(n.getNode())),Qn(t,i,n.getNode(),e)}(o,n)}(a,e,n,xn(t.pendingWriteTree_,i),r,o);if(!l&&!s){const n=si(a,e);c=c.concat(function(t,e,n){const i=e._path,r=wi(t,e),s=bi(t,n),o=t.listenProvider_.startListening(ki(e),r,s.hashFn,s.onComplete),a=t.syncPointTree_.subtree(i);if(r)(0,k.hu)(!ai(a.value),"If we're adding a query, it shouldn't be shadowed");else{const e=a.fold((t,e,n)=>{if(!Bt(t)&&e&&ai(e))return[li(e).query];{let t=[];return e&&(t=t.concat(ii(e).map(t=>t.query))),et(n,(e,n)=>{t=t.concat(n)}),t}});for(let n=0;n<e.length;++n){const i=e[n];t.listenProvider_.stopListening(ki(i),wi(t,i))}}return o}(t,e,n))}return c}function gi(t,e,n){const i=t.pendingWriteTree_,r=t.syncPointTree_.findOnPath(e,(t,n)=>{const i=ri(n,Vt(t,e));if(i)return i});return An(i,e,r,n,!0)}function _i(t,e){return yi(e,t.syncPointTree_,null,xn(t.pendingWriteTree_,Dt()))}function yi(t,e,n,i){if(Bt(t.path))return vi(t,e,n,i);{const r=e.get(Dt());null==n&&null!=r&&(n=ri(r,Dt()));let s=[];const o=Rt(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const t=n?n.getImmediateChild(o):null,e=Fn(i,o);s=s.concat(yi(a,l,t,e))}return r&&(s=s.concat(ei(r,t,i,n))),s}}function vi(t,e,n,i){const r=e.get(Dt());null==n&&null!=r&&(n=ri(r,Dt()));let s=[];return e.children.inorderTraversal((e,r)=>{const o=n?n.getImmediateChild(e):null,a=Fn(i,e),l=t.operationForChild(e);l&&(s=s.concat(vi(l,r,o,a)))}),r&&(s=s.concat(ei(r,t,i,n))),s}function bi(t,e){const n=e.query,i=wi(t,n);return{hashFn:()=>(function(t){return t.viewCache_.serverCache.getNode()}(e)||we.EMPTY_NODE).hash(),onComplete:e=>{if("ok"===e)return i?function(t,e,n){const i=Ei(t,n);if(i){const n=Si(i),r=n.path,s=n.queryId,o=Vt(r,e);return xi(t,r,new tn(Je(s),o))}return[]}(t,n._path,i):function(t,e){return _i(t,new tn({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e))}(t,n._path);{const i=function(t,e){let n="Unknown Error";"too_big"===t?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===t?n="Client doesn't have permission to access the desired data.":"unavailable"===t&&(n="The service is unavailable");const i=new Error(t+" at "+e._path.toString()+": "+n);return i.code=t.toUpperCase(),i}(e,n);return fi(t,n,null,i)}}}}function wi(t,e){const n=Ci(e);return t.queryToTagMap.get(n)}function Ci(t){return t._path.toString()+"$"+t._queryIdentifier}function Ei(t,e){return t.tagToQueryMap.get(e)}function Si(t){const e=t.indexOf("$");return(0,k.hu)(-1!==e&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new At(t.substr(0,e))}}function xi(t,e,n){const i=t.syncPointTree_.get(e);return(0,k.hu)(i,"Missing sync point for query tag that we're tracking"),ei(i,n,xn(t.pendingWriteTree_,e),null)}function ki(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new((0,k.hu)(Xn,"Reference.ts has not been loaded"),Xn)(t._repo,t._path):t}class Ti{constructor(t){this.node_=t}getImmediateChild(t){const e=this.node_.getImmediateChild(t);return new Ti(e)}node(){return this.node_}}class Ii{constructor(t,e){this.syncTree_=t,this.path_=e}getImmediateChild(t){const e=Mt(this.path_,t);return new Ii(this.syncTree_,e)}node(){return gi(this.syncTree_,this.path_)}}const Ai=function(t,e,n){return t&&"object"==typeof t?((0,k.hu)(".sv"in t,"Unexpected leaf node or priority contents"),"string"==typeof t[".sv"]?Di(t[".sv"],e,n):"object"==typeof t[".sv"]?Ri(t[".sv"],e):void(0,k.hu)(!1,"Unexpected server value: "+JSON.stringify(t,null,2))):t},Di=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:(0,k.hu)(!1,"Unexpected server value: "+t)}},Ri=function(t,e,n){t.hasOwnProperty("increment")||(0,k.hu)(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const i=t.increment;"number"!=typeof i&&(0,k.hu)(!1,"Unexpected increment value: "+i);const r=e.node();if((0,k.hu)(null!=r,"Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const s=r.getValue();return"number"!=typeof s?i:s+i},Oi=function(t,e,n,i){return Ni(e,new Ii(n,t),i)},Pi=function(t,e,n){return Ni(t,new Ti(e),n)};function Ni(t,e,n){const i=t.getPriority().val(),r=Ai(i,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const i=t,s=Ai(i.getValue(),e,n);return s!==i.getValue()||r!==i.getPriority().val()?new de(s,Ee(r)):t}{const i=t;return s=i,r!==i.getPriority().val()&&(s=s.updatePriority(new de(r))),i.forEachChild(pe,(t,i)=>{const r=Ni(i,e.getImmediateChild(t),n);r!==i&&(s=s.updateImmediateChild(t,r))}),s}}class Fi{constructor(t="",e=null,n={children:{},childCount:0}){this.name=t,this.parent=e,this.node=n}}function Li(t,e){let n=e instanceof At?e:new At(e),i=t,r=Rt(n);for(;null!==r;){const t=(0,k.DV)(i.node.children,r)||{children:{},childCount:0};i=new Fi(r,i,t),n=Pt(n),r=Rt(n)}return i}function Mi(t){return t.node.value}function Bi(t,e){t.node.value=e,zi(t)}function Vi(t){return t.node.childCount>0}function Ui(t,e){et(t.node.children,(n,i)=>{e(new Fi(n,t,i))})}function ji(t,e,n,i){n&&!i&&e(t),Ui(t,t=>{ji(t,e,!0,i)}),n&&i&&e(t)}function qi(t){return new At(null===t.parent?t.name:qi(t.parent)+"/"+t.name)}function zi(t){null!==t.parent&&function(t,e,n){const i=function(t){return void 0===Mi(t)&&!Vi(t)}(n),r=(0,k.r3)(t.node.children,e);i&&r?(delete t.node.children[e],t.node.childCount--,zi(t)):i||r||(t.node.children[e]=n.node,t.node.childCount++,zi(t))}(t.parent,t.name,t)}const Hi=/[\[\].#$\/\u0000-\u001F\u007F]/,Gi=/[\[\].#$\u0000-\u001F\u007F]/,$i=10485760,Zi=function(t){return"string"==typeof t&&0!==t.length&&!Hi.test(t)},Yi=function(t){return"string"==typeof t&&0!==t.length&&!Gi.test(t)},Wi=function(t){return null===t||"string"==typeof t||"number"==typeof t&&!Z(t)||t&&"object"==typeof t&&(0,k.r3)(t,".sv")},Ki=function(t,e,n,i){i&&void 0===e||Qi((0,k.gK)(t,"value"),e,n)},Qi=function(t,e,n){const i=n instanceof At?new zt(n,t):n;if(void 0===e)throw new Error(t+"contains undefined "+Gt(i));if("function"==typeof e)throw new Error(t+"contains a function "+Gt(i)+" with contents = "+e.toString());if(Z(e))throw new Error(t+"contains "+e.toString()+" "+Gt(i));if("string"==typeof e&&e.length>$i/3&&(0,k.ug)(e)>$i)throw new Error(t+"contains a string greater than 10485760 utf8 bytes "+Gt(i)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){let n=!1,r=!1;if(et(e,(e,s)=>{if(".value"===e)n=!0;else if(".priority"!==e&&".sv"!==e&&(r=!0,!Zi(e)))throw new Error(t+" contains an invalid key ("+e+") "+Gt(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');!function(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=(0,k.ug)(e),Ht(t)}(i,e),Qi(t,s,i),function(t){const e=t.parts_.pop();t.byteLength_-=(0,k.ug)(e),t.parts_.length>0&&(t.byteLength_-=1)}(i)}),n&&r)throw new Error(t+' contains ".value" child '+Gt(i)+" in addition to actual children.")}},Ji=function(t,e,n,i){if(i&&void 0===e)return;const r=(0,k.gK)(t,"values");if(!e||"object"!=typeof e||Array.isArray(e))throw new Error(r+" must be an object containing the children to replace.");const s=[];et(e,(t,e)=>{const i=new At(t);if(Qi(r,e,Mt(n,i)),".priority"===Nt(i)&&!Wi(e))throw new Error(r+"contains an invalid value for '"+i.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(i)}),function(t,e){let n,i;for(n=0;n<e.length;n++){i=e[n];const r=Ft(i);for(let e=0;e<r.length;e++)if(".priority"===r[e]&&e===r.length-1);else if(!Zi(r[e]))throw new Error(t+"contains an invalid key ("+r[e]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}e.sort(Ut);let r=null;for(n=0;n<e.length;n++){if(i=e[n],null!==r&&qt(r,i))throw new Error(t+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}}(r,s)},Xi=function(t,e,n){if(!n||void 0!==e){if(Z(e))throw new Error((0,k.gK)(t,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Wi(e))throw new Error((0,k.gK)(t,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},tr=function(t,e,n,i){if(!(i&&void 0===n||Zi(n)))throw new Error((0,k.gK)(t,e)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},er=function(t,e,n,i){if(!(i&&void 0===n||Yi(n)))throw new Error((0,k.gK)(t,e)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},nr=function(t,e){if(".info"===Rt(e))throw new Error(t+" failed = Can't modify data under /.info/")},ir=function(t,e){const n=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!Zi(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==n.length&&!function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),Yi(t)}(n))throw new Error((0,k.gK)(t,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class rr{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function sr(t,e){let n=null;for(let i=0;i<e.length;i++){const r=e[i],s=r.getPath();null===n||jt(s,n.path)||(t.eventLists_.push(n),n=null),null===n&&(n={events:[],path:s}),n.events.push(r)}n&&t.eventLists_.push(n)}function or(t,e,n){sr(t,n),lr(t,t=>jt(t,e))}function ar(t,e,n){sr(t,n),lr(t,t=>qt(t,e)||qt(e,t))}function lr(t,e){t.recursionDepth_++;let n=!0;for(let i=0;i<t.eventLists_.length;i++){const r=t.eventLists_[i];r&&(e(r.path)?(cr(t.eventLists_[i]),t.eventLists_[i]=null):n=!1)}n&&(t.eventLists_=[]),t.recursionDepth_--}function cr(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(null!==n){t.events[e]=null;const i=n.getEventRunner();V&&q("event: "+n.toString()),st(i)}}}const ur="repo_interrupt";class hr{constructor(t,e,n,i){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=n,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new rr,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Ge(),this.transactionQueueTree_=new Fi,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function dr(t){const e=t.infoData_.getNode(new At(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function pr(t){return(e=(e={timestamp:dr(t)})||{}).timestamp=e.timestamp||(new Date).getTime(),e;var e}function fr(t,e,n,i,r){t.dataUpdateCount++;const s=new At(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(r)if(i){const e=(0,k.UI)(n,t=>Ee(t));o=function(t,e,n,i){const r=Ei(t,i);if(r){const i=Si(r),s=i.path,o=i.queryId,a=Vt(s,e),l=pn.fromObject(n);return xi(t,s,new nn(Je(o),a,l))}return[]}(t.serverSyncTree_,s,e,r)}else{const e=Ee(n);o=function(t,e,n,i){const r=Ei(t,i);if(null!=r){const i=Si(r),s=i.path,o=i.queryId,a=Vt(s,e);return xi(t,s,new en(Je(o),a,n))}return[]}(t.serverSyncTree_,s,e,r)}else if(i){const e=(0,k.UI)(n,t=>Ee(t));o=function(t,e,n){const i=pn.fromObject(n);return _i(t,new nn({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,i))}(t.serverSyncTree_,s,e)}else{const e=Ee(n);o=pi(t.serverSyncTree_,s,e)}let a=s;o.length>0&&(a=Tr(t,s)),ar(t.eventQueue_,a,o)}function mr(t,e){gr(t,"connected",e),!1===e&&function(t){Er(t,"onDisconnectEvents");const e=pr(t),n=Ge();Ye(t.onDisconnect_,Dt(),(i,r)=>{const s=Oi(i,r,t.serverSyncTree_,e);$e(n,i,s)});let i=[];Ye(n,Dt(),(e,n)=>{i=i.concat(pi(t.serverSyncTree_,e,n));const r=Or(t,e);Tr(t,r)}),t.onDisconnect_=Ge(),ar(t.eventQueue_,Dt(),i)}(t)}function gr(t,e,n){const i=new At("/.info/"+e),r=Ee(n);t.infoData_.updateSnapshot(i,r);const s=pi(t.infoSyncTree_,i,r);ar(t.eventQueue_,i,s)}function _r(t){return t.nextWriteId_++}function yr(t,e,n,i,r){Er(t,"set",{path:e.toString(),value:n,priority:i});const s=pr(t),o=Ee(n,i),a=gi(t.serverSyncTree_,e),l=Pi(o,a,s),c=_r(t),u=hi(t.serverSyncTree_,e,l,c,!0);sr(t.eventQueue_,u),t.server_.put(e.toString(),o.val(!0),(n,i)=>{const s="ok"===n;s||$("set at "+e+" failed: "+n);const o=di(t.serverSyncTree_,c,!s);ar(t.eventQueue_,e,o),Sr(0,r,n,i)});const h=Or(t,e);Tr(t,h),ar(t.eventQueue_,h,[])}function vr(t,e,n){t.server_.onDisconnectCancel(e.toString(),(i,r)=>{"ok"===i&&Ze(t.onDisconnect_,e),Sr(0,n,i,r)})}function br(t,e,n,i){const r=Ee(n);t.server_.onDisconnectPut(e.toString(),r.val(!0),(n,s)=>{"ok"===n&&$e(t.onDisconnect_,e,r),Sr(0,i,n,s)})}function wr(t,e,n){let i;i=".info"===Rt(e._path)?fi(t.infoSyncTree_,e,n):fi(t.serverSyncTree_,e,n),or(t.eventQueue_,e._path,i)}function Cr(t){t.persistentConnection_&&t.persistentConnection_.interrupt(ur)}function Er(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),q(n,...e)}function Sr(t,e,n,i){e&&st(()=>{if("ok"===n)e(null);else{const t=(n||"error").toUpperCase();let r=t;i&&(r+=": "+i);const s=new Error(r);s.code=t,e(s)}})}function xr(t,e,n){return gi(t.serverSyncTree_,e,n)||we.EMPTY_NODE}function kr(t,e=t.transactionQueueTree_){if(e||Rr(t,e),Mi(e)){const n=Ar(t,e);(0,k.hu)(n.length>0,"Sending zero length transaction queue"),n.every(t=>0===t.status)&&function(t,e,n){const i=n.map(t=>t.currentWriteId),r=xr(t,e,i);let s=r;const o=r.hash();for(let c=0;c<n.length;c++){const t=n[c];(0,k.hu)(0===t.status,"tryToSendTransactionQueue_: items in queue should all be run."),t.status=1,t.retryCount++;const i=Vt(e,t.path);s=s.updateChild(i,t.currentOutputSnapshotRaw)}const a=s.val(!0),l=e;t.server_.put(l.toString(),a,i=>{Er(t,"transaction put response",{path:l.toString(),status:i});let r=[];if("ok"===i){const i=[];for(let e=0;e<n.length;e++)n[e].status=2,r=r.concat(di(t.serverSyncTree_,n[e].currentWriteId)),n[e].onComplete&&i.push(()=>n[e].onComplete(null,!0,n[e].currentOutputSnapshotResolved)),n[e].unwatcher();Rr(t,Li(t.transactionQueueTree_,e)),kr(t,t.transactionQueueTree_),ar(t.eventQueue_,e,r);for(let t=0;t<i.length;t++)st(i[t])}else{if("datastale"===i)for(let t=0;t<n.length;t++)n[t].status=3===n[t].status?4:0;else{$("transaction at "+l.toString()+" failed: "+i);for(let t=0;t<n.length;t++)n[t].status=4,n[t].abortReason=i}Tr(t,e)}},o)}(t,qi(e),n)}else Vi(e)&&Ui(e,e=>{kr(t,e)})}function Tr(t,e){const n=Ir(t,e),i=qi(n);return function(t,e,n){if(0===e.length)return;const i=[];let r=[];const s=e.filter(t=>0===t.status).map(t=>t.currentWriteId);for(let o=0;o<e.length;o++){const a=e[o],l=Vt(n,a.path);let c,u=!1;if((0,k.hu)(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),4===a.status)u=!0,c=a.abortReason,r=r.concat(di(t.serverSyncTree_,a.currentWriteId,!0));else if(0===a.status)if(a.retryCount>=25)u=!0,c="maxretry",r=r.concat(di(t.serverSyncTree_,a.currentWriteId,!0));else{const n=xr(t,a.path,s);a.currentInputSnapshot=n;const i=e[o].update(n.val());if(void 0!==i){Qi("transaction failed: Data returned ",i,a.path);let e=Ee(i);"object"==typeof i&&null!=i&&(0,k.r3)(i,".priority")||(e=e.updatePriority(n.getPriority()));const o=a.currentWriteId,l=pr(t),c=Pi(e,n,l);a.currentOutputSnapshotRaw=e,a.currentOutputSnapshotResolved=c,a.currentWriteId=_r(t),s.splice(s.indexOf(o),1),r=r.concat(hi(t.serverSyncTree_,a.path,c,a.currentWriteId,a.applyLocally)),r=r.concat(di(t.serverSyncTree_,o,!0))}else u=!0,c="nodata",r=r.concat(di(t.serverSyncTree_,a.currentWriteId,!0))}ar(t.eventQueue_,n,r),r=[],u&&(e[o].status=2,setTimeout(e[o].unwatcher,Math.floor(0)),e[o].onComplete&&i.push("nodata"===c?()=>e[o].onComplete(null,!1,e[o].currentInputSnapshot):()=>e[o].onComplete(new Error(c),!1,null)))}Rr(t,t.transactionQueueTree_);for(let o=0;o<i.length;o++)st(i[o]);kr(t,t.transactionQueueTree_)}(t,Ar(t,n),i),i}function Ir(t,e){let n,i=t.transactionQueueTree_;for(n=Rt(e);null!==n&&void 0===Mi(i);)i=Li(i,n),n=Rt(e=Pt(e));return i}function Ar(t,e){const n=[];return Dr(t,e,n),n.sort((t,e)=>t.order-e.order),n}function Dr(t,e,n){const i=Mi(e);if(i)for(let r=0;r<i.length;r++)n.push(i[r]);Ui(e,e=>{Dr(t,e,n)})}function Rr(t,e){const n=Mi(e);if(n){let t=0;for(let e=0;e<n.length;e++)2!==n[e].status&&(n[t]=n[e],t++);n.length=t,Bi(e,n.length>0?n:void 0)}Ui(e,e=>{Rr(t,e)})}function Or(t,e){const n=qi(Ir(t,e)),i=Li(t.transactionQueueTree_,e);return function(t,e,n){let i=t.parent;for(;null!==i;){if(e(i))return!0;i=i.parent}}(i,e=>{Pr(t,e)}),Pr(t,i),ji(i,e=>{Pr(t,e)}),n}function Pr(t,e){const n=Mi(e);if(n){const i=[];let r=[],s=-1;for(let e=0;e<n.length;e++)3===n[e].status||(1===n[e].status?((0,k.hu)(s===e-1,"All SENT items should be at beginning of queue."),s=e,n[e].status=3,n[e].abortReason="set"):((0,k.hu)(0===n[e].status,"Unexpected transaction status in abort"),n[e].unwatcher(),r=r.concat(di(t.serverSyncTree_,n[e].currentWriteId,!0)),n[e].onComplete&&i.push(n[e].onComplete.bind(null,new Error("set"),!1,null))));-1===s?Bi(e,void 0):n.length=s+1,ar(t.eventQueue_,qi(e),r);for(let t=0;t<i.length;t++)st(i[t])}}const Nr=function(t,e){const n=Fr(t),i=n.namespace;return"firebase.com"===n.domain&&G(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),i&&"undefined"!==i||"localhost"===n.domain||G("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&$("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new pt(n.host,n.secure,i,e,"ws"===n.scheme||"wss"===n.scheme,"",i!==n.subdomain),path:new At(n.pathString)}},Fr=function(t){let e="",n="",i="",r="",s="",o=!0,a="https",l=443;if("string"==typeof t){let c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));let u=t.indexOf("/");-1===u&&(u=t.length);let h=t.indexOf("?");-1===h&&(h=t.length),e=t.substring(0,Math.min(u,h)),u<h&&(r=function(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let t=n[r];try{t=decodeURIComponent(t.replace(/\+/g," "))}catch(i){}e+="/"+t}return e}(t.substring(u,h)));const d=function(t){const e={};"?"===t.charAt(0)&&(t=t.substring(1));for(const n of t.split("&")){if(0===n.length)continue;const i=n.split("=");2===i.length?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):$(`Invalid query segment '${n}' in query '${t}'`)}return e}(t.substring(Math.min(t.length,h)));c=e.indexOf(":"),c>=0?(o="https"===a||"wss"===a,l=parseInt(e.substring(c+1),10)):c=e.length;const p=e.slice(0,c);if("localhost"===p.toLowerCase())n="localhost";else if(p.split(".").length<=2)n=p;else{const t=e.indexOf(".");i=e.substring(0,t).toLowerCase(),n=e.substring(t+1),s=i}"ns"in d&&(s=d.ns)}return{host:e,port:l,domain:n,subdomain:i,secure:o,scheme:a,pathString:r,namespace:s}};class Lr{constructor(t,e,n,i){this.eventType=t,this.eventRegistration=e,this.snapshot=n,this.prevName=i}getPath(){const t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,k.Pz)(this.snapshot.exportVal())}}class Mr{constructor(t,e,n){this.eventRegistration=t,this.error=e,this.path=n}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class Br{constructor(t,e){this.snapshotCallback=t,this.cancelCallback=e}onValue(t,e){this.snapshotCallback.call(null,t,e)}onCancel(t){return(0,k.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class Vr{constructor(t,e){this._repo=t,this._path=e}cancel(){const t=new k.BH;return vr(this._repo,this._path,t.wrapCallback(()=>{})),t.promise}remove(){nr("OnDisconnect.remove",this._path);const t=new k.BH;return br(this._repo,this._path,null,t.wrapCallback(()=>{})),t.promise}set(t){nr("OnDisconnect.set",this._path),Ki("OnDisconnect.set",t,this._path,!1);const e=new k.BH;return br(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}setWithPriority(t,e){nr("OnDisconnect.setWithPriority",this._path),Ki("OnDisconnect.setWithPriority",t,this._path,!1),Xi("OnDisconnect.setWithPriority",e,!1);const n=new k.BH;return function(t,e,n,i,r){const s=Ee(n,i);t.server_.onDisconnectPut(e.toString(),s.val(!0),(n,i)=>{"ok"===n&&$e(t.onDisconnect_,e,s),Sr(0,r,n,i)})}(this._repo,this._path,t,e,n.wrapCallback(()=>{})),n.promise}update(t){nr("OnDisconnect.update",this._path),Ji("OnDisconnect.update",t,this._path,!1);const e=new k.BH;return function(t,e,n,i){if((0,k.xb)(n))return q("onDisconnect().update() called with empty data.  Don't do anything."),void Sr(0,i,"ok",void 0);t.server_.onDisconnectMerge(e.toString(),n,(r,s)=>{"ok"===r&&et(n,(n,i)=>{const r=Ee(i);$e(t.onDisconnect_,Mt(e,n),r)}),Sr(0,i,r,s)})}(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}}class Ur{constructor(t,e,n,i){this._repo=t,this._path=e,this._queryParams=n,this._orderByCalled=i}get key(){return Bt(this._path)?null:Nt(this._path)}get ref(){return new Hr(this._repo,this._path)}get _queryIdentifier(){const t=qe(this._queryParams),e=X(t);return"{}"===e?"default":e}get _queryObject(){return qe(this._queryParams)}isEqual(t){if(!((t=(0,k.m9)(t))instanceof Ur))return!1;const e=this._repo===t._repo,n=jt(this._path,t._path);return e&&n&&this._queryIdentifier===t._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)""!==t.pieces_[n]&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}(this._path)}}function jr(t,e){if(!0===t._orderByCalled)throw new Error(e+": You can't combine multiple orderBy calls.")}function qr(t){let e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===Xt){const i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==Y)throw new Error(i);if("string"!=typeof e)throw new Error(r)}if(t.hasEnd()){if(t.getIndexEndName()!==W)throw new Error(i);if("string"!=typeof n)throw new Error(r)}}else if(t.getIndex()===pe){if(null!=e&&!Wi(e)||null!=n&&!Wi(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,k.hu)(t.getIndex()instanceof Se||t.getIndex()===xe,"unknown index type."),null!=e&&"object"==typeof e||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function zr(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Hr extends Ur{constructor(t,e){super(t,e,new Me,!1)}get parent(){const t=Lt(this._path);return null===t?null:new Hr(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}class Gr{constructor(t,e,n){this._node=t,this.ref=e,this._index=n}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const e=new At(t),n=Yr(this.ref,t);return new Gr(this._node.getChild(e),n,pe)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(e,n)=>t(new Gr(n,Yr(this.ref,e),pe)))}hasChild(t){const e=new At(t);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function $r(t,e){return(t=(0,k.m9)(t))._checkNotDeleted("ref"),void 0!==e?Yr(t._root,e):t._root}function Zr(t,e){(t=(0,k.m9)(t))._checkNotDeleted("refFromURL");const n=Nr(e,t._repo.repoInfo_.nodeAdmin);ir("refFromURL",n);const i=n.repoInfo;return t._repo.repoInfo_.isCustomHost()||i.host===t._repo.repoInfo_.host||G("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+t._repo.repoInfo_.host+")"),$r(t,n.path.toString())}function Yr(t,e){var n;return null===Rt((t=(0,k.m9)(t))._path)?((n=e)&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),er("child","path",n,!1)):er("child","path",e,!1),new Hr(t._repo,Mt(t._path,e))}function Wr(t,e){t=(0,k.m9)(t),nr("set",t._path),Ki("set",e,t._path,!1);const n=new k.BH;return yr(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}class Kr{constructor(t){this.callbackContext=t}respondsTo(t){return"value"===t}createEvent(t,e){const n=e._queryParams.getIndex();return new Lr("value",this,new Gr(t.snapshotNode,new Hr(e._repo,e._path),n))}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new Mr(this,t,e):null}matches(t){return t instanceof Kr&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class Qr{constructor(t,e){this.eventType=t,this.callbackContext=e}respondsTo(t){let e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new Mr(this,t,e):null}createEvent(t,e){(0,k.hu)(null!=t.childName,"Child events should have a childName.");const n=Yr(new Hr(e._repo,e._path),t.childName),i=e._queryParams.getIndex();return new Lr(t.type,this,new Gr(t.snapshotNode,n,i),t.prevName)}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof Qr&&this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function Jr(t,e,n,i,r){let s;if("object"==typeof i&&(s=void 0,r=i),"function"==typeof i&&(s=i),r&&r.onlyOnce){const e=n,i=(n,i)=>{wr(t._repo,t,a),e(n,i)};i.userCallback=n.userCallback,i.context=n.context,n=i}const o=new Br(n,s||void 0),a="value"===e?new Kr(o):new Qr(e,o);return function(t,e,n){let i;i=".info"===Rt(e._path)?mi(t.infoSyncTree_,e,n):mi(t.serverSyncTree_,e,n),or(t.eventQueue_,e._path,i)}(t._repo,t,a),()=>wr(t._repo,t,a)}function Xr(t,e,n,i){return Jr(t,"value",e,n,i)}function ts(t,e,n,i){return Jr(t,"child_added",e,n,i)}function es(t,e,n,i){return Jr(t,"child_changed",e,n,i)}function ns(t,e,n,i){return Jr(t,"child_moved",e,n,i)}function is(t,e,n,i){return Jr(t,"child_removed",e,n,i)}function rs(t,e,n){let i=null;const r=n?new Br(n):null;"value"===e?i=new Kr(r):e&&(i=new Qr(e,r)),wr(t._repo,t,i)}class ss{}class os extends ss{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Ki("endAt",this._value,t._path,!0);const e=Ve(t._queryParams,this._value,this._key);if(zr(e),qr(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Ur(t._repo,t._path,e,t._orderByCalled)}}class as extends ss{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Ki("endBefore",this._value,t._path,!1);const e=function(t,e,n){let i,r;return t.index_===Xt?("string"==typeof e&&(e=Ae(e)),r=Ve(t,e,n)):(i=null==n?Y:Ae(n),r=Ve(t,e,i)),r.endBeforeSet_=!0,r}(t._queryParams,this._value,this._key);if(zr(e),qr(e),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Ur(t._repo,t._path,e,t._orderByCalled)}}class ls extends ss{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Ki("startAt",this._value,t._path,!0);const e=Be(t._queryParams,this._value,this._key);if(zr(e),qr(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Ur(t._repo,t._path,e,t._orderByCalled)}}class cs extends ss{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Ki("startAfter",this._value,t._path,!1);const e=function(t,e,n){let i;if(t.index_===Xt)"string"==typeof e&&(e=Ie(e)),i=Be(t,e,n);else{let r;r=null==n?W:Ie(n),i=Be(t,e,r)}return i.startAfterSet_=!0,i}(t._queryParams,this._value,this._key);if(zr(e),qr(e),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Ur(t._repo,t._path,e,t._orderByCalled)}}class us extends ss{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Ur(t._repo,t._path,function(t,e){const n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="l",n}(t._queryParams,this._limit),t._orderByCalled)}}class hs extends ss{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Ur(t._repo,t._path,function(t,e){const n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="r",n}(t._queryParams,this._limit),t._orderByCalled)}}class ds extends ss{constructor(t){super(),this._path=t}_apply(t){jr(t,"orderByChild");const e=new At(this._path);if(Bt(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const n=new Se(e),i=Ue(t._queryParams,n);return qr(i),new Ur(t._repo,t._path,i,!0)}}class ps extends ss{_apply(t){jr(t,"orderByKey");const e=Ue(t._queryParams,Xt);return qr(e),new Ur(t._repo,t._path,e,!0)}}class fs extends ss{_apply(t){jr(t,"orderByPriority");const e=Ue(t._queryParams,pe);return qr(e),new Ur(t._repo,t._path,e,!0)}}class ms extends ss{_apply(t){jr(t,"orderByValue");const e=Ue(t._queryParams,xe);return qr(e),new Ur(t._repo,t._path,e,!0)}}class gs extends ss{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){if(Ki("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new os(this._value,this._key)._apply(new ls(this._value,this._key)._apply(t))}}function _s(t,...e){let n=(0,k.m9)(t);for(const i of e)n=i._apply(n);return n}!function(t){(0,k.hu)(!Jn,"__referenceConstructor has already been defined"),Jn=t}(Hr),function(t){(0,k.hu)(!Xn,"__referenceConstructor has already been defined"),Xn=t}(Hr);const ys={};function vs(t,e,n,i,r){let s=i||t.options.databaseURL;void 0===s&&(t.options.projectId||G("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),q("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o,a,l=Nr(s,r),c=l.repoInfo;"undefined"!=typeof process&&(a=process.env.FIREBASE_DATABASE_EMULATOR_HOST),a?(o=!0,s=`http://${a}?ns=${c.namespace}`,l=Nr(s,r),c=l.repoInfo):o=!l.repoInfo.secure;const u=r&&o?new ct(ct.OWNER):new lt(t.name,t.options,e);ir("Invalid Firebase Database URL",l),Bt(l.path)||G("Database URL must point to the root of a Firebase Database (not including a child path).");const h=function(t,e,n,i){let r=ys[e.name];r||(r={},ys[e.name]=r);let s=r[t.toURLString()];return s&&G("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new hr(t,!1,n,i),r[t.toURLString()]=s,s}(c,t,u,new at(t.name,n));return new bs(h,t)}class bs{constructor(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function(t,e,n){if(t.stats_=yt(t.repoInfo_),t.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)t.server_=new ze(t.repoInfo_,(e,n,i,r)=>{fr(t,e,n,i,r)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>mr(t,!0),0);else{if(null!=n){if("object"!=typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,k.Pz)(n)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}t.persistentConnection_=new Wt(t.repoInfo_,e,(e,n,i,r)=>{fr(t,e,n,i,r)},e=>{mr(t,e)},e=>{!function(t,e){et(e,(e,n)=>{gr(t,e,n)})}(t,e)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(e=>{t.server_.refreshAuthToken(e)}),t.appCheckProvider_.addTokenChangeListener(e=>{t.server_.refreshAppCheckToken(e.token)}),t.statsReporter_=function(e,n){const i=e.toString();return _t[i]||(_t[i]=new Ke(t.stats_,t.server_)),_t[i]}(t.repoInfo_),t.infoData_=new He,t.infoSyncTree_=new ui({startListening:(e,n,i,r)=>{let s=[];const o=t.infoData_.getNode(e._path);return o.isEmpty()||(s=pi(t.infoSyncTree_,e._path,o),setTimeout(()=>{r("ok")},0)),s},stopListening:()=>{}}),gr(t,"connected",!1),t.serverSyncTree_=new ui({startListening:(e,n,i,r)=>(t.server_.listen(e,i,n,(n,i)=>{const s=r(n,i);ar(t.eventQueue_,e._path,s)}),[]),stopListening:(e,n)=>{t.server_.unlisten(e,n)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Hr(this._repo,Dt())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function(t,e){const n=ys[e];n&&n[t.key]===t||G(`Database ${e}(${t.repoInfo_}) has already been deleted.`),Cr(t),delete n[t.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&G("Cannot call "+t+" on a deleted database.")}}const ws={".sv":"timestamp"};class Cs{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}Wt.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)},Wt.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)},A(x.SDK_VERSION),(0,x._registerComponent)(new E.wA("database",(t,{instanceIdentifier:e})=>vs(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,x.registerVersion)("@firebase/database","0.12.0",void 0);const Es=new T.Yd("@firebase/database-compat"),Ss=function(t){Es.warn("FIREBASE WARNING: "+t)};class xs{constructor(t){this._delegate=t}cancel(t){(0,k.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,k.Wj)("OnDisconnect.cancel","onComplete",t,!0);const e=this._delegate.cancel();return t&&e.then(()=>t(null),e=>t(e)),e}remove(t){(0,k.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,k.Wj)("OnDisconnect.remove","onComplete",t,!0);const e=this._delegate.remove();return t&&e.then(()=>t(null),e=>t(e)),e}set(t,e){(0,k.Dv)("OnDisconnect.set",1,2,arguments.length),(0,k.Wj)("OnDisconnect.set","onComplete",e,!0);const n=this._delegate.set(t);return e&&n.then(()=>e(null),t=>e(t)),n}setWithPriority(t,e,n){(0,k.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,k.Wj)("OnDisconnect.setWithPriority","onComplete",n,!0);const i=this._delegate.setWithPriority(t,e);return n&&i.then(()=>n(null),t=>n(t)),i}update(t,e){if((0,k.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){const e={};for(let n=0;n<t.length;++n)e[""+n]=t[n];t=e,Ss("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,k.Wj)("OnDisconnect.update","onComplete",e,!0);const n=this._delegate.update(t);return e&&n.then(()=>e(null),t=>e(t)),n}}class ks{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return(0,k.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class Ts{constructor(t,e){this._database=t,this._delegate=e}val(){return(0,k.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,k.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,k.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,k.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(t){return(0,k.Dv)("DataSnapshot.child",0,1,arguments.length),t=String(t),er("DataSnapshot.child","path",t,!1),new Ts(this._database,this._delegate.child(t))}hasChild(t){return(0,k.Dv)("DataSnapshot.hasChild",1,1,arguments.length),er("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)}getPriority(){return(0,k.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(t){return(0,k.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,k.Wj)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(e=>t(new Ts(this._database,e)))}hasChildren(){return(0,k.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,k.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,k.Dv)("DataSnapshot.ref",0,0,arguments.length),new As(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class Is{constructor(t,e){this.database=t,this._delegate=e}on(t,e,n,i){var r;(0,k.Dv)("Query.on",2,4,arguments.length),(0,k.Wj)("Query.on","callback",e,!1);const s=Is.getCancelAndContextArgs_("Query.on",n,i),o=(t,n)=>{e.call(s.context,new Ts(this.database,t),n)};o.userCallback=e,o.context=s.context;const a=null===(r=s.cancel)||void 0===r?void 0:r.bind(s.context);switch(t){case"value":return Xr(this._delegate,o,a),e;case"child_added":return ts(this._delegate,o,a),e;case"child_removed":return is(this._delegate,o,a),e;case"child_changed":return es(this._delegate,o,a),e;case"child_moved":return ns(this._delegate,o,a),e;default:throw new Error((0,k.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(t,e,n){if((0,k.Dv)("Query.off",0,3,arguments.length),function(t,e,n){if(void 0!==e)switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,k.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,t),(0,k.Wj)("Query.off","callback",e,!0),(0,k.lb)("Query.off","context",n,!0),e){const i=()=>{};i.userCallback=e,i.context=n,rs(this._delegate,t,i)}else rs(this._delegate,t)}get(){return function(t){return function(t,e){const n=function(t,e){const n=e._path;let i=null;t.syncPointTree_.foreachOnPath(n,(t,e)=>{const r=Vt(t,n);i=i||ri(e,r)});let r=t.syncPointTree_.get(n);r?i=i||ri(r,Dt()):(r=new ti,t.syncPointTree_=t.syncPointTree_.set(n,r));const s=null!=i,o=s?new rn(i,!0,!1):null;return un(ni(r,e,xn(t.pendingWriteTree_,e._path),s?o.getNode():we.EMPTY_NODE,s).viewCache_)}(t.serverSyncTree_,e);return null!=n?Promise.resolve(n):t.server_.get(e).then(n=>{const i=Ee(n).withIndex(e._queryParams.getIndex()),r=pi(t.serverSyncTree_,e._path,i);return or(t.eventQueue_,e._path,r),Promise.resolve(i)},n=>(Er(t,"get for query "+(0,k.Pz)(e)+" failed: "+n),Promise.reject(new Error(n))))}((t=(0,k.m9)(t))._repo,t).then(e=>new Gr(e,new Hr(t._repo,t._path),t._queryParams.getIndex()))}(this._delegate).then(t=>new Ts(this.database,t))}once(t,e,n,i){(0,k.Dv)("Query.once",1,4,arguments.length),(0,k.Wj)("Query.once","callback",e,!0);const r=Is.getCancelAndContextArgs_("Query.once",n,i),s=new k.BH,o=(t,n)=>{const i=new Ts(this.database,t);e&&e.call(r.context,i,n),s.resolve(i)};o.userCallback=e,o.context=r.context;const a=t=>{r.cancel&&r.cancel.call(r.context,t),s.reject(t)};switch(t){case"value":Xr(this._delegate,o,a,{onlyOnce:!0});break;case"child_added":ts(this._delegate,o,a,{onlyOnce:!0});break;case"child_removed":is(this._delegate,o,a,{onlyOnce:!0});break;case"child_changed":es(this._delegate,o,a,{onlyOnce:!0});break;case"child_moved":ns(this._delegate,o,a,{onlyOnce:!0});break;default:throw new Error((0,k.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return s.promise}limitToFirst(t){return(0,k.Dv)("Query.limitToFirst",1,1,arguments.length),new Is(this.database,_s(this._delegate,function(t){if("number"!=typeof t||Math.floor(t)!==t||t<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new us(t)}(t)))}limitToLast(t){return(0,k.Dv)("Query.limitToLast",1,1,arguments.length),new Is(this.database,_s(this._delegate,function(t){if("number"!=typeof t||Math.floor(t)!==t||t<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new hs(t)}(t)))}orderByChild(t){return(0,k.Dv)("Query.orderByChild",1,1,arguments.length),new Is(this.database,_s(this._delegate,function(t){if("$key"===t)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===t)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===t)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return er("orderByChild","path",t,!1),new ds(t)}(t)))}orderByKey(){return(0,k.Dv)("Query.orderByKey",0,0,arguments.length),new Is(this.database,_s(this._delegate,new ps))}orderByPriority(){return(0,k.Dv)("Query.orderByPriority",0,0,arguments.length),new Is(this.database,_s(this._delegate,new fs))}orderByValue(){return(0,k.Dv)("Query.orderByValue",0,0,arguments.length),new Is(this.database,_s(this._delegate,new ms))}startAt(t=null,e){return(0,k.Dv)("Query.startAt",0,2,arguments.length),new Is(this.database,_s(this._delegate,function(t=null,e){return tr("startAt","key",e,!0),new ls(t,e)}(t,e)))}startAfter(t=null,e){return(0,k.Dv)("Query.startAfter",0,2,arguments.length),new Is(this.database,_s(this._delegate,function(t,e){return tr("startAfter","key",e,!0),new cs(t,e)}(t,e)))}endAt(t=null,e){return(0,k.Dv)("Query.endAt",0,2,arguments.length),new Is(this.database,_s(this._delegate,function(t,e){return tr("endAt","key",e,!0),new os(t,e)}(t,e)))}endBefore(t=null,e){return(0,k.Dv)("Query.endBefore",0,2,arguments.length),new Is(this.database,_s(this._delegate,function(t,e){return tr("endBefore","key",e,!0),new as(t,e)}(t,e)))}equalTo(t,e){return(0,k.Dv)("Query.equalTo",1,2,arguments.length),new Is(this.database,_s(this._delegate,function(t,e){return tr("equalTo","key",e,!0),new gs(t,e)}(t,e)))}toString(){return(0,k.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,k.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(t){if((0,k.Dv)("Query.isEqual",1,1,arguments.length),!(t instanceof Is))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(t._delegate)}static getCancelAndContextArgs_(t,e,n){const i={cancel:void 0,context:void 0};if(e&&n)i.cancel=e,(0,k.Wj)(t,"cancel",i.cancel,!0),i.context=n,(0,k.lb)(t,"context",i.context,!0);else if(e)if("object"==typeof e&&null!==e)i.context=e;else{if("function"!=typeof e)throw new Error((0,k.gK)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");i.cancel=e}return i}get ref(){return new As(this.database,new Hr(this._delegate._repo,this._delegate._path))}}class As extends Is{constructor(t,e){super(t,new Ur(e._repo,e._path,new Me,!1)),this.database=t,this._delegate=e}getKey(){return(0,k.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(t){return(0,k.Dv)("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new As(this.database,Yr(this._delegate,t))}getParent(){(0,k.Dv)("Reference.parent",0,0,arguments.length);const t=this._delegate.parent;return t?new As(this.database,t):null}getRoot(){return(0,k.Dv)("Reference.root",0,0,arguments.length),new As(this.database,this._delegate.root)}set(t,e){(0,k.Dv)("Reference.set",1,2,arguments.length),(0,k.Wj)("Reference.set","onComplete",e,!0);const n=Wr(this._delegate,t);return e&&n.then(()=>e(null),t=>e(t)),n}update(t,e){if((0,k.Dv)("Reference.update",1,2,arguments.length),Array.isArray(t)){const e={};for(let n=0;n<t.length;++n)e[""+n]=t[n];t=e,Ss("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}nr("Reference.update",this._delegate._path),(0,k.Wj)("Reference.update","onComplete",e,!0);const n=function(t,e){Ji("update",e,t._path,!1);const n=new k.BH;return function(t,e,n,i){Er(t,"update",{path:e.toString(),value:n});let r=!0;const s=pr(t),o={};if(et(n,(n,i)=>{r=!1,o[n]=Oi(Mt(e,n),Ee(i),t.serverSyncTree_,s)}),r)q("update() called with empty data.  Don't do anything."),Sr(0,i,"ok",void 0);else{const r=_r(t),s=function(t,e,n,i){!function(t,e,n,i){(0,k.hu)(i>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:i,visible:!0}),t.visibleWrites=gn(t.visibleWrites,e,n),t.lastWriteId=i}(t.pendingWriteTree_,e,n,i);const r=pn.fromObject(n);return _i(t,new nn({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,r))}(t.serverSyncTree_,e,o,r);sr(t.eventQueue_,s),t.server_.merge(e.toString(),n,(n,s)=>{const o="ok"===n;o||$("update at "+e+" failed: "+n);const a=di(t.serverSyncTree_,r,!o),l=a.length>0?Tr(t,e):e;ar(t.eventQueue_,l,a),Sr(0,i,n,s)}),et(n,n=>{const i=Or(t,Mt(e,n));Tr(t,i)}),ar(t.eventQueue_,e,[])}}(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}(this._delegate,t);return e&&n.then(()=>e(null),t=>e(t)),n}setWithPriority(t,e,n){(0,k.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,k.Wj)("Reference.setWithPriority","onComplete",n,!0);const i=function(t,e,n){if(nr("setWithPriority",t._path),Ki("setWithPriority",e,t._path,!1),Xi("setWithPriority",n,!1),".length"===t.key||".keys"===t.key)throw"setWithPriority failed: "+t.key+" is a read-only object.";const i=new k.BH;return yr(t._repo,t._path,e,n,i.wrapCallback(()=>{})),i.promise}(this._delegate,t,e);return n&&i.then(()=>n(null),t=>n(t)),i}remove(t){(0,k.Dv)("Reference.remove",0,1,arguments.length),(0,k.Wj)("Reference.remove","onComplete",t,!0);const e=function(t){return nr("remove",t._path),Wr(t,null)}(this._delegate);return t&&e.then(()=>t(null),e=>t(e)),e}transaction(t,e,n){(0,k.Dv)("Reference.transaction",1,3,arguments.length),(0,k.Wj)("Reference.transaction","transactionUpdate",t,!1),(0,k.Wj)("Reference.transaction","onComplete",e,!0),function(t,e,n,i){if(void 0!==n&&"boolean"!=typeof n)throw new Error((0,k.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,n);const i=function(t,e,n){var i;if(t=(0,k.m9)(t),nr("Reference.transaction",t._path),".length"===t.key||".keys"===t.key)throw"Reference.transaction failed: "+t.key+" is a read-only object.";const r=null===(i=null==n?void 0:n.applyLocally)||void 0===i||i,s=new k.BH,o=Xr(t,()=>{});return function(e,n,i,r,o,a){Er(e,"transaction on "+n);const l={path:n,update:i,onComplete:(e,n,i)=>{let r=null;e?s.reject(e):(r=new Gr(i,new Hr(t._repo,t._path),pe),s.resolve(new Cs(n,r)))},status:null,order:L(),applyLocally:a,retryCount:0,unwatcher:o,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},c=xr(e,n,void 0);l.currentInputSnapshot=c;const u=l.update(c.val());if(void 0===u)l.unwatcher(),l.currentOutputSnapshotRaw=null,l.currentOutputSnapshotResolved=null,l.onComplete&&l.onComplete(null,!1,l.currentInputSnapshot);else{Qi("transaction failed: Data returned ",u,l.path),l.status=0;const t=Li(e.transactionQueueTree_,n),i=Mi(t)||[];let r;i.push(l),Bi(t,i),"object"==typeof u&&null!==u&&(0,k.r3)(u,".priority")?(r=(0,k.DV)(u,".priority"),(0,k.hu)(Wi(r),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):r=(gi(e.serverSyncTree_,n)||we.EMPTY_NODE).getPriority().val();const s=pr(e),o=Ee(u,r),a=Pi(o,c,s);l.currentOutputSnapshotRaw=o,l.currentOutputSnapshotResolved=a,l.currentWriteId=_r(e);const h=hi(e.serverSyncTree_,n,a,l.currentWriteId,l.applyLocally);ar(e.eventQueue_,n,h),kr(e,e.transactionQueueTree_)}}(t._repo,t._path,e,0,o,r),s.promise}(this._delegate,t,{applyLocally:n}).then(t=>new ks(t.committed,new Ts(this.database,t.snapshot)));return e&&i.then(t=>e(null,t.committed,t.snapshot),t=>e(t,!1,null)),i}setPriority(t,e){(0,k.Dv)("Reference.setPriority",1,2,arguments.length),(0,k.Wj)("Reference.setPriority","onComplete",e,!0);const n=function(t,e){t=(0,k.m9)(t),nr("setPriority",t._path),Xi("setPriority",e,!1);const n=new k.BH;return yr(t._repo,Mt(t._path,".priority"),e,null,n.wrapCallback(()=>{})),n.promise}(this._delegate,t);return e&&n.then(()=>e(null),t=>e(t)),n}push(t,e){(0,k.Dv)("Reference.push",0,2,arguments.length),(0,k.Wj)("Reference.push","onComplete",e,!0);const n=function(t,e){t=(0,k.m9)(t),nr("push",t._path),Ki("push",e,t._path,!0);const n=dr(t._repo),i=Te(n),r=Yr(t,i),s=Yr(t,i);let o;return o=null!=e?Wr(s,e).then(()=>s):Promise.resolve(s),r.then=o.then.bind(o),r.catch=o.then.bind(o,void 0),r}(this._delegate,t),i=n.then(t=>new As(this.database,t));e&&i.then(()=>e(null),t=>e(t));const r=new As(this.database,n);return r.then=i.then.bind(i),r.catch=i.catch.bind(i,void 0),r}onDisconnect(){return nr("Reference.onDisconnect",this._delegate._path),new xs(new Vr(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}let Ds=(()=>{class t{constructor(t,e){this._delegate=t,this.app=e,this.INTERNAL={delete:()=>this._delegate._delete()}}useEmulator(t,e,n={}){!function(t,e,n,i={}){(t=(0,k.m9)(t))._checkNotDeleted("useEmulator"),t._instanceStarted&&G("Cannot call useEmulator() after instance has already been initialized.");const r=t._repoInternal;let s;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&G('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new ct(ct.OWNER);else if(i.mockUserToken){const e="string"==typeof i.mockUserToken?i.mockUserToken:(0,k.Sg)(i.mockUserToken,t.app.options.projectId);s=new ct(e)}!function(t,e,n,i){t.repoInfo_=new pt(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams),i&&(t.authTokenProvider_=i)}(r,e,n,s)}(this._delegate,t,e,n)}ref(t){if((0,k.Dv)("database.ref",0,1,arguments.length),t instanceof As){const e=Zr(this._delegate,t.toString());return new As(this,e)}{const e=$r(this._delegate,t);return new As(this,e)}}refFromURL(t){(0,k.Dv)("database.refFromURL",1,1,arguments.length);const e=Zr(this._delegate,t);return new As(this,e)}goOffline(){return(0,k.Dv)("database.goOffline",0,0,arguments.length),(t=(0,k.m9)(t=this._delegate))._checkNotDeleted("goOffline"),void Cr(t._repo);var t}goOnline(){return(0,k.Dv)("database.goOnline",0,0,arguments.length),(t=(0,k.m9)(t=this._delegate))._checkNotDeleted("goOnline"),void((e=t._repo).persistentConnection_&&e.persistentConnection_.resume(ur));var t,e}}return t.ServerValue={TIMESTAMP:ws,increment:t=>function(t){return{".sv":{increment:t}}}(t)},t})();var Rs=Object.freeze({__proto__:null,initStandalone:function({app:t,url:e,version:n,customAuthImpl:i,namespace:r,nodeAdmin:s=!1}){A(n);const o=new E.zt("auth-internal",new E.H0("database-standalone"));return o.setComponent(new E.wA("auth-internal",()=>i,"PRIVATE")),{instance:new Ds(vs(t,o,void 0,e,s),t),namespace:r}}});const Os=Ds.ServerValue;var Ps;(Ps=C.Z).INTERNAL.registerComponent(new E.wA("database-compat",(t,{instanceIdentifier:e})=>{const n=t.getProvider("app-compat").getImmediate(),i=t.getProvider("database").getImmediate({identifier:e});return new Ds(i,n)},"PUBLIC").setServiceProps({Reference:As,Query:Is,Database:Ds,DataSnapshot:Ts,enableLogging:function(t,e){j(t,e)},INTERNAL:Rs,ServerValue:Os}).setMultipleInstances(!0)),Ps.registerVersion("@firebase/database-compat","0.1.0");var Ns=n(3250),Fs=n(9001);function Ls(t){return null==t}function Ms(t){return"function"==typeof t.set}function Bs(t,e){return Ms(e)?e:t.ref(e)}function Vs(t,e){if("string"==typeof t)return e.stringCase();if(Ms(t))return e.firebaseCase();if("function"==typeof t.exportVal)return e.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof t)}function Us(t,e,n="on",i=r.z){return new s.y(r=>{let s=null;return s=t[n](e,(t,e)=>{i.schedule(()=>{r.next({snapshot:t,prevKey:e})}),"once"===n&&i.schedule(()=>r.complete())},t=>{i.schedule(()=>r.error(t))}),"on"===n?{unsubscribe(){null!=s&&t.off(e,s)}}:{unsubscribe(){}}}).pipe((0,m.U)(t=>{const{snapshot:n,prevKey:i}=t;let r=null;return n.exists()&&(r=n.key),{type:e,payload:n,prevKey:i,key:r}}),(0,g.B)())}function js(t,e){const n=t.length;for(let i=0;i<n;i++)if(t[i].payload.key===e)return i;return-1}function qs(t,e){const{payload:n,prevKey:i,key:r}=e,s=js(t,r),o=function(t,e){if(Ls(e))return 0;{const n=js(t,e);return-1===n?t.length:n+1}}(t,i);switch(e.type){case"value":if(e.payload&&e.payload.exists()){let n=null;e.payload.forEach(e=>{const i={payload:e,type:"value",prevKey:n,key:e.key};return n=e.key,t=[...t,i],!1})}return t;case"child_added":if(s>-1){const r=t[s-1];(r&&r.key||null)!==i&&(t=t.filter(t=>t.payload.key!==n.key)).splice(o,0,e)}else{if(null==i)return[e,...t];(t=t.slice()).splice(o,0,e)}return t;case"child_removed":return t.filter(t=>t.payload.key!==n.key);case"child_changed":return t.map(t=>t.payload.key===r?e:t);case"child_moved":if(s>-1){const e=t.splice(s,1)[0];return(t=t.slice()).splice(o,0,e),t}return t;default:return t}}function zs(t){return(Ls(t)||0===t.length)&&(t=["child_added","child_removed","child_changed","child_moved"]),t}function Hs(t,e,n){return function(t,e,n){return Us(t,"value","once",n).pipe((0,_.w)(i=>{const r=[(0,o.of)(i)];return e.forEach(e=>r.push(Us(t,e,"on",n))),(0,a.T)(...r).pipe((0,y.R)(qs,[]))}),(0,v.x)())}(t,e=zs(e),n)}function Gs(t,e,n){const i=(e=zs(e)).map(e=>Us(t,e,"on",n));return(0,a.T)(...i)}function $s(t,e){return function(n,i){return Vs(n,{stringCase:()=>t.child(n)[e](i),firebaseCase:()=>n[e](i),snapshotCase:()=>n.ref[e](i)})}}function Zs(t){return function(e){return e?Vs(e,{stringCase:()=>t.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):t.remove()}}function Ys(t,e){return function(){return Us(t,"value","on",e)}}const Ws=new i.OlP("angularfire2.realtimeDatabaseURL"),Ks=new i.OlP("angularfire2.database.use-emulator");let Qs=(()=>{class t{constructor(t,e,n,i,r,s,o,a,l,c,u,h,d,p){this.schedulers=s;const f=o,m=(0,w.on)(t,r,e);a&&(0,Ns.nw)(m,r,l,u,h,d,c,p),this.database=(0,b.cc)(`${m.name}.database.${n}`,"AngularFireDatabase",m.name,()=>{const t=r.runOutsideAngular(()=>m.database(n||void 0));return f&&t.useEmulator(...f),t},[f])}list(t,e){const n=this.schedulers.ngZone.runOutsideAngular(()=>Bs(this.database,t));let i=n;return e&&(i=e(n)),function(t,e){const n=e.schedulers.outsideAngular,i=e.schedulers.ngZone.run(()=>t.ref);return{query:t,update:$s(i,"update"),set:$s(i,"set"),push:t=>i.push(t),remove:Zs(i),snapshotChanges:e=>Hs(t,e,n).pipe(b.iC),stateChanges:e=>Gs(t,e,n).pipe(b.iC),auditTrail:e=>function(t,e,n){return function(t,e,n){return function(t,e){return Us(t,"value","on",e).pipe((0,m.U)(t=>{let e;return t.payload.forEach(t=>(e=t.key,!1)),{data:t,lastKeyToLoad:e}}))}(t,n).pipe(function(...t){return e=>{let n;return"function"==typeof t[t.length-1]&&(n=t.pop()),e.lift(new u(t,n))}}(e),(0,m.U)(([t,e])=>{const n=t.lastKeyToLoad,i=e.map(t=>t.key);return{actions:e,lastKeyToLoad:n,loadedKeys:i}}),(i=t=>-1===t.loadedKeys.indexOf(t.lastKeyToLoad),t=>t.lift(new p(i))),(0,m.U)(t=>t.actions));var i}(t,Gs(t,e).pipe((0,y.R)((t,e)=>[...t,e],[])),n)}(t,e,n).pipe(b.iC),valueChanges:(e,i)=>Hs(t,e,n).pipe((0,m.U)(t=>t.map(t=>i&&i.idField?Object.assign(Object.assign({},t.payload.val()),{[i.idField]:t.key}):t.payload.val())),b.iC)}}(i,this)}object(t){return function(t,e){return{query:t,snapshotChanges:()=>Ys(t,e.schedulers.outsideAngular)().pipe(b.iC),update:e=>t.ref.update(e),set:e=>t.ref.set(e),remove:()=>t.ref.remove(),valueChanges:()=>Ys(t,e.schedulers.outsideAngular)().pipe(b.iC,(0,m.U)(t=>t.payload.exists()?t.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>Bs(this.database,t)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(w.Dh),i.LFG(w.xv,8),i.LFG(Ws,8),i.LFG(i.Lbi),i.LFG(i.R0b),i.LFG(b.HU),i.LFG(Ks,8),i.LFG(Ns.zQ,8),i.LFG(Ns.Qv,8),i.LFG(Ns.L6,8),i.LFG(Ns._Q,8),i.LFG(Ns.rT,8),i.LFG(Ns.lh,8),i.LFG(Ns.f7,8))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac,providedIn:"any"}),t})(),Js=(()=>{class t{constructor(){Fs.Z.registerVersion("angularfire",b.q4.full,"rtdb-compat")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({providers:[Qs]}),t})()},9582:(t,e,n)=>{"use strict";n.d(e,{Q1:()=>te,TE:()=>ne});var i=n(8318),r=n(878),s=n(9764),o=n(7701),a=n(9996),l=n(4689),c=n(5271),u=n(5366),h=n(9748),d=n(1932),p=n(6304),f=n(7092),m=n(250),g=n(5119),_=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}({});const y="firebasestorage.googleapis.com";class v extends m.ZR{constructor(t,e){super(b(t),`Firebase Storage: ${e} (${b(t)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,v.prototype)}_codeEquals(t){return b(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function b(t){return"storage/"+t}function w(){return new v("unknown","An unknown error occurred, please check the error payload for server response.")}function C(){return new v("canceled","User canceled the upload/download.")}function E(){return new v("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function S(){return new v("no-download-url","The given file does not have any download URLs.")}function x(t){return new v("invalid-argument",t)}function k(){return new v("app-deleted","The Firebase app was deleted.")}function T(t){return new v("invalid-root-operation","The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function I(t,e){return new v("invalid-format","String does not match format '"+t+"': "+e)}function A(t){throw new v("internal-error","Internal error: "+t)}class D{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=_.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=_.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=_.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,e,n,i){if(this.sent_)throw A("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==i)for(const r in i)i.hasOwnProperty(r)&&this.xhr_.setRequestHeader(r,i[r].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw A("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw A("cannot .getStatus() before sending");try{return this.xhr_.status}catch(t){return-1}}getResponseText(){if(!this.sent_)throw A("cannot .getResponseText() before sending");return this.xhr_.responseText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)}}class R{createConnection(){return new D}}class O{constructor(t,e){this.bucket=t,this.path_=e}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,e){let n;try{n=O.makeFromUrl(t,e)}catch(i){return new O(t,"")}if(""===n.path)return n;throw new v("invalid-default-bucket","Invalid default bucket '"+t+"'.")}static makeFromUrl(t,e){let n=null;const i="([A-Za-z0-9.\\-_]+)",r=new RegExp("^gs://"+i+"(/(.*))?$","i");function s(t){t.path_=decodeURIComponent(t.path)}const o=e.replace(/[.]/g,"\\."),a=[{regex:r,indices:{bucket:1,path:3},postModify:function(t){"/"===t.path.charAt(t.path.length-1)&&(t.path_=t.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${o}/v[A-Za-z0-9_]+/b/${i}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:s},{regex:new RegExp(`^https?://${e===y?"(?:storage.googleapis.com|storage.cloud.google.com)":e}/${i}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:s}];for(let l=0;l<a.length;l++){const e=a[l],i=e.regex.exec(t);if(i){let t=i[e.indices.path];t||(t=""),n=new O(i[e.indices.bucket],t),e.postModify(n);break}}if(null==n)throw function(t){return new v("invalid-url","Invalid URL '"+t+"'.")}(t);return n}}class P{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}function N(t){return"string"==typeof t||t instanceof String}function F(t){return L()&&t instanceof Blob}function L(){return"undefined"!=typeof Blob}function M(t,e,n,i){if(i<e)throw x(`Invalid value for '${t}'. Expected ${e} or greater.`);if(i>n)throw x(`Invalid value for '${t}'. Expected ${n} or less.`)}function B(t,e,n){let i=e;return null==n&&(i=`https://${e}`),`${n}://${i}/v0${t}`}function V(t){const e=encodeURIComponent;let n="?";for(const i in t)t.hasOwnProperty(i)&&(n=n+(e(i)+"=")+e(t[i])+"&");return n=n.slice(0,-1),n}class U{constructor(t,e,n,i,r,s,o,a,l,c,u){this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=e,this.headers_=n,this.body_=i,this.successCodes_=r.slice(),this.additionalRetryCodes_=s.slice(),this.callback_=o,this.errorCallback_=a,this.progressCallback_=c,this.timeout_=l,this.pool_=u,this.promise_=new Promise((t,e)=>{this.resolve_=t,this.reject_=e,this.start_()})}start_(){const t=this;function e(e,n){const i=t.resolve_,r=t.reject_,s=n.connection;if(n.wasSuccessCode)try{const e=t.callback_(s,s.getResponseText());void 0!==e?i(e):i()}catch(o){r(o)}else if(null!==s){const e=w();e.serverResponse=s.getResponseText(),r(t.errorCallback_?t.errorCallback_(s,e):e)}else r(n.canceled?t.appDelete_?k():C():new v("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?e(0,new j(!1,null,!0)):this.backoffId_=function(e,n,i){let r=1,s=null,o=!1,a=0;function l(){return 2===a}let c=!1;function u(...t){c||(c=!0,n.apply(null,t))}function h(e){s=setTimeout(()=>{s=null,function(e,n){if(n)return void e(!1,new j(!1,null,!0));const i=t.pool_.createConnection();function r(e){null!==t.progressCallback_&&t.progressCallback_(e.loaded,e.lengthComputable?e.total:-1)}t.pendingConnection_=i,null!==t.progressCallback_&&i.addUploadProgressListener(r),i.send(t.url_,t.method_,t.body_,t.headers_).then(()=>{null!==t.progressCallback_&&i.removeUploadProgressListener(r),t.pendingConnection_=null;const n=i.getErrorCode()===_.NO_ERROR,s=i.getStatus();if(!n||t.isRetryStatusCode_(s)){const t=i.getErrorCode()===_.ABORT;return void e(!1,new j(!1,null,t))}const o=-1!==t.successCodes_.indexOf(s);e(!0,new j(o,i))})}(d,l())},e)}function d(t,...e){if(c)return;if(t)return void u.call(null,t,...e);if(l()||o)return void u.call(null,t,...e);let n;r<64&&(r*=2),1===a?(a=2,n=0):n=1e3*(r+Math.random()),h(n)}let p=!1;function f(t){p||(p=!0,c||(null!==s?(t||(a=2),clearTimeout(s),h(0)):t||(a=1)))}return h(0),setTimeout(()=>{o=!0,f(!0)},i),f}(0,e,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(t){const e=t>=500&&t<600,n=-1!==[408,429].indexOf(t),i=-1!==this.additionalRetryCodes_.indexOf(t);return e||n||i}}class j{constructor(t,e,n){this.wasSuccessCode=t,this.connection=e,this.canceled=!!n}}function q(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function z(...t){const e=q();if(void 0!==e){const n=new e;for(let e=0;e<t.length;e++)n.append(t[e]);return n.getBlob()}if(L())return new Blob(t);throw new v("unsupported-environment","This browser doesn't seem to support creating Blobs")}const H={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class G{constructor(t,e){this.data=t,this.contentType=e||null}}function $(t,e){switch(t){case H.RAW:return new G(Z(e));case H.BASE64:case H.BASE64URL:return new G(Y(t,e));case H.DATA_URL:return new G(function(t){const e=new W(t);return e.base64?Y(H.BASE64,e.rest):function(t){let e;try{e=decodeURIComponent(t)}catch(n){throw I(H.DATA_URL,"Malformed data URL.")}return Z(e)}(e.rest)}(e),new W(e).contentType)}throw w()}function Z(t){const e=[];for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);i<=127?e.push(i):i<=2047?e.push(192|i>>6,128|63&i):55296==(64512&i)?n<t.length-1&&56320==(64512&t.charCodeAt(n+1))?(i=65536|(1023&i)<<10|1023&t.charCodeAt(++n),e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i)):e.push(239,191,189):56320==(64512&i)?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|63&i)}return new Uint8Array(e)}function Y(t,e){switch(t){case H.BASE64:{const n=-1!==e.indexOf("-"),i=-1!==e.indexOf("_");if(n||i)throw I(t,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break}case H.BASE64URL:{const n=-1!==e.indexOf("+"),i=-1!==e.indexOf("/");if(n||i)throw I(t,"Invalid character '"+(n?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=atob(e)}catch(r){throw I(t,"Invalid character found")}const i=new Uint8Array(n.length);for(let s=0;s<n.length;s++)i[s]=n.charCodeAt(s);return i}class W{constructor(t){this.base64=!1,this.contentType=null;const e=t.match(/^data:([^,]+)?,/);if(null===e)throw I(H.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=e[1]||null;var i,r;null!=n&&(this.base64=(i=n).length>=(r=";base64").length&&i.substring(i.length-r.length)===r,this.contentType=this.base64?n.substring(0,n.length-";base64".length):n),this.rest=t.substring(t.indexOf(",")+1)}}class K{constructor(t,e){let n=0,i="";F(t)?(this.data_=t,n=t.size,i=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=i}size(){return this.size_}type(){return this.type_}slice(t,e){if(F(this.data_)){const s=(i=t,r=e,(n=this.data_).webkitSlice?n.webkitSlice(i,r):n.mozSlice?n.mozSlice(i,r):n.slice?n.slice(i,r):null);return null===s?null:new K(s)}var n,i,r;{const n=new Uint8Array(this.data_.buffer,t,e-t);return new K(n,!0)}}static getBlob(...t){if(L()){const e=t.map(t=>t instanceof K?t.data_:t);return new K(z.apply(null,e))}{const e=t.map(t=>N(t)?$(H.RAW,t).data:t.data_);let n=0;e.forEach(t=>{n+=t.byteLength});const i=new Uint8Array(n);let r=0;return e.forEach(t=>{for(let e=0;e<t.length;e++)i[r++]=t[e]}),new K(i,!0)}}uploadData(){return this.data_}}function Q(t){let e;try{e=JSON.parse(t)}catch(i){return null}return"object"!=typeof(n=e)||Array.isArray(n)?null:e;var n}function J(t){const e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}function X(t,e){return e}class tt{constructor(t,e,n,i){this.server=t,this.local=e||t,this.writable=!!n,this.xform=i||X}}let et=null;function nt(){if(et)return et;const t=[];t.push(new tt("bucket")),t.push(new tt("generation")),t.push(new tt("metageneration")),t.push(new tt("name","fullPath",!0));const e=new tt("name");e.xform=function(t,e){return function(t){return!N(t)||t.length<2?t:J(t)}(e)},t.push(e);const n=new tt("size");return n.xform=function(t,e){return void 0!==e?Number(e):e},t.push(n),t.push(new tt("timeCreated")),t.push(new tt("updated")),t.push(new tt("md5Hash",null,!0)),t.push(new tt("cacheControl",null,!0)),t.push(new tt("contentDisposition",null,!0)),t.push(new tt("contentEncoding",null,!0)),t.push(new tt("contentLanguage",null,!0)),t.push(new tt("contentType",null,!0)),t.push(new tt("metadata","customMetadata",!0)),et=t,et}function it(t,e,n){const i=Q(e);return null===i?null:function(t,e,n){const i={type:"file"},r=n.length;for(let s=0;s<r;s++){const t=n[s];i[t.local]=t.xform(i,e[t.server])}return function(t,e){Object.defineProperty(t,"ref",{get:function(){const n=new O(t.bucket,t.fullPath);return e._makeStorageReference(n)}})}(i,t),i}(t,i,n)}function rt(t,e){const n={},i=e.length;for(let r=0;r<i;r++){const i=e[r];i.writable&&(n[i.server]=t[i.local])}return JSON.stringify(n)}class st{constructor(t,e,n,i){this.url=t,this.method=e,this.handler=n,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function ot(t){if(!t)throw w()}function at(t,e){return function(n,i){const r=it(t,i,e);return ot(null!==r),r}}function lt(t){return function(e,n){let i;return i=401===e.getStatus()?e.getResponseText().includes("Firebase App Check token is invalid")?new v("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new v("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===e.getStatus()?new v("quota-exceeded","Quota for bucket '"+t.bucket+"' exceeded, please view quota on https://firebase.google.com/pricing/."):403===e.getStatus()?new v("unauthorized","User does not have permission to access '"+t.path+"'."):n,i.serverResponse=n.serverResponse,i}}function ct(t){const e=lt(t);return function(n,i){let r=e(n,i);return 404===n.getStatus()&&(r=new v("object-not-found","Object '"+t.path+"' does not exist.")),r.serverResponse=i.serverResponse,r}}function ut(t,e,n){const i=B(e.fullServerUrl(),t.host,t._protocol),r=t.maxOperationRetryTime,s=new st(i,"GET",at(t,n),r);return s.errorHandler=ct(e),s}function ht(t,e,n,i,r){const s={};s.prefix=e.isRoot?"":e.path+"/",n&&n.length>0&&(s.delimiter=n),i&&(s.pageToken=i),r&&(s.maxResults=r);const o=B(e.bucketOnlyServerUrl(),t.host,t._protocol),a=t.maxOperationRetryTime,l=new st(o,"GET",function(t,e){return function(n,i){const r=function(t,e,n){const i=Q(n);return null===i?null:function(t,e,n){const i={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes)for(const r of n.prefixes){const n=r.replace(/\/$/,""),s=t._makeStorageReference(new O(e,n));i.prefixes.push(s)}if(n.items)for(const r of n.items){const n=t._makeStorageReference(new O(e,r.name));i.items.push(n)}return i}(t,e,i)}(t,e,i);return ot(null!==r),r}}(t,e.bucket),a);return l.urlParams=s,l.errorHandler=lt(e),l}function dt(t,e,n){const i=B(e.fullServerUrl(),t.host,t._protocol),r=t.maxOperationRetryTime,s=new st(i,"GET",function(t,e){return function(n,i){const r=it(t,i,e);return ot(null!==r),function(t,e,n,i){const r=Q(e);if(null===r)return null;if(!N(r.downloadTokens))return null;const s=r.downloadTokens;if(0===s.length)return null;const o=encodeURIComponent;return s.split(",").map(e=>{const r=t.fullPath;return B("/b/"+o(t.bucket)+"/o/"+o(r),n,i)+V({alt:"media",token:e})})[0]}(r,i,t.host,t._protocol)}}(t,n),r);return s.errorHandler=ct(e),s}function pt(t,e,n,i){const r=B(e.fullServerUrl(),t.host,t._protocol),s=rt(n,i),o=t.maxOperationRetryTime,a=new st(r,"PATCH",at(t,i),o);return a.headers={"Content-Type":"application/json; charset=utf-8"},a.body=s,a.errorHandler=ct(e),a}function ft(t,e){const n=B(e.fullServerUrl(),t.host,t._protocol),i=new st(n,"DELETE",function(t,e){},t.maxOperationRetryTime);return i.successCodes=[200,204],i.errorHandler=ct(e),i}function mt(t,e,n){const i=Object.assign({},n);return i.fullPath=t.path,i.size=e.size(),i.contentType||(i.contentType=function(t,e){return e&&e.type()||"application/octet-stream"}(0,e)),i}class gt{constructor(t,e,n,i){this.current=t,this.total=e,this.finalized=!!n,this.metadata=i||null}}function _t(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch(i){ot(!1)}return ot(!!n&&-1!==(e||["active"]).indexOf(n)),n}const yt=262144,vt={STATE_CHANGED:"state_changed"},bt={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function wt(t){switch(t){case"running":case"pausing":case"canceling":return bt.RUNNING;case"paused":return bt.PAUSED;case"success":return bt.SUCCESS;case"canceled":return bt.CANCELED;case"error":default:return bt.ERROR}}class Ct{constructor(t,e,n){if("function"==typeof t||null!=e||null!=n)this.next=t,this.error=null!=e?e:void 0,this.complete=null!=n?n:void 0;else{const e=t;this.next=e.next,this.error=e.error,this.complete=e.complete}}}function Et(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class St{constructor(t,e,n=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=n,this._mappings=nt(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=t=>{this._request=void 0,this._chunkMultiplier=1,t._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=t,this._transition("error"))},this._metadataErrorHandler=t=>{this._request=void 0,t._codeEquals("canceled")?this.completeTransitions_():(this._error=t,this._transition("error"))},this._promise=new Promise((t,e)=>{this._resolve=t,this._reject=e,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const t=this._transferred;return e=>this._updateProgress(t+e)}_shouldDoResumable(t){return t.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(t){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([e,n])=>{switch(this._state){case"running":t(e,n);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((t,e)=>{const n=function(t,e,n,i,r){const s=e.bucketOnlyServerUrl(),o=mt(e,i,r),a={name:o.fullPath},l=B(s,t.host,t._protocol),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i.size()}`,"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},u=rt(o,n),h=new st(l,"POST",function(t){let e;_t(t);try{e=t.getResponseHeader("X-Goog-Upload-URL")}catch(n){ot(!1)}return ot(N(e)),e},t.maxUploadRetryTime);return h.urlParams=a,h.headers=c,h.body=u,h.errorHandler=lt(e),h}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(n,t,e);this._request=i,i.getPromise().then(t=>{this._request=void 0,this._uploadUrl=t,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const t=this._uploadUrl;this._resolveToken((e,n)=>{const i=function(t,e,n,i){const r=new st(n,"POST",function(t){const e=_t(t,["active","final"]);let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Size-Received")}catch(s){ot(!1)}n||ot(!1);const r=Number(n);return ot(!isNaN(r)),new gt(r,i.size(),"final"===e)},t.maxUploadRetryTime);return r.headers={"X-Goog-Upload-Command":"query"},r.errorHandler=lt(e),r}(this._ref.storage,this._ref._location,t,this._blob),r=this._ref.storage._makeRequest(i,e,n);this._request=r,r.getPromise().then(t=>{t=t,this._request=void 0,this._updateProgress(t.current),this._needToFetchStatus=!1,t.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const t=yt*this._chunkMultiplier,e=new gt(this._transferred,this._blob.size()),n=this._uploadUrl;this._resolveToken((i,r)=>{let s;try{s=function(t,e,n,i,r,s,o,a){const l=new gt(0,0);if(o?(l.current=o.current,l.total=o.total):(l.current=0,l.total=i.size()),i.size()!==l.total)throw new v("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");const c=l.total-l.current;let u=c;r>0&&(u=Math.min(u,r));const h=l.current,d={"X-Goog-Upload-Command":u===c?"upload, finalize":"upload","X-Goog-Upload-Offset":`${l.current}`},p=i.slice(h,h+u);if(null===p)throw E();const f=new st(n,"POST",function(t,n){const r=_t(t,["active","final"]),o=l.current+u,a=i.size();let c;return c="final"===r?at(e,s)(t,n):null,new gt(o,a,"final"===r,c)},e.maxUploadRetryTime);return f.headers=d,f.body=p.uploadData(),f.progressCallback=a||null,f.errorHandler=lt(t),f}(this._ref._location,this._ref.storage,n,this._blob,t,this._mappings,e,this._makeProgressCallback())}catch(a){return this._error=a,void this._transition("error")}const o=this._ref.storage._makeRequest(s,i,r);this._request=o,o.getPromise().then(t=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(t.current),t.finalized?(this._metadata=t.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){yt*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((t,e)=>{const n=ut(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(n,t,e);this._request=i,i.getPromise().then(t=>{this._request=void 0,this._metadata=t,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((t,e)=>{const n=function(t,e,n,i,r){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"},a=function(){let t="";for(let e=0;e<2;e++)t+=Math.random().toString().slice(2);return t}();o["Content-Type"]="multipart/related; boundary="+a;const l=mt(e,i,r),c=rt(l,n),u=K.getBlob("--"+a+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+c+"\r\n--"+a+"\r\nContent-Type: "+l.contentType+"\r\n\r\n",i,"\r\n--"+a+"--");if(null===u)throw E();const h={name:l.fullPath},d=B(s,t.host,t._protocol),p=t.maxUploadRetryTime,f=new st(d,"POST",at(t,n),p);return f.urlParams=h,f.headers=o,f.body=u.uploadData(),f.errorHandler=lt(e),f}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(n,t,e);this._request=i,i.getPromise().then(t=>{this._request=void 0,this._metadata=t,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(t){const e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()}_transition(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,void 0!==this._request&&this._request.cancel();break;case"running":const e="paused"===this._state;this._state=t,e&&(this._notifyObservers(),this._start());break;case"paused":this._state=t,this._notifyObservers();break;case"canceled":this._error=C(),this._state=t,this._notifyObservers();break;case"error":case"success":this._state=t,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const t=wt(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}}on(t,e,n,i){const r=new Ct(e||void 0,n||void 0,i||void 0);return this._addObserver(r),()=>{this._removeObserver(r)}}then(t,e){return this._promise.then(t,e)}catch(t){return this.then(null,t)}_addObserver(t){this._observers.push(t),this._notifyObserver(t)}_removeObserver(t){const e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(void 0!==this._resolve){let t=!0;switch(wt(this._state)){case bt.SUCCESS:Et(this._resolve.bind(null,this.snapshot))();break;case bt.CANCELED:case bt.ERROR:Et(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(t){switch(wt(this._state)){case bt.RUNNING:case bt.PAUSED:t.next&&Et(t.next.bind(t,this.snapshot))();break;case bt.SUCCESS:t.complete&&Et(t.complete.bind(t))();break;case bt.CANCELED:case bt.ERROR:t.error&&Et(t.error.bind(t,this._error))();break;default:t.error&&Et(t.error.bind(t,this._error))()}}resume(){const t="paused"===this._state||"pausing"===this._state;return t&&this._transition("running"),t}pause(){const t="running"===this._state;return t&&this._transition("pausing"),t}cancel(){const t="running"===this._state||"pausing"===this._state;return t&&this._transition("canceling"),t}}class xt{constructor(t,e){this._service=t,this._location=e instanceof O?e:O.makeFromUrl(e,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,e){return new xt(t,e)}get root(){const t=new O(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return J(this._location.path)}get storage(){return this._service}get parent(){const t=function(t){if(0===t.length)return null;const e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this._location.path);if(null===t)return null;const e=new O(this._location.bucket,t);return new xt(this._service,e)}_throwIfRoot(t){if(""===this._location.path)throw T(t)}}function kt(t,e,n){return Tt.apply(this,arguments)}function Tt(){return(Tt=(0,p.Z)(function*(t,e,n){const i={pageToken:n},r=yield It(t,i);e.prefixes.push(...r.prefixes),e.items.push(...r.items),null!=r.nextPageToken&&(yield kt(t,e,r.nextPageToken))})).apply(this,arguments)}function It(t,e){return At.apply(this,arguments)}function At(){return(At=(0,p.Z)(function*(t,e){null!=e&&"number"==typeof e.maxResults&&M("options.maxResults",1,1e3,e.maxResults);const n=e||{},i=ht(t.storage,t._location,"/",n.pageToken,n.maxResults);return(yield t.storage.makeRequestWithTokens(i)).getPromise()})).apply(this,arguments)}function Dt(){return(Dt=(0,p.Z)(function*(t){t._throwIfRoot("getMetadata");const e=ut(t.storage,t._location,nt());return(yield t.storage.makeRequestWithTokens(e)).getPromise()})).apply(this,arguments)}function Rt(){return(Rt=(0,p.Z)(function*(t,e){t._throwIfRoot("updateMetadata");const n=pt(t.storage,t._location,e,nt());return(yield t.storage.makeRequestWithTokens(n)).getPromise()})).apply(this,arguments)}function Ot(){return(Ot=(0,p.Z)(function*(t){t._throwIfRoot("getDownloadURL");const e=dt(t.storage,t._location,nt());return(yield t.storage.makeRequestWithTokens(e)).getPromise().then(t=>{if(null===t)throw S();return t})})).apply(this,arguments)}function Pt(){return(Pt=(0,p.Z)(function*(t){t._throwIfRoot("deleteObject");const e=ft(t.storage,t._location);return(yield t.storage.makeRequestWithTokens(e)).getPromise()})).apply(this,arguments)}function Nt(t,e){const n=function(t,e){const n=e.split("/").filter(t=>t.length>0).join("/");return 0===t.length?n:t+"/"+n}(t._location.path,e),i=new O(t._location.bucket,n);return new xt(t.storage,i)}function Ft(t,e){if(t instanceof Bt){const n=t;if(null==n._bucket)throw new v("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");const i=new xt(n,n._bucket);return null!=e?Ft(i,e):i}return void 0!==e?Nt(t,e):t}function Lt(t,e){if(e&&/^[A-Za-z]+:\/\//.test(e)){if(t instanceof Bt)return new xt(t,e);throw x("To use ref(service, url), the first argument must be a Storage instance.")}return Ft(t,e)}function Mt(t,e){const n=null==e?void 0:e.storageBucket;return null==n?null:O.makeFromBucketSpec(n,t)}class Bt{constructor(t,e,n,i,r,s){this.app=t,this._authProvider=e,this._appCheckProvider=n,this._pool=i,this._url=r,this._firebaseVersion=s,this._bucket=null,this._host=y,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?O.makeFromBucketSpec(r,this._host):Mt(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._bucket=null!=this._url?O.makeFromBucketSpec(this._url,t):Mt(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){M("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){M("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}_getAuthToken(){var t=this;return(0,p.Z)(function*(){if(t._overrideAuthToken)return t._overrideAuthToken;const e=t._authProvider.getImmediate({optional:!0});if(e){const t=yield e.getToken();if(null!==t)return t.accessToken}return null})()}_getAppCheckToken(){var t=this;return(0,p.Z)(function*(){const e=t._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new xt(this,t)}_makeRequest(t,e,n){if(this._deleted)return new P(k());{const i=function(t,e,n,i,r,s){const o=V(t.urlParams),a=t.url+o,l=Object.assign({},t.headers);return function(t,e){e&&(t["X-Firebase-GMPID"]=e)}(l,e),function(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(l,n),function(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(null!=e?e:"AppManager")}(l,s),function(t,e){null!==e&&(t["X-Firebase-AppCheck"]=e)}(l,i),new U(a,t.method,l,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,r)}(t,this._appId,e,n,this._pool,this._firebaseVersion);return this._requests.add(i),i.getPromise().then(()=>this._requests.delete(i),()=>this._requests.delete(i)),i}}makeRequestWithTokens(t){var e=this;return(0,p.Z)(function*(){const[n,i]=yield Promise.all([e._getAuthToken(),e._getAppCheckToken()]);return e._makeRequest(t,n,i)})()}}function Vt(t,e){return Lt(t=(0,m.m9)(t),e)}(0,f._registerComponent)(new g.wA("storage",function(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),r=t.getProvider("app-check-internal");return new Bt(n,i,r,new R,e,f.SDK_VERSION)},"PUBLIC").setMultipleInstances(!0)),(0,f.registerVersion)("@firebase/storage","0.8.2");class Ut{constructor(t,e,n){this._delegate=t,this.task=e,this.ref=n}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class jt{constructor(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new Ut(this._delegate.snapshot,this,this._ref)}then(t,e){return this._delegate.then(e=>{if(t)return t(new Ut(e,this,this._ref))},e)}on(t,e,n,i){let r;return e&&(r="function"==typeof e?t=>e(new Ut(t,this,this._ref)):{next:e.next?t=>e.next(new Ut(t,this,this._ref)):void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,r,n||void 0,i||void 0)}}class qt{constructor(t,e){this._delegate=t,this._service=e}get prefixes(){return this._delegate.prefixes.map(t=>new zt(t,this._service))}get items(){return this._delegate.items.map(t=>new zt(t,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class zt{constructor(t,e){this._delegate=t,this.storage=e}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(t){const e=function(t,e){return Nt(t,e)}(this._delegate,t);return new zt(e,this.storage)}get root(){return new zt(this._delegate.root,this.storage)}get parent(){const t=this._delegate.parent;return null==t?null:new zt(t,this.storage)}put(t,e){return this._throwIfRoot("put"),new jt(function(t,e,n){return function(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new St(t,new K(e),n)}(t=(0,m.m9)(t),e,n)}(this._delegate,t,e),this)}putString(t,e=H.RAW,n){this._throwIfRoot("putString");const i=$(e,t),r=Object.assign({},n);return null==r.contentType&&null!=i.contentType&&(r.contentType=i.contentType),new jt(new St(this._delegate,new K(i.data,!0),r),this)}listAll(){return function(t){return function(t){const e={prefixes:[],items:[]};return kt(t,e).then(()=>e)}(t=(0,m.m9)(t))}(this._delegate).then(t=>new qt(t,this.storage))}list(t){return function(t,e){return It(t=(0,m.m9)(t),e)}(this._delegate,t||void 0).then(t=>new qt(t,this.storage))}getMetadata(){return function(t){return function(t){return Dt.apply(this,arguments)}(t=(0,m.m9)(t))}(this._delegate)}updateMetadata(t){return function(t,e){return function(t,e){return Rt.apply(this,arguments)}(t=(0,m.m9)(t),e)}(this._delegate,t)}getDownloadURL(){return function(t){return function(t){return Ot.apply(this,arguments)}(t=(0,m.m9)(t))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function(t){return function(t){return Pt.apply(this,arguments)}(t=(0,m.m9)(t))}(this._delegate)}_throwIfRoot(t){if(""===this._delegate._location.path)throw T(t)}}class Ht{constructor(t,e){this.app=t,this._delegate=e}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(t){if(Gt(t))throw x("ref() expected a child path but got a URL, use refFromURL instead.");return new zt(Vt(this._delegate,t),this)}refFromURL(t){if(!Gt(t))throw x("refFromURL() expected a full URL but got a child path, use ref() instead.");try{O.makeFromUrl(t,this._delegate.host)}catch(e){throw x("refFromUrl() expected a valid full URL but got an invalid one.")}return new zt(Vt(this._delegate,t),this)}setMaxUploadRetryTime(t){this._delegate.maxUploadRetryTime=t}setMaxOperationRetryTime(t){this._delegate.maxOperationRetryTime=t}useEmulator(t,e,n={}){!function(t,e,n,i={}){!function(t,e,n,i={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:r}=i;r&&(t._overrideAuthToken="string"==typeof r?r:(0,m.Sg)(r,t.app.options.projectId))}(t,e,n,i)}(this._delegate,t,e,n)}}function Gt(t){return/^[A-Za-z]+:\/\//.test(t)}function $t(t,{instanceIdentifier:e}){const n=t.getProvider("app-compat").getImmediate(),i=t.getProvider("storage").getImmediate({identifier:e});return new Ht(n,i)}!function(t){const e={TaskState:bt,TaskEvent:vt,StringFormat:H,Storage:Ht,Reference:zt};t.INTERNAL.registerComponent(new g.wA("storage-compat",$t,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),t.registerVersion("@firebase/storage-compat","0.1.2")}(d.Z),n(1116);var Zt=n(9001);function Yt(t){const e=function(t){return new i.y(e=>{const n=t=>e.next(t);n(t.snapshot);const i=t.on("state_changed",n);return t.then(t=>{n(t),e.complete()},i=>{n(t.snapshot),(t=>{e.error(t)})(i)}),function(){i()}}).pipe((0,o.b)(0))}(t);return{task:t,then:t.then.bind(t),catch:t.catch.bind(t),pause:t.pause.bind(t),cancel:t.cancel.bind(t),resume:t.resume.bind(t),snapshotChanges:()=>e,percentageChanges:()=>e.pipe((0,a.U)(t=>t.bytesTransferred/t.totalBytes*100))}}function Wt(t){return{getDownloadURL:()=>(0,r.of)(void 0).pipe(c.fc,(0,l.w)(()=>t.getDownloadURL()),c.iC),getMetadata:()=>(0,r.of)(void 0).pipe(c.fc,(0,l.w)(()=>t.getMetadata()),c.iC),delete:()=>(0,s.D)(t.delete()),child:e=>Wt(t.child(e)),updateMetadata:e=>(0,s.D)(t.updateMetadata(e)),put:(e,n)=>Yt(t.put(e,n)),putString:(e,n,i)=>Yt(t.putString(e,n,i)),listAll:()=>(0,s.D)(t.listAll())}}const Kt=new u.OlP("angularfire2.storageBucket"),Qt=new u.OlP("angularfire2.storage.maxUploadRetryTime"),Jt=new u.OlP("angularfire2.storage.maxOperationRetryTime"),Xt=new u.OlP("angularfire2.storage.use-emulator");let te=(()=>{class t{constructor(t,e,n,i,r,s,o,a,l){const u=(0,h.on)(t,r,e);this.storage=(0,c.cc)(`${u.name}.storage.${n}`,"AngularFireStorage",u.name,()=>{const t=r.runOutsideAngular(()=>u.storage(n||void 0)),e=l;return e&&t.useEmulator(...e),o&&t.setMaxUploadRetryTime(o),a&&t.setMaxOperationRetryTime(a),t},[o,a])}ref(t){return Wt(this.storage.ref(t))}refFromURL(t){return Wt(this.storage.refFromURL(t))}upload(t,e,n){return Wt(this.storage.ref(t)).put(e,n)}}return t.\u0275fac=function(e){return new(e||t)(u.LFG(h.Dh),u.LFG(h.xv,8),u.LFG(Kt,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(c.HU),u.LFG(Qt,8),u.LFG(Jt,8),u.LFG(Xt,8))},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac,providedIn:"any"}),t})(),ee=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({}),t})(),ne=(()=>{class t{constructor(){Zt.Z.registerVersion("angularfire",c.q4.full,"gcs-compat")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({providers:[te],imports:[ee]}),t})()},9748:(t,e,n)=>{"use strict";n.d(e,{hO:()=>m,xv:()=>h,Dh:()=>u,GT:()=>l,on:()=>d,pX:()=>a});var i=n(5366),r=n(9001),s=n(5271);t=n.hmd(t);const o=["ngOnDestroy"],a=(t,e,n,i={})=>new Proxy(t,{get:(r,s)=>n.runOutsideAngular(()=>{var r;if(t[s])return(null===(r=null==i?void 0:i.spy)||void 0===r?void 0:r.get)&&i.spy.get(s,t[s]),t[s];if(o.indexOf(s)>-1)return()=>{};const a=e.toPromise().then(t=>{const e=t&&t[s];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>a[e],apply:(t,e,n)=>a.then(t=>{var e;const r=t&&t(...n);return(null===(e=null==i?void 0:i.spy)||void 0===e?void 0:e.apply)&&i.spy.apply(s,n,r),r})})})}),l=(t,e)=>{e.forEach(e=>{Object.getOwnPropertyNames(e.prototype||e).forEach(n=>{Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})};class c{constructor(t){return t}}const u=new i.OlP("angularfire2.app.options"),h=new i.OlP("angularfire2.app.name");function d(e,n,i){const s="object"==typeof i&&i||{};s.name=s.name||"string"==typeof i&&i||"[DEFAULT]";const o=r.Z.apps.filter(t=>t&&t.name===s.name)[0]||n.runOutsideAngular(()=>r.Z.initializeApp(e,s));try{JSON.stringify(e)!==JSON.stringify(o.options)&&p("error",`${o.name} Firebase App already initialized with different options${t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(a){}return new c(o)}const p=(t,...e)=>{(0,i.X6Q)()&&"undefined"!=typeof console&&console[t](...e)},f={provide:c,useFactory:d,deps:[u,i.R0b,[new i.FiY,h]]};let m=(()=>{class t{constructor(t){r.Z.registerVersion("angularfire",s.q4.full,"core"),r.Z.registerVersion("angularfire",s.q4.full,"app-compat"),r.Z.registerVersion("angular",i.q4F.full,t.toString())}static initializeApp(e,n){return{ngModule:t,providers:[{provide:u,useValue:e},{provide:h,useValue:n}]}}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(i.Lbi))},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({providers:[f]}),t})()},5271:(t,e,n)=>{"use strict";n.d(e,{q4:()=>c,iC:()=>v,fc:()=>y,HU:()=>g,cc:()=>d});var i=n(5366);(0,n(7092).registerVersion)("firebase","9.0.2","app");var r=n(8489),s=n(8569),o=n(6599),a=n(9971),l=n(3482);t=n.hmd(t);const c=new i.GfV("7.0.4"),u=!!t.hot,h=(t,...e)=>{(0,i.X6Q)()&&"undefined"!=typeof console&&console[t](...e)};function d(t,e,n,i,r){const[,s,o]=globalThis.\u0275AngularfireInstanceCache.find(e=>e[0]===t)||[];if(s)return function(t,e){try{return t.toString()===e.toString()}catch(n){return t===e}}(r,o)||(h("error",`${e} was already initialized on the ${n} Firebase App with different settings.${u?" You may need to reload as Firebase is not HMR aware.":""}`),h("warn",{is:r,was:o})),s;{const e=i();return globalThis.\u0275AngularfireInstanceCache.push([t,e,r]),e}}function p(){}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[]);class f{constructor(t,e=r.N){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const i=this.zone;return this.delegate.schedule(function(e){i.runGuarded(()=>{t.apply(this,[e])})},e,n)}}class m{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",p,{},p,p)),e.pipe((0,o.b)({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let g=(()=>{class t{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new f(Zone.current)),this.insideAngular=t.run(()=>new f(Zone.current,s.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(i.R0b))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function _(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("AngularFireModule has not been provided");return t}function y(t){return t.pipe((0,a.QV)(_().outsideAngular))}function v(t){return _(),(e=_(),function(t){return(t=t.lift(new m(e.ngZone))).pipe((0,l.R)(e.outsideAngular),(0,a.QV)(e.insideAngular))})(t);var e}},1041:(t,e,n)=>{"use strict";n.d(e,{gN:()=>N,Fj:()=>p,qu:()=>It,oH:()=>bt,u:()=>St,sg:()=>Ct,u5:()=>kt,JU:()=>u,a5:()=>F,JJ:()=>M,JL:()=>B,F:()=>dt,On:()=>mt,UX:()=>Tt,kI:()=>v,_Y:()=>gt});var i=n(5366),r=n(1116),s=n(9764),o=n(3148),a=n(9996);let l=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}setProperty(t,e){this._renderer.setProperty(this._elementRef.nativeElement,t,e)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.Qsj),i.Y36(i.SBq))},t.\u0275dir=i.lG2({type:t}),t})(),c=(()=>{class t extends l{}return t.\u0275fac=function(){let e;return function(n){return(e||(e=i.n5z(t)))(n||t)}}(),t.\u0275dir=i.lG2({type:t,features:[i.qOj]}),t})();const u=new i.OlP("NgValueAccessor"),h={provide:u,useExisting:(0,i.Gpc)(()=>p),multi:!0},d=new i.OlP("CompositionEventMode");let p=(()=>{class t extends l{constructor(t,e,n){super(t,e),this._compositionMode=n,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=(0,r.q)()?(0,r.q)().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.Qsj),i.Y36(i.SBq),i.Y36(d,8))},t.\u0275dir=i.lG2({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&i.NdJ("input",function(t){return e._handleInput(t.target.value)})("blur",function(){return e.onTouched()})("compositionstart",function(){return e._compositionStart()})("compositionend",function(t){return e._compositionEnd(t.target.value)})},features:[i._Bn([h]),i.qOj]}),t})();function f(t){return null==t||0===t.length}function m(t){return null!=t&&"number"==typeof t.length}const g=new i.OlP("NgValidators"),_=new i.OlP("NgAsyncValidators"),y=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class v{static min(t){return function(t){return e=>{if(f(e.value)||f(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}(t)}static max(t){return function(t){return e=>{if(f(e.value)||f(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}(t)}static required(t){return function(t){return f(t.value)?{required:!0}:null}(t)}static requiredTrue(t){return function(t){return!0===t.value?null:{required:!0}}(t)}static email(t){return function(t){return f(t.value)||y.test(t.value)?null:{email:!0}}(t)}static minLength(t){return function(t){return e=>f(e.value)||!m(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}(t)}static maxLength(t){return function(t){return e=>m(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}(t)}static pattern(t){return function(t){if(!t)return b;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),t=>{if(f(t.value))return null;const i=t.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}(t)}static nullValidator(t){return null}static compose(t){return k(t)}static composeAsync(t){return I(t)}}function b(t){return null}function w(t){return null!=t}function C(t){const e=(0,i.QGY)(t)?(0,s.D)(t):t;return(0,i.CqO)(e),e}function E(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function S(t,e){return e.map(e=>e(t))}function x(t){return t.map(t=>function(t){return!t.validate}(t)?t:e=>t.validate(e))}function k(t){if(!t)return null;const e=t.filter(w);return 0==e.length?null:function(t){return E(S(t,e))}}function T(t){return null!=t?k(x(t)):null}function I(t){if(!t)return null;const e=t.filter(w);return 0==e.length?null:function(t){const n=S(t,e).map(C);return(0,o.D)(n).pipe((0,a.U)(E))}}function A(t){return null!=t?I(x(t)):null}function D(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function R(t){return t._rawValidators}function O(t){return t._rawAsyncValidators}let P=(()=>{class t{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=T(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=A(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.lG2({type:t}),t})(),N=(()=>{class t extends P{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(){let e;return function(n){return(e||(e=i.n5z(t)))(n||t)}}(),t.\u0275dir=i.lG2({type:t,features:[i.qOj]}),t})();class F extends P{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class L{constructor(t){this._cd=t}is(t){var e,n;return!!(null===(n=null===(e=this._cd)||void 0===e?void 0:e.control)||void 0===n?void 0:n[t])}}let M=(()=>{class t extends L{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(F,2))},t.\u0275dir=i.lG2({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&i.ekj("ng-untouched",e.is("untouched"))("ng-touched",e.is("touched"))("ng-pristine",e.is("pristine"))("ng-dirty",e.is("dirty"))("ng-valid",e.is("valid"))("ng-invalid",e.is("invalid"))("ng-pending",e.is("pending"))},features:[i.qOj]}),t})(),B=(()=>{class t extends L{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(N,10))},t.\u0275dir=i.lG2({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(t,e){2&t&&i.ekj("ng-untouched",e.is("untouched"))("ng-touched",e.is("touched"))("ng-pristine",e.is("pristine"))("ng-dirty",e.is("dirty"))("ng-valid",e.is("valid"))("ng-invalid",e.is("invalid"))("ng-pending",e.is("pending"))},features:[i.qOj]}),t})();function V(t,e){return[...e.path,t]}function U(t,e){z(t,e),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&G(t,e)})}(t,e),function(t,e){const n=(t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&G(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function(t,e){if(e.valueAccessor.setDisabledState){const n=t=>{e.valueAccessor.setDisabledState(t)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function j(t,e,n=!0){const i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),H(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function q(t,e){t.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function z(t,e){const n=R(t);null!==e.validator?t.setValidators(D(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const i=O(t);null!==e.asyncValidator?t.setAsyncValidators(D(i,e.asyncValidator)):"function"==typeof i&&t.setAsyncValidators([i]);const r=()=>t.updateValueAndValidity();q(e._rawValidators,r),q(e._rawAsyncValidators,r)}function H(t,e){let n=!1;if(null!==t){if(null!==e.validator){const i=R(t);if(Array.isArray(i)&&i.length>0){const r=i.filter(t=>t!==e.validator);r.length!==i.length&&(n=!0,t.setValidators(r))}}if(null!==e.asyncValidator){const i=O(t);if(Array.isArray(i)&&i.length>0){const r=i.filter(t=>t!==e.asyncValidator);r.length!==i.length&&(n=!0,t.setAsyncValidators(r))}}}const i=()=>{};return q(e._rawValidators,i),q(e._rawAsyncValidators,i),n}function G(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function $(t,e){z(t,e)}function Z(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}function Y(t,e){t._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)})}function W(t,e){if(!e)return null;let n,i,r;return Array.isArray(e),e.forEach(t=>{t.constructor===p?n=t:Object.getPrototypeOf(t.constructor)===c?i=t:r=t}),r||i||n||null}function K(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Q="VALID",J="INVALID",X="PENDING",tt="DISABLED";function et(t){return(st(t)?t.validators:t)||null}function nt(t){return Array.isArray(t)?T(t):t||null}function it(t,e){return(st(e)?e.asyncValidators:t)||null}function rt(t){return Array.isArray(t)?A(t):t||null}function st(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class ot{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=nt(this._rawValidators),this._composedAsyncValidatorFn=rt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Q}get invalid(){return this.status===J}get pending(){return this.status==X}get disabled(){return this.status===tt}get enabled(){return this.status!==tt}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=nt(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=rt(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=X,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=tt,this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Q,this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==Q&&this.status!==X||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?tt:Q}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=X,this._hasOwnPendingAsyncValidator=!0;const e=C(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(e,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let i=t;return e.forEach(t=>{i=i instanceof lt?i.controls.hasOwnProperty(t)?i.controls[t]:null:i instanceof ct&&i.at(t)||null}),i}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new i.vpe,this.statusChanges=new i.vpe}_calculateStatus(){return this._allControlsDisabled()?tt:this.errors?J:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(X)?X:this._anyControlsHaveStatus(J)?J:Q}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){st(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class at extends ot{constructor(t=null,e,n){super(et(e),it(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){K(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){K(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class lt extends ot{constructor(t,e,n){super(et(e),it(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,n={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((n,i)=>{n.reset(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof at?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const n=this.controls[e];n&&t(n,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const n=this.controls[e];if(this.contains(e)&&t(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,i)=>{n=e(n,t,i)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class ct extends ot{constructor(t,e,n){super(et(e),it(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[t]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,n={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent})}removeAt(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((n,i)=>{n.reset(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof at?t.value:t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const ut={provide:N,useExisting:(0,i.Gpc)(()=>dt)},ht=(()=>Promise.resolve(null))();let dt=(()=>{class t extends N{constructor(t,e){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new i.vpe,this.form=new lt({},T(t),A(e))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){ht.then(()=>{const e=this._findContainer(t.path);t.control=e.registerControl(t.name,t.control),U(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){ht.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name),K(this._directives,t)})}addFormGroup(t){ht.then(()=>{const e=this._findContainer(t.path),n=new lt({});$(n,t),e.registerControl(t.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){ht.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,e){ht.then(()=>{this.form.get(t.path).setValue(e)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,Y(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(g,10),i.Y36(_,10))},t.\u0275dir=i.lG2({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,e){1&t&&i.NdJ("submit",function(t){return e.onSubmit(t)})("reset",function(){return e.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[i._Bn([ut]),i.qOj]}),t})();const pt={provide:F,useExisting:(0,i.Gpc)(()=>mt)},ft=(()=>Promise.resolve(null))();let mt=(()=>{class t extends F{constructor(t,e,n,r){super(),this.control=new at,this._registered=!1,this.update=new i.vpe,this._parent=t,this._setValidators(e),this._setAsyncValidators(n),this.valueAccessor=W(0,r)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),Z(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?V(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){U(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){ft.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const e=t.isDisabled.currentValue,n=""===e||e&&"false"!==e;ft.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(N,9),i.Y36(g,10),i.Y36(_,10),i.Y36(u,10))},t.\u0275dir=i.lG2({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[i._Bn([pt]),i.qOj,i.TTD]}),t})(),gt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.lG2({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})(),_t=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({}),t})();const yt=new i.OlP("NgModelWithFormControlWarning"),vt={provide:F,useExisting:(0,i.Gpc)(()=>bt)};let bt=(()=>{class t extends F{constructor(t,e,n,r){super(),this._ngModelWarningConfig=r,this.update=new i.vpe,this._ngModelWarningSent=!1,this._setValidators(t),this._setAsyncValidators(e),this.valueAccessor=W(0,n)}set isDisabled(t){}ngOnChanges(t){if(this._isControlChanged(t)){const e=t.form.previousValue;e&&j(e,this,!1),U(this.form,this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this.form.updateValueAndValidity({emitEvent:!1})}Z(t,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&j(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_isControlChanged(t){return t.hasOwnProperty("form")}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(g,10),i.Y36(_,10),i.Y36(u,10),i.Y36(yt,8))},t.\u0275dir=i.lG2({type:t,selectors:[["","formControl",""]],inputs:{isDisabled:["disabled","isDisabled"],form:["formControl","form"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[i._Bn([vt]),i.qOj,i.TTD]}),t._ngModelWarningSentOnce=!1,t})();const wt={provide:N,useExisting:(0,i.Gpc)(()=>Ct)};let Ct=(()=>{class t extends N{constructor(t,e){super(),this.validators=t,this.asyncValidators=e,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new i.vpe,this._setValidators(t),this._setAsyncValidators(e)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(H(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const e=this.form.get(t.path);return U(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}getControl(t){return this.form.get(t.path)}removeControl(t){j(t.control||null,t,!1),K(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,e){this.form.get(t.path).setValue(e)}onSubmit(t){return this.submitted=!0,Y(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const e=t.control,n=this.form.get(t.path);e!==n&&(j(e||null,t),n instanceof at&&(U(n,t),t.control=n))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const e=this.form.get(t.path);$(e,t),e.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const e=this.form.get(t.path);e&&function(t,e){return H(t,e)}(e,t)&&e.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){z(this.form,this),this._oldForm&&H(this._oldForm,this)}_checkFormPresent(){}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(g,10),i.Y36(_,10))},t.\u0275dir=i.lG2({type:t,selectors:[["","formGroup",""]],hostBindings:function(t,e){1&t&&i.NdJ("submit",function(t){return e.onSubmit(t)})("reset",function(){return e.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[i._Bn([wt]),i.qOj,i.TTD]}),t})();const Et={provide:F,useExisting:(0,i.Gpc)(()=>St)};let St=(()=>{class t extends F{constructor(t,e,n,r,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.update=new i.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(e),this._setAsyncValidators(n),this.valueAccessor=W(0,r)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),Z(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return V(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(N,13),i.Y36(g,10),i.Y36(_,10),i.Y36(u,10),i.Y36(yt,8))},t.\u0275dir=i.lG2({type:t,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[i._Bn([Et]),i.qOj,i.TTD]}),t._ngModelWarningSentOnce=!1,t})(),xt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[[_t]]}),t})(),kt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[xt]}),t})(),Tt=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:yt,useValue:e.warnOnNgModelWithFormControl}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[xt]}),t})(),It=(()=>{class t{group(t,e=null){const n=this._reduceControls(t);let i,r=null,s=null;return null!=e&&(function(t){return void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn}(e)?(r=null!=e.validators?e.validators:null,s=null!=e.asyncValidators?e.asyncValidators:null,i=null!=e.updateOn?e.updateOn:void 0):(r=null!=e.validator?e.validator:null,s=null!=e.asyncValidator?e.asyncValidator:null)),new lt(n,{asyncValidators:s,updateOn:i,validators:r})}control(t,e,n){return new at(t,e,n)}array(t,e,n){const i=t.map(t=>this._createControl(t));return new ct(i,e,n)}_reduceControls(t){const e={};return Object.keys(t).forEach(n=>{e[n]=this._createControl(t[n])}),e}_createControl(t){return t instanceof at||t instanceof lt||t instanceof ct?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=(0,i.Yz7)({factory:function(){return new t},token:t,providedIn:Tt}),t})()},4411:(t,e,n)=>{"use strict";n.d(e,{ch:()=>T,_r:()=>S,oL:()=>x});var i=n(5333),r=n(2151),s=n(5366),o=n(7064),a=n(4546),l=n(9713),c=n(1116),u=n(3169),h=n(4720),d=n(5959),p=n(1906),f=n(878),m=n(9235),g=n(3835),_=n(611),y=n(7388);function v(t,e){}const b=new s.OlP("MatBottomSheetData");class w{constructor(){this.data=null,this.hasBackdrop=!0,this.disableClose=!1,this.ariaLabel=null,this.closeOnNavigation=!0,this.autoFocus=!1,this.restoreFocus=!0}}const C={bottomSheetState:(0,l.X$)("state",[(0,l.SB)("void, hidden",(0,l.oB)({transform:"translateY(100%)"})),(0,l.SB)("visible",(0,l.oB)({transform:"translateY(0%)"})),(0,l.eR)("visible => void, visible => hidden",(0,l.jt)(`${o.mZ.COMPLEX} ${o.yN.ACCELERATION_CURVE}`)),(0,l.eR)("void => visible",(0,l.jt)(`${o.mZ.EXITING} ${o.yN.DECELERATION_CURVE}`))])};let E=(()=>{class t extends r.en{constructor(t,e,n,i,r,o){super(),this._elementRef=t,this._changeDetectorRef=e,this._focusTrapFactory=n,this.bottomSheetConfig=o,this._animationState="void",this._animationStateChanged=new s.vpe,this._elementFocusedBeforeOpened=null,this.attachDomPortal=t=>(this._validatePortalAttached(),this._setPanelClass(),this._savePreviouslyFocusedElement(),this._portalOutlet.attachDomPortal(t)),this._document=r,this._breakpointSubscription=i.observe([a.u3.Medium,a.u3.Large,a.u3.XLarge]).subscribe(()=>{this._toggleClass("mat-bottom-sheet-container-medium",i.isMatched(a.u3.Medium)),this._toggleClass("mat-bottom-sheet-container-large",i.isMatched(a.u3.Large)),this._toggleClass("mat-bottom-sheet-container-xlarge",i.isMatched(a.u3.XLarge))})}attachComponentPortal(t){return this._validatePortalAttached(),this._setPanelClass(),this._savePreviouslyFocusedElement(),this._portalOutlet.attachComponentPortal(t)}attachTemplatePortal(t){return this._validatePortalAttached(),this._setPanelClass(),this._savePreviouslyFocusedElement(),this._portalOutlet.attachTemplatePortal(t)}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges())}exit(){this._destroyed||(this._animationState="hidden",this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._breakpointSubscription.unsubscribe(),this._destroyed=!0}_onAnimationDone(t){"hidden"===t.toState?this._restoreFocus():"visible"===t.toState&&this._trapFocus(),this._animationStateChanged.emit(t)}_onAnimationStart(t){this._animationStateChanged.emit(t)}_toggleClass(t,e){const n=this._elementRef.nativeElement.classList;e?n.add(t):n.remove(t)}_validatePortalAttached(){this._portalOutlet.hasAttached()}_setPanelClass(){const t=this._elementRef.nativeElement,e=this.bottomSheetConfig.panelClass;Array.isArray(e)?e.forEach(e=>t.classList.add(e)):e&&t.classList.add(e)}_trapFocus(){const t=this._elementRef.nativeElement;if(this._focusTrap||(this._focusTrap=this._focusTrapFactory.create(t)),this.bottomSheetConfig.autoFocus)this._focusTrap.focusInitialElementWhenReady();else{const e=(0,u.ht)();e===t||t.contains(e)||t.focus()}}_restoreFocus(){const t=this._elementFocusedBeforeOpened;if(this.bottomSheetConfig.restoreFocus&&t&&"function"==typeof t.focus){const e=(0,u.ht)(),n=this._elementRef.nativeElement;e&&e!==this._document.body&&e!==n&&!n.contains(e)||t.focus()}this._focusTrap&&this._focusTrap.destroy()}_savePreviouslyFocusedElement(){this._elementFocusedBeforeOpened=(0,u.ht)(),this._elementRef.nativeElement.focus&&Promise.resolve().then(()=>this._elementRef.nativeElement.focus())}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(s.SBq),s.Y36(s.sBO),s.Y36(y.qV),s.Y36(a.Yg),s.Y36(c.K0,8),s.Y36(w))},t.\u0275cmp=s.Xpm({type:t,selectors:[["mat-bottom-sheet-container"]],viewQuery:function(t,e){if(1&t&&s.Gf(r.Pl,7),2&t){let t;s.iGM(t=s.CRH())&&(e._portalOutlet=t.first)}},hostAttrs:["tabindex","-1","role","dialog","aria-modal","true",1,"mat-bottom-sheet-container"],hostVars:2,hostBindings:function(t,e){1&t&&s.WFA("@state.start",function(t){return e._onAnimationStart(t)})("@state.done",function(t){return e._onAnimationDone(t)}),2&t&&(s.uIk("aria-label",null==e.bottomSheetConfig?null:e.bottomSheetConfig.ariaLabel),s.d8E("@state",e._animationState))},features:[s.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,e){1&t&&s.YNc(0,v,0,0,"ng-template",0)},directives:[r.Pl],styles:[".mat-bottom-sheet-container{padding:8px 16px;min-width:100vw;box-sizing:border-box;display:block;outline:0;max-height:80vh;overflow:auto}.cdk-high-contrast-active .mat-bottom-sheet-container{outline:1px solid}.mat-bottom-sheet-container-xlarge,.mat-bottom-sheet-container-large,.mat-bottom-sheet-container-medium{border-top-left-radius:4px;border-top-right-radius:4px}.mat-bottom-sheet-container-medium{min-width:384px;max-width:calc(100vw - 128px)}.mat-bottom-sheet-container-large{min-width:512px;max-width:calc(100vw - 256px)}.mat-bottom-sheet-container-xlarge{min-width:576px;max-width:calc(100vw - 384px)}\n"],encapsulation:2,data:{animation:[C.bottomSheetState]}}),t})(),S=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[i.U8,o.BQ,r.eL],o.BQ]}),t})();class x{constructor(t,e){this._overlayRef=e,this._afterDismissed=new d.xQ,this._afterOpened=new d.xQ,this.containerInstance=t,this.disableClose=t.bottomSheetConfig.disableClose,t._animationStateChanged.pipe((0,g.h)(t=>"done"===t.phaseName&&"visible"===t.toState),(0,_.q)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),t._animationStateChanged.pipe((0,g.h)(t=>"done"===t.phaseName&&"hidden"===t.toState),(0,_.q)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),e.dispose()}),e.detachments().pipe((0,_.q)(1)).subscribe(()=>{this._afterDismissed.next(this._result),this._afterDismissed.complete()}),(0,p.T)(e.backdropClick(),e.keydownEvents().pipe((0,g.h)(t=>t.keyCode===m.hY))).subscribe(t=>{this.disableClose||"keydown"===t.type&&(0,m.Vb)(t)||(t.preventDefault(),this.dismiss())})}dismiss(t){this._afterDismissed.closed||(this.containerInstance._animationStateChanged.pipe((0,g.h)(t=>"start"===t.phaseName),(0,_.q)(1)).subscribe(t=>{this._closeFallbackTimeout=setTimeout(()=>{this._overlayRef.dispose()},t.totalTime+100),this._overlayRef.detachBackdrop()}),this._result=t,this.containerInstance.exit())}afterDismissed(){return this._afterDismissed}afterOpened(){return this._afterOpened}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}}const k=new s.OlP("mat-bottom-sheet-default-options");let T=(()=>{class t{constructor(t,e,n,i){this._overlay=t,this._injector=e,this._parentBottomSheet=n,this._defaultOptions=i,this._bottomSheetRefAtThisLevel=null}get _openedBottomSheetRef(){const t=this._parentBottomSheet;return t?t._openedBottomSheetRef:this._bottomSheetRefAtThisLevel}set _openedBottomSheetRef(t){this._parentBottomSheet?this._parentBottomSheet._openedBottomSheetRef=t:this._bottomSheetRefAtThisLevel=t}open(t,e){const n=function(t,e){return Object.assign(Object.assign({},t),e)}(this._defaultOptions||new w,e),i=this._createOverlay(n),o=this._attachContainer(i,n),a=new x(o,i);if(t instanceof s.Rgc)o.attachTemplatePortal(new r.UE(t,null,{$implicit:n.data,bottomSheetRef:a}));else{const e=new r.C5(t,void 0,this._createInjector(n,a)),i=o.attachComponentPortal(e);a.instance=i.instance}return a.afterDismissed().subscribe(()=>{this._openedBottomSheetRef==a&&(this._openedBottomSheetRef=null)}),this._openedBottomSheetRef?(this._openedBottomSheetRef.afterDismissed().subscribe(()=>a.containerInstance.enter()),this._openedBottomSheetRef.dismiss()):a.containerInstance.enter(),this._openedBottomSheetRef=a,a}dismiss(t){this._openedBottomSheetRef&&this._openedBottomSheetRef.dismiss(t)}ngOnDestroy(){this._bottomSheetRefAtThisLevel&&this._bottomSheetRefAtThisLevel.dismiss()}_attachContainer(t,e){const n=s.zs3.create({parent:e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,providers:[{provide:w,useValue:e}]}),i=new r.C5(E,e.viewContainerRef,n);return t.attach(i).instance}_createOverlay(t){const e=new i.X_({direction:t.direction,hasBackdrop:t.hasBackdrop,disposeOnNavigation:t.closeOnNavigation,maxWidth:"100%",scrollStrategy:t.scrollStrategy||this._overlay.scrollStrategies.block(),positionStrategy:this._overlay.position().global().centerHorizontally().bottom("0")});return t.backdropClass&&(e.backdropClass=t.backdropClass),this._overlay.create(e)}_createInjector(t,e){const n=t&&t.viewContainerRef&&t.viewContainerRef.injector,i=[{provide:x,useValue:e},{provide:b,useValue:t.data}];return!t.direction||n&&n.get(h.Is,null,s.XFs.Optional)||i.push({provide:h.Is,useValue:{value:t.direction,change:(0,f.of)()}}),s.zs3.create({parent:n||this._injector,providers:i})}}return t.\u0275fac=function(e){return new(e||t)(s.LFG(i.aV),s.LFG(s.zs3),s.LFG(t,12),s.LFG(k,8))},t.\u0275prov=s.Yz7({factory:function(){return new t(s.LFG(i.aV),s.LFG(s.gxx),s.LFG(t,12),s.LFG(k,8))},token:t,providedIn:S}),t})()},2762:(t,e,n)=>{"use strict";n.d(e,{Yi:()=>y,A9:()=>g,vV:()=>v});var i=n(9861),r=n(8378),s=n(5366),o=n(1041),a=n(7064),l=n(7388);const c=["button"],u=["*"],h=new s.OlP("MAT_BUTTON_TOGGLE_DEFAULT_OPTIONS"),d=new s.OlP("MatButtonToggleGroup"),p={provide:o.JU,useExisting:(0,s.Gpc)(()=>g),multi:!0};let f=0;class m{constructor(t,e){this.source=t,this.value=e}}let g=(()=>{class t{constructor(t,e){this._changeDetector=t,this._vertical=!1,this._multiple=!1,this._disabled=!1,this._controlValueAccessorChangeFn=()=>{},this._onTouched=()=>{},this._name="mat-button-toggle-group-"+f++,this.valueChange=new s.vpe,this.change=new s.vpe,this.appearance=e&&e.appearance?e.appearance:"standard"}get name(){return this._name}set name(t){this._name=t,this._buttonToggles&&this._buttonToggles.forEach(t=>{t.name=this._name,t._markForCheck()})}get vertical(){return this._vertical}set vertical(t){this._vertical=(0,i.Ig)(t)}get value(){const t=this._selectionModel?this._selectionModel.selected:[];return this.multiple?t.map(t=>t.value):t[0]?t[0].value:void 0}set value(t){this._setSelectionByValue(t),this.valueChange.emit(this.value)}get selected(){const t=this._selectionModel?this._selectionModel.selected:[];return this.multiple?t:t[0]||null}get multiple(){return this._multiple}set multiple(t){this._multiple=(0,i.Ig)(t)}get disabled(){return this._disabled}set disabled(t){this._disabled=(0,i.Ig)(t),this._buttonToggles&&this._buttonToggles.forEach(t=>t._markForCheck())}ngOnInit(){this._selectionModel=new r.Ov(this.multiple,void 0,!1)}ngAfterContentInit(){this._selectionModel.select(...this._buttonToggles.filter(t=>t.checked))}writeValue(t){this.value=t,this._changeDetector.markForCheck()}registerOnChange(t){this._controlValueAccessorChangeFn=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t}_emitChangeEvent(){const t=this.selected,e=Array.isArray(t)?t[t.length-1]:t,n=new m(e,this.value);this._controlValueAccessorChangeFn(n.value),this.change.emit(n)}_syncButtonToggle(t,e,n=!1,i=!1){this.multiple||!this.selected||t.checked||(this.selected.checked=!1),this._selectionModel?e?this._selectionModel.select(t):this._selectionModel.deselect(t):i=!0,i?Promise.resolve().then(()=>this._updateModelValue(n)):this._updateModelValue(n)}_isSelected(t){return this._selectionModel&&this._selectionModel.isSelected(t)}_isPrechecked(t){return void 0!==this._rawValue&&(this.multiple&&Array.isArray(this._rawValue)?this._rawValue.some(e=>null!=t.value&&e===t.value):t.value===this._rawValue)}_setSelectionByValue(t){this._rawValue=t,this._buttonToggles&&(this.multiple&&t?(Array.isArray(t),this._clearSelection(),t.forEach(t=>this._selectValue(t))):(this._clearSelection(),this._selectValue(t)))}_clearSelection(){this._selectionModel.clear(),this._buttonToggles.forEach(t=>t.checked=!1)}_selectValue(t){const e=this._buttonToggles.find(e=>null!=e.value&&e.value===t);e&&(e.checked=!0,this._selectionModel.select(e))}_updateModelValue(t){t&&this._emitChangeEvent(),this.valueChange.emit(this.value)}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(s.sBO),s.Y36(h,8))},t.\u0275dir=s.lG2({type:t,selectors:[["mat-button-toggle-group"]],contentQueries:function(t,e,n){if(1&t&&s.Suo(n,y,5),2&t){let t;s.iGM(t=s.CRH())&&(e._buttonToggles=t)}},hostAttrs:["role","group",1,"mat-button-toggle-group"],hostVars:5,hostBindings:function(t,e){2&t&&(s.uIk("aria-disabled",e.disabled),s.ekj("mat-button-toggle-vertical",e.vertical)("mat-button-toggle-group-appearance-standard","standard"===e.appearance))},inputs:{appearance:"appearance",name:"name",vertical:"vertical",value:"value",multiple:"multiple",disabled:"disabled"},outputs:{valueChange:"valueChange",change:"change"},exportAs:["matButtonToggleGroup"],features:[s._Bn([p,{provide:d,useExisting:t}])]}),t})();const _=(0,a.Kr)(class{});let y=(()=>{class t extends _{constructor(t,e,n,i,r,o){super(),this._changeDetectorRef=e,this._elementRef=n,this._focusMonitor=i,this._isSingleSelector=!1,this._checked=!1,this.ariaLabelledby=null,this._disabled=!1,this.change=new s.vpe;const a=Number(r);this.tabIndex=a||0===a?a:null,this.buttonToggleGroup=t,this.appearance=o&&o.appearance?o.appearance:"standard"}get buttonId(){return`${this.id}-button`}get appearance(){return this.buttonToggleGroup?this.buttonToggleGroup.appearance:this._appearance}set appearance(t){this._appearance=t}get checked(){return this.buttonToggleGroup?this.buttonToggleGroup._isSelected(this):this._checked}set checked(t){const e=(0,i.Ig)(t);e!==this._checked&&(this._checked=e,this.buttonToggleGroup&&this.buttonToggleGroup._syncButtonToggle(this,this._checked),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled||this.buttonToggleGroup&&this.buttonToggleGroup.disabled}set disabled(t){this._disabled=(0,i.Ig)(t)}ngOnInit(){const t=this.buttonToggleGroup;this._isSingleSelector=t&&!t.multiple,this.id=this.id||"mat-button-toggle-"+f++,this._isSingleSelector&&(this.name=t.name),t&&(t._isPrechecked(this)?this.checked=!0:t._isSelected(this)!==this._checked&&t._syncButtonToggle(this,this._checked))}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){const t=this.buttonToggleGroup;this._focusMonitor.stopMonitoring(this._elementRef),t&&t._isSelected(this)&&t._syncButtonToggle(this,!1,!1,!0)}focus(t){this._buttonElement.nativeElement.focus(t)}_onButtonClick(){const t=!!this._isSingleSelector||!this._checked;t!==this._checked&&(this._checked=t,this.buttonToggleGroup&&(this.buttonToggleGroup._syncButtonToggle(this,this._checked,!0),this.buttonToggleGroup._onTouched())),this.change.emit(new m(this,this.value))}_markForCheck(){this._changeDetectorRef.markForCheck()}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(d,8),s.Y36(s.sBO),s.Y36(s.SBq),s.Y36(l.tE),s.$8M("tabindex"),s.Y36(h,8))},t.\u0275cmp=s.Xpm({type:t,selectors:[["mat-button-toggle"]],viewQuery:function(t,e){if(1&t&&s.Gf(c,5),2&t){let t;s.iGM(t=s.CRH())&&(e._buttonElement=t.first)}},hostAttrs:["role","presentation",1,"mat-button-toggle"],hostVars:12,hostBindings:function(t,e){1&t&&s.NdJ("focus",function(){return e.focus()}),2&t&&(s.uIk("aria-label",null)("aria-labelledby",null)("id",e.id)("name",null),s.ekj("mat-button-toggle-standalone",!e.buttonToggleGroup)("mat-button-toggle-checked",e.checked)("mat-button-toggle-disabled",e.disabled)("mat-button-toggle-appearance-standard","standard"===e.appearance))},inputs:{disableRipple:"disableRipple",ariaLabelledby:["aria-labelledby","ariaLabelledby"],tabIndex:"tabIndex",appearance:"appearance",checked:"checked",disabled:"disabled",id:"id",name:"name",ariaLabel:["aria-label","ariaLabel"],value:"value"},outputs:{change:"change"},exportAs:["matButtonToggle"],features:[s.qOj],ngContentSelectors:u,decls:6,vars:9,consts:[["type","button",1,"mat-button-toggle-button","mat-focus-indicator",3,"id","disabled","click"],["button",""],[1,"mat-button-toggle-label-content"],[1,"mat-button-toggle-focus-overlay"],["matRipple","",1,"mat-button-toggle-ripple",3,"matRippleTrigger","matRippleDisabled"]],template:function(t,e){if(1&t&&(s.F$t(),s.TgZ(0,"button",0,1),s.NdJ("click",function(){return e._onButtonClick()}),s.TgZ(2,"span",2),s.Hsn(3),s.qZA(),s.qZA(),s._UZ(4,"span",3),s._UZ(5,"span",4)),2&t){const t=s.MAs(1);s.Q6J("id",e.buttonId)("disabled",e.disabled||null),s.uIk("tabindex",e.disabled?-1:e.tabIndex)("aria-pressed",e.checked)("name",e.name||null)("aria-label",e.ariaLabel)("aria-labelledby",e.ariaLabelledby),s.xp6(5),s.Q6J("matRippleTrigger",t)("matRippleDisabled",e.disableRipple||e.disabled)}},directives:[a.wG],styles:[".mat-button-toggle-standalone,.mat-button-toggle-group{position:relative;display:inline-flex;flex-direction:row;white-space:nowrap;overflow:hidden;border-radius:2px;-webkit-tap-highlight-color:transparent}.cdk-high-contrast-active .mat-button-toggle-standalone,.cdk-high-contrast-active .mat-button-toggle-group{outline:solid 1px}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.mat-button-toggle-group-appearance-standard{border-radius:4px}.cdk-high-contrast-active .mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.cdk-high-contrast-active .mat-button-toggle-group-appearance-standard{outline:0}.mat-button-toggle-vertical{flex-direction:column}.mat-button-toggle-vertical .mat-button-toggle-label-content{display:block}.mat-button-toggle{white-space:nowrap;position:relative}.mat-button-toggle .mat-icon svg{vertical-align:top}.mat-button-toggle.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:1}.cdk-high-contrast-active .mat-button-toggle.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:.5}.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{opacity:.04}.mat-button-toggle-appearance-standard.cdk-keyboard-focused:not(.mat-button-toggle-disabled) .mat-button-toggle-focus-overlay{opacity:.12}.cdk-high-contrast-active .mat-button-toggle-appearance-standard.cdk-keyboard-focused:not(.mat-button-toggle-disabled) .mat-button-toggle-focus-overlay{opacity:.5}@media(hover: none){.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{display:none}}.mat-button-toggle-label-content{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;display:inline-block;line-height:36px;padding:0 16px;position:relative}.mat-button-toggle-appearance-standard .mat-button-toggle-label-content{padding:0 12px}.mat-button-toggle-label-content>*{vertical-align:middle}.mat-button-toggle-focus-overlay{border-radius:inherit;pointer-events:none;opacity:0;top:0;left:0;right:0;bottom:0;position:absolute}.mat-button-toggle-checked .mat-button-toggle-focus-overlay{border-bottom:solid 36px}.cdk-high-contrast-active .mat-button-toggle-checked .mat-button-toggle-focus-overlay{opacity:.5;height:0}.cdk-high-contrast-active .mat-button-toggle-checked.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{border-bottom:solid 500px}.mat-button-toggle .mat-button-toggle-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-button-toggle-button{border:0;background:none;color:inherit;padding:0;margin:0;font:inherit;outline:none;width:100%;cursor:pointer}.mat-button-toggle-disabled .mat-button-toggle-button{cursor:default}.mat-button-toggle-button::-moz-focus-inner{border:0}\n"],encapsulation:2,changeDetection:0}),t})(),v=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[a.BQ,a.si],a.BQ]}),t})()},4369:(t,e,n)=>{"use strict";n.d(e,{lW:()=>h,ot:()=>d});var i=n(7064),r=n(6136),s=n(5366),o=n(7388);const a=["mat-button",""],l=["*"],c=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],u=(0,i.pj)((0,i.Id)((0,i.Kr)(class{constructor(t){this._elementRef=t}})));let h=(()=>{class t extends u{constructor(t,e,n){super(t),this._focusMonitor=e,this._animationMode=n,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const i of c)this._hasHostAttributes(i)&&this._getHostElement().classList.add(i);t.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t,e){t?this._focusMonitor.focusVia(this._getHostElement(),t,e):this._getHostElement().focus(e)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(t=>this._getHostElement().hasAttribute(t))}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(s.SBq),s.Y36(o.tE),s.Y36(r.Qb,8))},t.\u0275cmp=s.Xpm({type:t,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,e){if(1&t&&s.Gf(i.wG,5),2&t){let t;s.iGM(t=s.CRH())&&(e.ripple=t.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(t,e){2&t&&(s.uIk("disabled",e.disabled||null),s.ekj("_mat-animation-noopable","NoopAnimations"===e._animationMode)("mat-button-disabled",e.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[s.qOj],attrs:a,ngContentSelectors:l,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,e){1&t&&(s.F$t(),s.TgZ(0,"span",0),s.Hsn(1),s.qZA(),s._UZ(2,"span",1),s._UZ(3,"span",2)),2&t&&(s.xp6(2),s.ekj("mat-button-ripple-round",e.isRoundButton||e.isIconButton),s.Q6J("matRippleDisabled",e._isRippleDisabled())("matRippleCentered",e.isIconButton)("matRippleTrigger",e._getHostElement()))},directives:[i.wG],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),t})(),d=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[i.si,i.BQ],i.BQ]}),t})()},2797:(t,e,n)=>{"use strict";n.d(e,{a8:()=>d,hq:()=>u,dn:()=>l,G2:()=>h,QW:()=>p,n5:()=>c});var i=n(6136),r=n(7064),s=n(5366);const o=["*",[["mat-card-footer"]]],a=["*","mat-card-footer"];let l=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=s.lG2({type:t,selectors:[["mat-card-content"],["","mat-card-content",""],["","matCardContent",""]],hostAttrs:[1,"mat-card-content"]}),t})(),c=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=s.lG2({type:t,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-card-title"]}),t})(),u=(()=>{class t{constructor(){this.align="start"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=s.lG2({type:t,selectors:[["mat-card-actions"]],hostAttrs:[1,"mat-card-actions"],hostVars:2,hostBindings:function(t,e){2&t&&s.ekj("mat-card-actions-align-end","end"===e.align)},inputs:{align:"align"},exportAs:["matCardActions"]}),t})(),h=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=s.lG2({type:t,selectors:[["","mat-card-image",""],["","matCardImage",""]],hostAttrs:[1,"mat-card-image"]}),t})(),d=(()=>{class t{constructor(t){this._animationMode=t}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(i.Qb,8))},t.\u0275cmp=s.Xpm({type:t,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(t,e){2&t&&s.ekj("_mat-animation-noopable","NoopAnimations"===e._animationMode)},exportAs:["matCard"],ngContentSelectors:a,decls:2,vars:0,template:function(t,e){1&t&&(s.F$t(o),s.Hsn(0),s.Hsn(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}._mat-animation-noopable.mat-card{transition:none;animation:none}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}\n"],encapsulation:2,changeDetection:0}),t})(),p=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[r.BQ],r.BQ]}),t})()},7064:(t,e,n)=>{"use strict";n.d(e,{yN:()=>_,mZ:()=>y,rD:()=>I,K7:()=>Y,HF:()=>H,Y2:()=>V,BQ:()=>C,X2:()=>A,uc:()=>O,ey:()=>J,Ng:()=>et,nP:()=>q,us:()=>z,wG:()=>U,si:()=>j,IR:()=>B,CB:()=>X,jH:()=>tt,pj:()=>S,Kr:()=>x,Id:()=>E,FD:()=>T,sb:()=>k,E0:()=>D});var i=n(5366),r=n(7388),s=n(4720);const o=new i.GfV("12.2.6");var a=n(1116),l=n(9861),c=n(5959),u=n(3169),h=n(6238),d=n(6136),p=n(9235);function f(t,e){if(1&t&&i._UZ(0,"mat-pseudo-checkbox",4),2&t){const t=i.oxw();i.Q6J("state",t.selected?"checked":"unchecked")("disabled",t.disabled)}}function m(t,e){if(1&t&&(i.TgZ(0,"span",5),i._uU(1),i.qZA()),2&t){const t=i.oxw();i.xp6(1),i.hij("(",t.group.label,")")}}const g=["*"];let _=(()=>{class t{}return t.STANDARD_CURVE="cubic-bezier(0.4,0.0,0.2,1)",t.DECELERATION_CURVE="cubic-bezier(0.0,0.0,0.2,1)",t.ACCELERATION_CURVE="cubic-bezier(0.4,0.0,1,1)",t.SHARP_CURVE="cubic-bezier(0.4,0.0,0.6,1)",t})(),y=(()=>{class t{}return t.COMPLEX="375ms",t.ENTERING="225ms",t.EXITING="195ms",t})();const v=new i.GfV("12.2.6"),b=new i.OlP("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let w,C=(()=>{class t{constructor(t,e,n){this._hasDoneGlobalChecks=!1,this._document=n,t._applyBodyHighContrastModeCssClasses(),this._sanityChecks=e,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_getWindow(){const t=this._document.defaultView||window;return"object"==typeof t&&t?t:null}_checkIsEnabled(t){return!(!(0,i.X6Q)()||this._isTestEnv())&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}_isTestEnv(){const t=this._getWindow();return t&&(t.__karma__||t.jasmine)}_checkDoctypeIsDefined(){this._checkIsEnabled("doctype")&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(!this._checkIsEnabled("theme")||!this._document.body||"function"!=typeof getComputedStyle)return;const t=this._document.createElement("div");t.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(t);const e=getComputedStyle(t);e&&"none"!==e.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(t)}_checkCdkVersionMatch(){this._checkIsEnabled("version")&&v.full!==o.full&&console.warn("The Angular Material version ("+v.full+") does not match the Angular CDK version ("+o.full+").\nPlease ensure the versions of these two packages exactly match.")}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(r.qm),i.LFG(b,8),i.LFG(a.K0))},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[[s.vT],s.vT]}),t})();function E(t){return class extends t{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=(0,l.Ig)(t)}}}function S(t,e){return class extends t{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const e=t||this.defaultColor;e!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),e&&this._elementRef.nativeElement.classList.add(`mat-${e}`),this._color=e)}}}function x(t){return class extends t{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=(0,l.Ig)(t)}}}function k(t,e=0){return class extends t{constructor(...t){super(...t),this._tabIndex=e,this.defaultTabIndex=e}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(t){this._tabIndex=null!=t?(0,l.su)(t):this.defaultTabIndex}}}function T(t){return class extends t{constructor(...t){super(...t),this.stateChanges=new c.xQ,this.errorState=!1}updateErrorState(){const t=this.errorState,e=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);e!==t&&(this.errorState=e,this.stateChanges.next())}}}try{w="undefined"!=typeof Intl}catch(nt){w=!1}let I=(()=>{class t{isErrorState(t,e){return!!(t&&t.invalid&&(t.touched||e&&e.submitted))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Yz7({factory:function(){return new t},token:t,providedIn:"root"}),t})(),A=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.lG2({type:t,selectors:[["","mat-line",""],["","matLine",""]],hostAttrs:[1,"mat-line"]}),t})();function D(t,e,n="mat"){t.changes.pipe((0,h.O)(t)).subscribe(({length:t})=>{R(e,`${n}-2-line`,!1),R(e,`${n}-3-line`,!1),R(e,`${n}-multi-line`,!1),2===t||3===t?R(e,`${n}-${t}-line`,!0):t>3&&R(e,`${n}-multi-line`,!0)})}function R(t,e,n){const i=t.nativeElement.classList;n?i.add(e):i.remove(e)}let O=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[[C],C]}),t})();class P{constructor(t,e,n){this._renderer=t,this.element=e,this.config=n,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const N={enterDuration:225,exitDuration:150},F=(0,u.i$)({passive:!0}),L=["mousedown","touchstart"],M=["mouseup","mouseleave","touchend","touchcancel"];class B{constructor(t,e,n,i){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=(0,l.fI)(n))}fadeInRipple(t,e,n={}){const i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),r=Object.assign(Object.assign({},N),n.animation);n.centered&&(t=i.left+i.width/2,e=i.top+i.height/2);const s=n.radius||function(t,e,n){const i=Math.max(Math.abs(t-n.left),Math.abs(t-n.right)),r=Math.max(Math.abs(e-n.top),Math.abs(e-n.bottom));return Math.sqrt(i*i+r*r)}(t,e,i),o=t-i.left,a=e-i.top,l=r.enterDuration,c=document.createElement("div");c.classList.add("mat-ripple-element"),c.style.left=o-s+"px",c.style.top=a-s+"px",c.style.height=2*s+"px",c.style.width=2*s+"px",null!=n.color&&(c.style.backgroundColor=n.color),c.style.transitionDuration=`${l}ms`,this._containerElement.appendChild(c),window.getComputedStyle(c).getPropertyValue("opacity"),c.style.transform="scale(1)";const u=new P(this,c,n);return u.state=0,this._activeRipples.add(u),n.persistent||(this._mostRecentTransientRipple=u),this._runTimeoutOutsideZone(()=>{const t=u===this._mostRecentTransientRipple;u.state=1,n.persistent||t&&this._isPointerDown||u.fadeOut()},l),u}fadeOutRipple(t){const e=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!e)return;const n=t.element,i=Object.assign(Object.assign({},N),t.config.animation);n.style.transitionDuration=`${i.exitDuration}ms`,n.style.opacity="0",t.state=2,this._runTimeoutOutsideZone(()=>{t.state=3,n.parentNode.removeChild(n)},i.exitDuration)}fadeOutAll(){this._activeRipples.forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=(0,l.fI)(t);e&&e!==this._triggerElement&&(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(L))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(M),this._pointerUpEventsRegistered=!0)}_onMousedown(t){const e=(0,r.X6)(t),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;this._target.rippleDisabled||e||n||(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!(0,r.yG)(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let t=0;t<e.length;t++)this.fadeInRipple(e[t].clientX,e[t].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._activeRipples.forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_runTimeoutOutsideZone(t,e=0){this._ngZone.runOutsideAngular(()=>setTimeout(t,e))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(t=>{this._triggerElement.addEventListener(t,this,F)})})}_removeTriggerEvents(){this._triggerElement&&(L.forEach(t=>{this._triggerElement.removeEventListener(t,this,F)}),this._pointerUpEventsRegistered&&M.forEach(t=>{this._triggerElement.removeEventListener(t,this,F)}))}}const V=new i.OlP("mat-ripple-global-options");let U=(()=>{class t{constructor(t,e,n,i,r){this._elementRef=t,this._animationMode=r,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=i||{},this._rippleRenderer=new B(this,e,t,n)}get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,e=0,n){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,e,Object.assign(Object.assign({},this.rippleConfig),n)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),t))}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.SBq),i.Y36(i.R0b),i.Y36(u.t4),i.Y36(V,8),i.Y36(d.Qb,8))},t.\u0275dir=i.lG2({type:t,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,e){2&t&&i.ekj("mat-ripple-unbounded",e.unbounded)},inputs:{radius:["matRippleRadius","radius"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"],color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],animation:["matRippleAnimation","animation"]},exportAs:["matRipple"]}),t})(),j=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[[C,u.ud],C]}),t})(),q=(()=>{class t{constructor(t){this._animationMode=t,this.state="unchecked",this.disabled=!1}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(d.Qb,8))},t.\u0275cmp=i.Xpm({type:t,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(t,e){2&t&&i.ekj("mat-pseudo-checkbox-indeterminate","indeterminate"===e.state)("mat-pseudo-checkbox-checked","checked"===e.state)("mat-pseudo-checkbox-disabled",e.disabled)("_mat-animation-noopable","NoopAnimations"===e._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(t,e){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:transparent}._mat-animation-noopable.mat-pseudo-checkbox{transition:none;animation:none}._mat-animation-noopable.mat-pseudo-checkbox::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}\n'],encapsulation:2,changeDetection:0}),t})(),z=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[[C]]}),t})();const H=new i.OlP("MAT_OPTION_PARENT_COMPONENT"),G=E(class{});let $=0,Z=(()=>{class t extends G{constructor(t){var e;super(),this._labelId="mat-optgroup-label-"+$++,this._inert=null!==(e=null==t?void 0:t.inertGroups)&&void 0!==e&&e}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(H,8))},t.\u0275dir=i.lG2({type:t,inputs:{label:"label"},features:[i.qOj]}),t})();const Y=new i.OlP("MatOptgroup");let W=0;class K{constructor(t,e=!1){this.source=t,this.isUserInput=e}}let Q=(()=>{class t{constructor(t,e,n,r){this._element=t,this._changeDetectorRef=e,this._parent=n,this.group=r,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+W++,this.onSelectionChange=new i.vpe,this._stateChanges=new c.xQ}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(t){this._disabled=(0,l.Ig)(t)}get disableRipple(){return this._parent&&this._parent.disableRipple}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(t,e){const n=this._getHostElement();"function"==typeof n.focus&&n.focus(e)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(t){t.keyCode!==p.K5&&t.keyCode!==p.L_||(0,p.Vb)(t)||(this._selectViaInteraction(),t.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const t=this.viewValue;t!==this._mostRecentViewValue&&(this._mostRecentViewValue=t,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(t=!1){this.onSelectionChange.emit(new K(this,t))}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.SBq),i.Y36(i.sBO),i.Y36(void 0),i.Y36(Z))},t.\u0275dir=i.lG2({type:t,inputs:{id:"id",disabled:"disabled",value:"value"},outputs:{onSelectionChange:"onSelectionChange"}}),t})(),J=(()=>{class t extends Q{constructor(t,e,n,i){super(t,e,n,i)}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.SBq),i.Y36(i.sBO),i.Y36(H,8),i.Y36(Y,8))},t.\u0275cmp=i.Xpm({type:t,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(t,e){1&t&&i.NdJ("click",function(){return e._selectViaInteraction()})("keydown",function(t){return e._handleKeydown(t)}),2&t&&(i.Ikx("id",e.id),i.uIk("tabindex",e._getTabIndex())("aria-selected",e._getAriaSelected())("aria-disabled",e.disabled.toString()),i.ekj("mat-selected",e.selected)("mat-option-multiple",e.multiple)("mat-active",e.active)("mat-option-disabled",e.disabled))},exportAs:["matOption"],features:[i.qOj],ngContentSelectors:g,decls:5,vars:4,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["class","cdk-visually-hidden",4,"ngIf"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"],[1,"cdk-visually-hidden"]],template:function(t,e){1&t&&(i.F$t(),i.YNc(0,f,1,2,"mat-pseudo-checkbox",0),i.TgZ(1,"span",1),i.Hsn(2),i.qZA(),i.YNc(3,m,2,1,"span",2),i._UZ(4,"div",3)),2&t&&(i.Q6J("ngIf",e.multiple),i.xp6(3),i.Q6J("ngIf",e.group&&e.group._inert),i.xp6(1),i.Q6J("matRippleTrigger",e._getHostElement())("matRippleDisabled",e.disabled||e.disableRipple))},directives:[a.O5,U,q],styles:[".mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:transparent}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.cdk-high-contrast-active .mat-option{margin:0 1px}.cdk-high-contrast-active .mat-option.mat-active{border:solid 1px currentColor;margin:0}.cdk-high-contrast-active .mat-option[aria-disabled=true]{opacity:.5}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}\n"],encapsulation:2,changeDetection:0}),t})();function X(t,e,n){if(n.length){let i=e.toArray(),r=n.toArray(),s=0;for(let e=0;e<t+1;e++)i[e].group&&i[e].group===r[s]&&s++;return s}return 0}function tt(t,e,n,i){return t<n?t:t+e>n+i?Math.max(0,t-i+e):n}let et=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[[j,a.ez,C,z]]}),t})()},2935:(t,e,n)=>{"use strict";n.d(e,{WI:()=>T,uw:()=>O,Is:()=>P,so:()=>x});var i=n(5333),r=n(2151),s=n(5366),o=n(7064),a=n(4720),l=n(1116),c=n(5959),u=n(1450),h=n(878),d=n(3835),p=n(611),f=n(6238),m=n(3169),g=n(9713),_=n(9235),y=n(7388);function v(t,e){}class b{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus=!0,this.restoreFocus=!0,this.closeOnNavigation=!0}}const w={dialogContainer:(0,g.X$)("dialogContainer",[(0,g.SB)("void, exit",(0,g.oB)({opacity:0,transform:"scale(0.7)"})),(0,g.SB)("enter",(0,g.oB)({transform:"none"})),(0,g.eR)("* => enter",(0,g.jt)("150ms cubic-bezier(0, 0, 0.2, 1)",(0,g.oB)({transform:"none",opacity:1}))),(0,g.eR)("* => void, * => exit",(0,g.jt)("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",(0,g.oB)({opacity:0})))])};let C=(()=>{class t extends r.en{constructor(t,e,n,i,r,o){super(),this._elementRef=t,this._focusTrapFactory=e,this._changeDetectorRef=n,this._config=r,this._focusMonitor=o,this._animationStateChanged=new s.vpe,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=t=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(t)),this._ariaLabelledBy=r.ariaLabelledBy||null,this._document=i}_initializeWithAttachedContent(){this._setupFocusTrap(),this._capturePreviouslyFocusedElement(),this._focusDialogContainer()}attachComponentPortal(t){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(t)}attachTemplatePortal(t){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(t)}_recaptureFocus(){this._containsFocus()||(!this._config.autoFocus||!this._focusTrap.focusInitialElement())&&this._elementRef.nativeElement.focus()}_trapFocus(){this._config.autoFocus?this._focusTrap.focusInitialElementWhenReady():this._containsFocus()||this._elementRef.nativeElement.focus()}_restoreFocus(){const t=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&t&&"function"==typeof t.focus){const e=(0,m.ht)(),n=this._elementRef.nativeElement;e&&e!==this._document.body&&e!==n&&!n.contains(e)||(this._focusMonitor?(this._focusMonitor.focusVia(t,this._closeInteractionType),this._closeInteractionType=null):t.focus())}this._focusTrap&&this._focusTrap.destroy()}_setupFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement)}_capturePreviouslyFocusedElement(){this._document&&(this._elementFocusedBeforeDialogWasOpened=(0,m.ht)())}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const t=this._elementRef.nativeElement,e=(0,m.ht)();return t===e||t.contains(e)}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(s.SBq),s.Y36(y.qV),s.Y36(s.sBO),s.Y36(l.K0,8),s.Y36(b),s.Y36(y.tE))},t.\u0275dir=s.lG2({type:t,viewQuery:function(t,e){if(1&t&&s.Gf(r.Pl,7),2&t){let t;s.iGM(t=s.CRH())&&(e._portalOutlet=t.first)}},features:[s.qOj]}),t})(),E=(()=>{class t extends C{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:t,totalTime:e}){"enter"===t?(this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:e})):"exit"===t&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:e}))}_onAnimationStart({toState:t,totalTime:e}){"enter"===t?this._animationStateChanged.next({state:"opening",totalTime:e}):"exit"!==t&&"void"!==t||this._animationStateChanged.next({state:"closing",totalTime:e})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}}return t.\u0275fac=function(){let e;return function(n){return(e||(e=s.n5z(t)))(n||t)}}(),t.\u0275cmp=s.Xpm({type:t,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(t,e){1&t&&s.WFA("@dialogContainer.start",function(t){return e._onAnimationStart(t)})("@dialogContainer.done",function(t){return e._onAnimationDone(t)}),2&t&&(s.Ikx("id",e._id),s.uIk("role",e._config.role)("aria-labelledby",e._config.ariaLabel?null:e._ariaLabelledBy)("aria-label",e._config.ariaLabel)("aria-describedby",e._config.ariaDescribedBy||null),s.d8E("@dialogContainer",e._state))},features:[s.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,e){1&t&&s.YNc(0,v,0,0,"ng-template",0)},directives:[r.Pl],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[w.dialogContainer]}}),t})(),S=0;class x{constructor(t,e,n="mat-dialog-"+S++){this._overlayRef=t,this._containerInstance=e,this.id=n,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new c.xQ,this._afterClosed=new c.xQ,this._beforeClosed=new c.xQ,this._state=0,e._id=n,e._animationStateChanged.pipe((0,d.h)(t=>"opened"===t.state),(0,p.q)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),e._animationStateChanged.pipe((0,d.h)(t=>"closed"===t.state),(0,p.q)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),t.keydownEvents().pipe((0,d.h)(t=>t.keyCode===_.hY&&!this.disableClose&&!(0,_.Vb)(t))).subscribe(t=>{t.preventDefault(),k(this,"keyboard")}),t.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():k(this,"mouse")})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe((0,d.h)(t=>"closing"===t.state),(0,p.q)(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(t){let e=this._getPositionStrategy();return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(t="",e=""){return this._overlayRef.updateSize({width:t,height:e}),this._overlayRef.updatePosition(),this}addPanelClass(t){return this._overlayRef.addPanelClass(t),this}removePanelClass(t){return this._overlayRef.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function k(t,e,n){return void 0!==t._containerInstance&&(t._containerInstance._closeInteractionType=e),t.close(n)}const T=new s.OlP("MatDialogData"),I=new s.OlP("mat-dialog-default-options"),A=new s.OlP("mat-dialog-scroll-strategy"),D={provide:A,deps:[i.aV],useFactory:function(t){return()=>t.scrollStrategies.block()}};let R=(()=>{class t{constructor(t,e,n,i,r,s,o,a,l){this._overlay=t,this._injector=e,this._defaultOptions=n,this._parentDialog=i,this._overlayContainer=r,this._dialogRefConstructor=o,this._dialogContainerType=a,this._dialogDataToken=l,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new c.xQ,this._afterOpenedAtThisLevel=new c.xQ,this._ariaHiddenElements=new Map,this.afterAllClosed=(0,u.P)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,f.O)(void 0))),this._scrollStrategy=s}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(t,e){(e=function(t,e){return Object.assign(Object.assign({},e),t)}(e,this._defaultOptions||new b)).id&&this.getDialogById(e.id);const n=this._createOverlay(e),i=this._attachDialogContainer(n,e),r=this._attachDialogContent(t,i,n,e);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(r),r.afterClosed().subscribe(()=>this._removeOpenDialog(r)),this.afterOpened.next(r),i._initializeWithAttachedContent(),r}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(e=>e.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(t){const e=this._getOverlayConfig(t);return this._overlay.create(e)}_getOverlayConfig(t){const e=new i.X_({positionStrategy:this._overlay.position().global(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(e.backdropClass=t.backdropClass),e}_attachDialogContainer(t,e){const n=s.zs3.create({parent:e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,providers:[{provide:b,useValue:e}]}),i=new r.C5(this._dialogContainerType,e.viewContainerRef,n,e.componentFactoryResolver);return t.attach(i).instance}_attachDialogContent(t,e,n,i){const o=new this._dialogRefConstructor(n,e,i.id);if(t instanceof s.Rgc)e.attachTemplatePortal(new r.UE(t,null,{$implicit:i.data,dialogRef:o}));else{const n=this._createInjector(i,o,e),s=e.attachComponentPortal(new r.C5(t,i.viewContainerRef,n));o.componentInstance=s.instance}return o.updateSize(i.width,i.height).updatePosition(i.position),o}_createInjector(t,e,n){const i=t&&t.viewContainerRef&&t.viewContainerRef.injector,r=[{provide:this._dialogContainerType,useValue:n},{provide:this._dialogDataToken,useValue:t.data},{provide:this._dialogRefConstructor,useValue:e}];return!t.direction||i&&i.get(a.Is,null,s.XFs.Optional)||r.push({provide:a.Is,useValue:{value:t.direction,change:(0,h.of)()}}),s.zs3.create({parent:i||this._injector,providers:r})}_removeOpenDialog(t){const e=this.openDialogs.indexOf(t);e>-1&&(this.openDialogs.splice(e,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((t,e)=>{t?e.setAttribute("aria-hidden",t):e.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const t=this._overlayContainer.getContainerElement();if(t.parentElement){const e=t.parentElement.children;for(let n=e.length-1;n>-1;n--){let i=e[n];i===t||"SCRIPT"===i.nodeName||"STYLE"===i.nodeName||i.hasAttribute("aria-live")||(this._ariaHiddenElements.set(i,i.getAttribute("aria-hidden")),i.setAttribute("aria-hidden","true"))}}}_closeDialogs(t){let e=t.length;for(;e--;)t[e].close()}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(i.aV),s.Y36(s.zs3),s.Y36(void 0),s.Y36(void 0),s.Y36(i.Xj),s.Y36(void 0),s.Y36(s.DyG),s.Y36(s.DyG),s.Y36(s.OlP))},t.\u0275dir=s.lG2({type:t}),t})(),O=(()=>{class t extends R{constructor(t,e,n,i,r,s,o){super(t,e,i,s,o,r,x,E,T)}}return t.\u0275fac=function(e){return new(e||t)(s.LFG(i.aV),s.LFG(s.zs3),s.LFG(l.Ye,8),s.LFG(I,8),s.LFG(A),s.LFG(t,12),s.LFG(i.Xj))},t.\u0275prov=s.Yz7({token:t,factory:t.\u0275fac}),t})(),P=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({providers:[O,D],imports:[[i.U8,r.eL,o.BQ],o.BQ]}),t})()},6278:(t,e,n)=>{"use strict";n.d(e,{d:()=>o,t:()=>a});var i=n(9861),r=n(7064),s=n(5366);let o=(()=>{class t{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(t){this._vertical=(0,i.Ig)(t)}get inset(){return this._inset}set inset(t){this._inset=(0,i.Ig)(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=s.Xpm({type:t,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(t,e){2&t&&(s.uIk("aria-orientation",e.vertical?"vertical":"horizontal"),s.ekj("mat-divider-vertical",e.vertical)("mat-divider-horizontal",!e.vertical)("mat-divider-inset",e.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function(t,e){},styles:[".mat-divider{display:block;margin:0;border-top-width:1px;border-top-style:solid}.mat-divider.mat-divider-vertical{border-top:0;border-right-width:1px;border-right-style:solid}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}\n"],encapsulation:2,changeDetection:0}),t})(),a=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[r.BQ],r.BQ]}),t})()},6489:(t,e,n)=>{"use strict";n.d(e,{pp:()=>$,To:()=>Z,ib:()=>U,u4:()=>H,yz:()=>z,yK:()=>G});var i=n(5366),r=n(9861),s=n(5959),o=n(7570),a=n(8378);let l=0;const c=new i.OlP("CdkAccordion");let u=(()=>{class t{constructor(){this._stateChanges=new s.xQ,this._openCloseAllActions=new s.xQ,this.id="cdk-accordion-"+l++,this._multi=!1}get multi(){return this._multi}set multi(t){this._multi=(0,r.Ig)(t)}openAll(){this._multi&&this._openCloseAllActions.next(!0)}closeAll(){this._openCloseAllActions.next(!1)}ngOnChanges(t){this._stateChanges.next(t)}ngOnDestroy(){this._stateChanges.complete(),this._openCloseAllActions.complete()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.lG2({type:t,selectors:[["cdk-accordion"],["","cdkAccordion",""]],inputs:{multi:"multi"},exportAs:["cdkAccordion"],features:[i._Bn([{provide:c,useExisting:t}]),i.TTD]}),t})(),h=0,d=(()=>{class t{constructor(t,e,n){this.accordion=t,this._changeDetectorRef=e,this._expansionDispatcher=n,this._openCloseAllSubscription=o.w.EMPTY,this.closed=new i.vpe,this.opened=new i.vpe,this.destroyed=new i.vpe,this.expandedChange=new i.vpe,this.id="cdk-accordion-child-"+h++,this._expanded=!1,this._disabled=!1,this._removeUniqueSelectionListener=()=>{},this._removeUniqueSelectionListener=n.listen((t,e)=>{this.accordion&&!this.accordion.multi&&this.accordion.id===e&&this.id!==t&&(this.expanded=!1)}),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}get expanded(){return this._expanded}set expanded(t){t=(0,r.Ig)(t),this._expanded!==t&&(this._expanded=t,this.expandedChange.emit(t),t?(this.opened.emit(),this._expansionDispatcher.notify(this.id,this.accordion?this.accordion.id:this.id)):this.closed.emit(),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(t){this._disabled=(0,r.Ig)(t)}ngOnDestroy(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}toggle(){this.disabled||(this.expanded=!this.expanded)}close(){this.disabled||(this.expanded=!1)}open(){this.disabled||(this.expanded=!0)}_subscribeToOpenCloseAllActions(){return this.accordion._openCloseAllActions.subscribe(t=>{this.disabled||(this.expanded=t)})}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(c,12),i.Y36(i.sBO),i.Y36(a.A8))},t.\u0275dir=i.lG2({type:t,selectors:[["cdk-accordion-item"],["","cdkAccordionItem",""]],inputs:{expanded:"expanded",disabled:"disabled"},outputs:{closed:"closed",opened:"opened",destroyed:"destroyed",expandedChange:"expandedChange"},exportAs:["cdkAccordionItem"],features:[i._Bn([{provide:c,useValue:void 0}])]}),t})(),p=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({}),t})();var f=n(2151),m=n(1116),g=n(7064),_=n(7388),y=n(8720),v=n(6238),b=n(3835),w=n(611),C=n(9235),E=n(6136),S=n(653),x=n(1906),k=n(9713);const T=["body"];function I(t,e){}const A=[[["mat-expansion-panel-header"]],"*",[["mat-action-row"]]],D=["mat-expansion-panel-header","*","mat-action-row"];function R(t,e){if(1&t&&i._UZ(0,"span",2),2&t){const t=i.oxw();i.Q6J("@indicatorRotate",t._getExpandedState())}}const O=[[["mat-panel-title"]],[["mat-panel-description"]],"*"],P=["mat-panel-title","mat-panel-description","*"],N=new i.OlP("MAT_ACCORDION"),F="225ms cubic-bezier(0.4,0.0,0.2,1)",L={indicatorRotate:(0,k.X$)("indicatorRotate",[(0,k.SB)("collapsed, void",(0,k.oB)({transform:"rotate(0deg)"})),(0,k.SB)("expanded",(0,k.oB)({transform:"rotate(180deg)"})),(0,k.eR)("expanded <=> collapsed, void => collapsed",(0,k.jt)(F))]),bodyExpansion:(0,k.X$)("bodyExpansion",[(0,k.SB)("collapsed, void",(0,k.oB)({height:"0px",visibility:"hidden"})),(0,k.SB)("expanded",(0,k.oB)({height:"*",visibility:"visible"})),(0,k.eR)("expanded <=> collapsed, void => collapsed",(0,k.jt)(F))])};let M=(()=>{class t{constructor(t){this._template=t}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.Rgc))},t.\u0275dir=i.lG2({type:t,selectors:[["ng-template","matExpansionPanelContent",""]]}),t})(),B=0;const V=new i.OlP("MAT_EXPANSION_PANEL_DEFAULT_OPTIONS");let U=(()=>{class t extends d{constructor(t,e,n,r,o,a,l){super(t,e,n),this._viewContainerRef=r,this._animationMode=a,this._hideToggle=!1,this.afterExpand=new i.vpe,this.afterCollapse=new i.vpe,this._inputChanges=new s.xQ,this._headerId="mat-expansion-panel-header-"+B++,this._bodyAnimationDone=new s.xQ,this.accordion=t,this._document=o,this._bodyAnimationDone.pipe((0,y.x)((t,e)=>t.fromState===e.fromState&&t.toState===e.toState)).subscribe(t=>{"void"!==t.fromState&&("expanded"===t.toState?this.afterExpand.emit():"collapsed"===t.toState&&this.afterCollapse.emit())}),l&&(this.hideToggle=l.hideToggle)}get hideToggle(){return this._hideToggle||this.accordion&&this.accordion.hideToggle}set hideToggle(t){this._hideToggle=(0,r.Ig)(t)}get togglePosition(){return this._togglePosition||this.accordion&&this.accordion.togglePosition}set togglePosition(t){this._togglePosition=t}_hasSpacing(){return!!this.accordion&&this.expanded&&"default"===this.accordion.displayMode}_getExpandedState(){return this.expanded?"expanded":"collapsed"}toggle(){this.expanded=!this.expanded}close(){this.expanded=!1}open(){this.expanded=!0}ngAfterContentInit(){this._lazyContent&&this.opened.pipe((0,v.O)(null),(0,b.h)(()=>this.expanded&&!this._portal),(0,w.q)(1)).subscribe(()=>{this._portal=new f.UE(this._lazyContent._template,this._viewContainerRef)})}ngOnChanges(t){this._inputChanges.next(t)}ngOnDestroy(){super.ngOnDestroy(),this._bodyAnimationDone.complete(),this._inputChanges.complete()}_containsFocus(){if(this._body){const t=this._document.activeElement,e=this._body.nativeElement;return t===e||e.contains(t)}return!1}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(N,12),i.Y36(i.sBO),i.Y36(a.A8),i.Y36(i.s_b),i.Y36(m.K0),i.Y36(E.Qb,8),i.Y36(V,8))},t.\u0275cmp=i.Xpm({type:t,selectors:[["mat-expansion-panel"]],contentQueries:function(t,e,n){if(1&t&&i.Suo(n,M,5),2&t){let t;i.iGM(t=i.CRH())&&(e._lazyContent=t.first)}},viewQuery:function(t,e){if(1&t&&i.Gf(T,5),2&t){let t;i.iGM(t=i.CRH())&&(e._body=t.first)}},hostAttrs:[1,"mat-expansion-panel"],hostVars:6,hostBindings:function(t,e){2&t&&i.ekj("mat-expanded",e.expanded)("_mat-animation-noopable","NoopAnimations"===e._animationMode)("mat-expansion-panel-spacing",e._hasSpacing())},inputs:{disabled:"disabled",expanded:"expanded",hideToggle:"hideToggle",togglePosition:"togglePosition"},outputs:{opened:"opened",closed:"closed",expandedChange:"expandedChange",afterExpand:"afterExpand",afterCollapse:"afterCollapse"},exportAs:["matExpansionPanel"],features:[i._Bn([{provide:N,useValue:void 0}]),i.qOj,i.TTD],ngContentSelectors:D,decls:7,vars:4,consts:[["role","region",1,"mat-expansion-panel-content",3,"id"],["body",""],[1,"mat-expansion-panel-body"],[3,"cdkPortalOutlet"]],template:function(t,e){1&t&&(i.F$t(A),i.Hsn(0),i.TgZ(1,"div",0,1),i.NdJ("@bodyExpansion.done",function(t){return e._bodyAnimationDone.next(t)}),i.TgZ(3,"div",2),i.Hsn(4,1),i.YNc(5,I,0,0,"ng-template",3),i.qZA(),i.Hsn(6,2),i.qZA()),2&t&&(i.xp6(1),i.Q6J("@bodyExpansion",e._getExpandedState())("id",e.id),i.uIk("aria-labelledby",e._headerId),i.xp6(4),i.Q6J("cdkPortalOutlet",e._portal))},directives:[f.Pl],styles:[".mat-expansion-panel{box-sizing:content-box;display:block;margin:0;border-radius:4px;overflow:hidden;transition:margin 225ms cubic-bezier(0.4, 0, 0.2, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);position:relative}.mat-accordion .mat-expansion-panel:not(.mat-expanded),.mat-accordion .mat-expansion-panel:not(.mat-expansion-panel-spacing){border-radius:0}.mat-accordion .mat-expansion-panel:first-of-type{border-top-right-radius:4px;border-top-left-radius:4px}.mat-accordion .mat-expansion-panel:last-of-type{border-bottom-right-radius:4px;border-bottom-left-radius:4px}.cdk-high-contrast-active .mat-expansion-panel{outline:solid 1px}.mat-expansion-panel.ng-animate-disabled,.ng-animate-disabled .mat-expansion-panel,.mat-expansion-panel._mat-animation-noopable{transition:none}.mat-expansion-panel-content{display:flex;flex-direction:column;overflow:visible}.mat-expansion-panel-body{padding:0 24px 16px}.mat-expansion-panel-spacing{margin:16px 0}.mat-accordion>.mat-expansion-panel-spacing:first-child,.mat-accordion>*:first-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-top:0}.mat-accordion>.mat-expansion-panel-spacing:last-child,.mat-accordion>*:last-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-bottom:0}.mat-action-row{border-top-style:solid;border-top-width:1px;display:flex;flex-direction:row;justify-content:flex-end;padding:16px 8px 16px 24px}.mat-action-row button.mat-button-base,.mat-action-row button.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-action-row button.mat-button-base,[dir=rtl] .mat-action-row button.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[L.bodyExpansion]},changeDetection:0}),t})();class j{}const q=(0,g.sb)(j);let z=(()=>{class t extends q{constructor(t,e,n,i,r,s,a){super(),this.panel=t,this._element=e,this._focusMonitor=n,this._changeDetectorRef=i,this._animationMode=s,this._parentChangeSubscription=o.w.EMPTY;const l=t.accordion?t.accordion._stateChanges.pipe((0,b.h)(t=>!(!t.hideToggle&&!t.togglePosition))):S.E;this.tabIndex=parseInt(a||"")||0,this._parentChangeSubscription=(0,x.T)(t.opened,t.closed,l,t._inputChanges.pipe((0,b.h)(t=>!!(t.hideToggle||t.disabled||t.togglePosition)))).subscribe(()=>this._changeDetectorRef.markForCheck()),t.closed.pipe((0,b.h)(()=>t._containsFocus())).subscribe(()=>n.focusVia(e,"program")),r&&(this.expandedHeight=r.expandedHeight,this.collapsedHeight=r.collapsedHeight)}get disabled(){return this.panel.disabled}_toggle(){this.disabled||this.panel.toggle()}_isExpanded(){return this.panel.expanded}_getExpandedState(){return this.panel._getExpandedState()}_getPanelId(){return this.panel.id}_getTogglePosition(){return this.panel.togglePosition}_showToggle(){return!this.panel.hideToggle&&!this.panel.disabled}_getHeaderHeight(){const t=this._isExpanded();return t&&this.expandedHeight?this.expandedHeight:!t&&this.collapsedHeight?this.collapsedHeight:null}_keydown(t){switch(t.keyCode){case C.L_:case C.K5:(0,C.Vb)(t)||(t.preventDefault(),this._toggle());break;default:return void(this.panel.accordion&&this.panel.accordion._handleHeaderKeydown(t))}}focus(t,e){t?this._focusMonitor.focusVia(this._element,t,e):this._element.nativeElement.focus(e)}ngAfterViewInit(){this._focusMonitor.monitor(this._element).subscribe(t=>{t&&this.panel.accordion&&this.panel.accordion._handleHeaderFocus(this)})}ngOnDestroy(){this._parentChangeSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._element)}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(U,1),i.Y36(i.SBq),i.Y36(_.tE),i.Y36(i.sBO),i.Y36(V,8),i.Y36(E.Qb,8),i.$8M("tabindex"))},t.\u0275cmp=i.Xpm({type:t,selectors:[["mat-expansion-panel-header"]],hostAttrs:["role","button",1,"mat-expansion-panel-header","mat-focus-indicator"],hostVars:15,hostBindings:function(t,e){1&t&&i.NdJ("click",function(){return e._toggle()})("keydown",function(t){return e._keydown(t)}),2&t&&(i.uIk("id",e.panel._headerId)("tabindex",e.tabIndex)("aria-controls",e._getPanelId())("aria-expanded",e._isExpanded())("aria-disabled",e.panel.disabled),i.Udp("height",e._getHeaderHeight()),i.ekj("mat-expanded",e._isExpanded())("mat-expansion-toggle-indicator-after","after"===e._getTogglePosition())("mat-expansion-toggle-indicator-before","before"===e._getTogglePosition())("_mat-animation-noopable","NoopAnimations"===e._animationMode))},inputs:{tabIndex:"tabIndex",expandedHeight:"expandedHeight",collapsedHeight:"collapsedHeight"},features:[i.qOj],ngContentSelectors:P,decls:5,vars:1,consts:[[1,"mat-content"],["class","mat-expansion-indicator",4,"ngIf"],[1,"mat-expansion-indicator"]],template:function(t,e){1&t&&(i.F$t(O),i.TgZ(0,"span",0),i.Hsn(1),i.Hsn(2,1),i.Hsn(3,2),i.qZA(),i.YNc(4,R,1,1,"span",1)),2&t&&(i.xp6(4),i.Q6J("ngIf",e._showToggle()))},directives:[m.O5],styles:['.mat-expansion-panel-header{display:flex;flex-direction:row;align-items:center;padding:0 24px;border-radius:inherit;transition:height 225ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-expansion-panel-header._mat-animation-noopable{transition:none}.mat-expansion-panel-header:focus,.mat-expansion-panel-header:hover{outline:none}.mat-expansion-panel-header.mat-expanded:focus,.mat-expansion-panel-header.mat-expanded:hover{background:inherit}.mat-expansion-panel-header:not([aria-disabled=true]){cursor:pointer}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before{flex-direction:row-reverse}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 16px 0 0}[dir=rtl] .mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 0 0 16px}.mat-content{display:flex;flex:1;flex-direction:row;overflow:hidden}.mat-expansion-panel-header-title,.mat-expansion-panel-header-description{display:flex;flex-grow:1;margin-right:16px}[dir=rtl] .mat-expansion-panel-header-title,[dir=rtl] .mat-expansion-panel-header-description{margin-right:0;margin-left:16px}.mat-expansion-panel-header-description{flex-grow:2}.mat-expansion-indicator::after{border-style:solid;border-width:0 2px 2px 0;content:"";display:inline-block;padding:3px;transform:rotate(45deg);vertical-align:middle}.cdk-high-contrast-active .mat-expansion-panel .mat-expansion-panel-header.cdk-keyboard-focused:not([aria-disabled=true])::before,.cdk-high-contrast-active .mat-expansion-panel .mat-expansion-panel-header.cdk-program-focused:not([aria-disabled=true])::before,.cdk-high-contrast-active .mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-header:hover:not([aria-disabled=true])::before{top:0;left:0;right:0;bottom:0;position:absolute;box-sizing:border-box;pointer-events:none;border:3px solid;border-radius:4px;content:""}\n'],encapsulation:2,data:{animation:[L.indicatorRotate]},changeDetection:0}),t})(),H=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.lG2({type:t,selectors:[["mat-panel-description"]],hostAttrs:[1,"mat-expansion-panel-header-description"]}),t})(),G=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.lG2({type:t,selectors:[["mat-panel-title"]],hostAttrs:[1,"mat-expansion-panel-header-title"]}),t})(),$=(()=>{class t extends u{constructor(){super(...arguments),this._ownHeaders=new i.n_E,this._hideToggle=!1,this.displayMode="default",this.togglePosition="after"}get hideToggle(){return this._hideToggle}set hideToggle(t){this._hideToggle=(0,r.Ig)(t)}ngAfterContentInit(){this._headers.changes.pipe((0,v.O)(this._headers)).subscribe(t=>{this._ownHeaders.reset(t.filter(t=>t.panel.accordion===this)),this._ownHeaders.notifyOnChanges()}),this._keyManager=new _.Em(this._ownHeaders).withWrap().withHomeAndEnd()}_handleHeaderKeydown(t){this._keyManager.onKeydown(t)}_handleHeaderFocus(t){this._keyManager.updateActiveItem(t)}ngOnDestroy(){super.ngOnDestroy(),this._ownHeaders.destroy()}}return t.\u0275fac=function(){let e;return function(n){return(e||(e=i.n5z(t)))(n||t)}}(),t.\u0275dir=i.lG2({type:t,selectors:[["mat-accordion"]],contentQueries:function(t,e,n){if(1&t&&i.Suo(n,z,5),2&t){let t;i.iGM(t=i.CRH())&&(e._headers=t)}},hostAttrs:[1,"mat-accordion"],hostVars:2,hostBindings:function(t,e){2&t&&i.ekj("mat-accordion-multi",e.multi)},inputs:{multi:"multi",displayMode:"displayMode",togglePosition:"togglePosition",hideToggle:"hideToggle"},exportAs:["matAccordion"],features:[i._Bn([{provide:N,useExisting:t}]),i.qOj]}),t})(),Z=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[[m.ez,g.BQ,p,f.eL]]}),t})()},3070:(t,e,n)=>{"use strict";n.d(e,{G_:()=>Z,KE:()=>Y,Eo:()=>M,lN:()=>W,hX:()=>V,R9:()=>z});var i=n(7853),r=n(1116),s=n(5366),o=n(7064),a=n(9861),l=n(5959),c=n(1906),u=n(7254),h=n(6238),d=n(5416),p=n(611),f=n(9713),m=n(6136),g=n(4720),_=n(3169);const y=["underline"],v=["connectionContainer"],b=["inputContainer"],w=["label"];function C(t,e){1&t&&(s.ynx(0),s.TgZ(1,"div",14),s._UZ(2,"div",15),s._UZ(3,"div",16),s._UZ(4,"div",17),s.qZA(),s.TgZ(5,"div",18),s._UZ(6,"div",15),s._UZ(7,"div",16),s._UZ(8,"div",17),s.qZA(),s.BQk())}function E(t,e){1&t&&(s.TgZ(0,"div",19),s.Hsn(1,1),s.qZA())}function S(t,e){if(1&t&&(s.ynx(0),s.Hsn(1,2),s.TgZ(2,"span"),s._uU(3),s.qZA(),s.BQk()),2&t){const t=s.oxw(2);s.xp6(3),s.Oqu(t._control.placeholder)}}function x(t,e){1&t&&s.Hsn(0,3,["*ngSwitchCase","true"])}function k(t,e){1&t&&(s.TgZ(0,"span",23),s._uU(1," *"),s.qZA())}function T(t,e){if(1&t){const t=s.EpF();s.TgZ(0,"label",20,21),s.NdJ("cdkObserveContent",function(){return s.CHM(t),s.oxw().updateOutlineGap()}),s.YNc(2,S,4,1,"ng-container",12),s.YNc(3,x,1,0,"ng-content",12),s.YNc(4,k,2,0,"span",22),s.qZA()}if(2&t){const t=s.oxw();s.ekj("mat-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-form-field-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-accent","accent"==t.color)("mat-warn","warn"==t.color),s.Q6J("cdkObserveContentDisabled","outline"!=t.appearance)("id",t._labelId)("ngSwitch",t._hasLabel()),s.uIk("for",t._control.id)("aria-owns",t._control.id),s.xp6(2),s.Q6J("ngSwitchCase",!1),s.xp6(1),s.Q6J("ngSwitchCase",!0),s.xp6(1),s.Q6J("ngIf",!t.hideRequiredMarker&&t._control.required&&!t._control.disabled)}}function I(t,e){1&t&&(s.TgZ(0,"div",24),s.Hsn(1,4),s.qZA())}function A(t,e){if(1&t&&(s.TgZ(0,"div",25,26),s._UZ(2,"span",27),s.qZA()),2&t){const t=s.oxw();s.xp6(2),s.ekj("mat-accent","accent"==t.color)("mat-warn","warn"==t.color)}}function D(t,e){if(1&t&&(s.TgZ(0,"div"),s.Hsn(1,5),s.qZA()),2&t){const t=s.oxw();s.Q6J("@transitionMessages",t._subscriptAnimationState)}}function R(t,e){if(1&t&&(s.TgZ(0,"div",31),s._uU(1),s.qZA()),2&t){const t=s.oxw(2);s.Q6J("id",t._hintLabelId),s.xp6(1),s.Oqu(t.hintLabel)}}function O(t,e){if(1&t&&(s.TgZ(0,"div",28),s.YNc(1,R,2,2,"div",29),s.Hsn(2,6),s._UZ(3,"div",30),s.Hsn(4,7),s.qZA()),2&t){const t=s.oxw();s.Q6J("@transitionMessages",t._subscriptAnimationState),s.xp6(1),s.Q6J("ngIf",t.hintLabel)}}const P=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],N=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],F=new s.OlP("MatError"),L={transitionMessages:(0,f.X$)("transitionMessages",[(0,f.SB)("enter",(0,f.oB)({opacity:1,transform:"translateY(0%)"})),(0,f.eR)("void => enter",[(0,f.oB)({opacity:0,transform:"translateY(-5px)"}),(0,f.jt)("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let M=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=s.lG2({type:t}),t})();const B=new s.OlP("MatHint");let V=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=s.lG2({type:t,selectors:[["mat-label"]]}),t})(),U=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=s.lG2({type:t,selectors:[["mat-placeholder"]]}),t})();const j=new s.OlP("MatPrefix"),q=new s.OlP("MatSuffix");let z=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=s.lG2({type:t,selectors:[["","matSuffix",""]],features:[s._Bn([{provide:q,useExisting:t}])]}),t})(),H=0;const G=(0,o.pj)(class{constructor(t){this._elementRef=t}},"primary"),$=new s.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),Z=new s.OlP("MatFormField");let Y=(()=>{class t extends G{constructor(t,e,n,i,r,s,o,a){super(t),this._changeDetectorRef=e,this._dir=i,this._defaults=r,this._platform=s,this._ngZone=o,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new l.xQ,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+H++,this._labelId="mat-form-field-label-"+H++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==a,this.appearance=r&&r.appearance?r.appearance:"legacy",this._hideRequiredMarker=!(!r||null==r.hideRequiredMarker)&&r.hideRequiredMarker}get appearance(){return this._appearance}set appearance(t){const e=this._appearance;this._appearance=t||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&e!==t&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=(0,a.Ig)(t)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(t){this._explicitFormFieldControl=t}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${t.controlType}`),t.stateChanges.pipe((0,h.O)(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe((0,d.R)(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,d.R)(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,c.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe((0,h.O)(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe((0,h.O)(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe((0,d.R)(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(t){const e=this._control?this._control.ngControl:null;return e&&e[t]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,(0,u.R)(this._label.nativeElement,"transitionend").pipe((0,p.q)(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const e=this._hintChildren?this._hintChildren.find(t=>"start"===t.align):null,n=this._hintChildren?this._hintChildren.find(t=>"end"===t.align):null;e?t.push(e.id):this._hintLabel&&t.push(this._hintLabelId),n&&t.push(n.id)}else this._errorChildren&&t.push(...this._errorChildren.map(t=>t.id));this._control.setDescribedByIds(t)}}_validateControlChild(){}updateOutlineGap(){const t=this._label?this._label.nativeElement:null;if("outline"!==this.appearance||!t||!t.children.length||!t.textContent.trim())return;if(!this._platform.isBrowser)return;if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let e=0,n=0;const i=this._connectionContainerRef.nativeElement,r=i.querySelectorAll(".mat-form-field-outline-start"),s=i.querySelectorAll(".mat-form-field-outline-gap");if(this._label&&this._label.nativeElement.children.length){const r=i.getBoundingClientRect();if(0===r.width&&0===r.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const s=this._getStartEnd(r),o=t.children,a=this._getStartEnd(o[0].getBoundingClientRect());let l=0;for(let t=0;t<o.length;t++)l+=o[t].offsetWidth;e=Math.abs(a-s)-5,n=l>0?.75*l+10:0}for(let o=0;o<r.length;o++)r[o].style.width=`${e}px`;for(let o=0;o<s.length;o++)s[o].style.width=`${n}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(t){return this._dir&&"rtl"===this._dir.value?t.right:t.left}_isAttachedToDOM(){const t=this._elementRef.nativeElement;if(t.getRootNode){const e=t.getRootNode();return e&&e!==t}return document.documentElement.contains(t)}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(s.SBq),s.Y36(s.sBO),s.Y36(s.SBq),s.Y36(g.Is,8),s.Y36($,8),s.Y36(_.t4),s.Y36(s.R0b),s.Y36(m.Qb,8))},t.\u0275cmp=s.Xpm({type:t,selectors:[["mat-form-field"]],contentQueries:function(t,e,n){if(1&t&&(s.Suo(n,M,5),s.Suo(n,M,7),s.Suo(n,V,5),s.Suo(n,V,7),s.Suo(n,U,5),s.Suo(n,F,5),s.Suo(n,B,5),s.Suo(n,j,5),s.Suo(n,q,5)),2&t){let t;s.iGM(t=s.CRH())&&(e._controlNonStatic=t.first),s.iGM(t=s.CRH())&&(e._controlStatic=t.first),s.iGM(t=s.CRH())&&(e._labelChildNonStatic=t.first),s.iGM(t=s.CRH())&&(e._labelChildStatic=t.first),s.iGM(t=s.CRH())&&(e._placeholderChild=t.first),s.iGM(t=s.CRH())&&(e._errorChildren=t),s.iGM(t=s.CRH())&&(e._hintChildren=t),s.iGM(t=s.CRH())&&(e._prefixChildren=t),s.iGM(t=s.CRH())&&(e._suffixChildren=t)}},viewQuery:function(t,e){if(1&t&&(s.Gf(y,5),s.Gf(v,7),s.Gf(b,5),s.Gf(w,5)),2&t){let t;s.iGM(t=s.CRH())&&(e.underlineRef=t.first),s.iGM(t=s.CRH())&&(e._connectionContainerRef=t.first),s.iGM(t=s.CRH())&&(e._inputContainerRef=t.first),s.iGM(t=s.CRH())&&(e._label=t.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(t,e){2&t&&s.ekj("mat-form-field-appearance-standard","standard"==e.appearance)("mat-form-field-appearance-fill","fill"==e.appearance)("mat-form-field-appearance-outline","outline"==e.appearance)("mat-form-field-appearance-legacy","legacy"==e.appearance)("mat-form-field-invalid",e._control.errorState)("mat-form-field-can-float",e._canLabelFloat())("mat-form-field-should-float",e._shouldLabelFloat())("mat-form-field-has-label",e._hasFloatingLabel())("mat-form-field-hide-placeholder",e._hideControlPlaceholder())("mat-form-field-disabled",e._control.disabled)("mat-form-field-autofilled",e._control.autofilled)("mat-focused",e._control.focused)("ng-untouched",e._shouldForward("untouched"))("ng-touched",e._shouldForward("touched"))("ng-pristine",e._shouldForward("pristine"))("ng-dirty",e._shouldForward("dirty"))("ng-valid",e._shouldForward("valid"))("ng-invalid",e._shouldForward("invalid"))("ng-pending",e._shouldForward("pending"))("_mat-animation-noopable",!e._animationsEnabled)},inputs:{color:"color",floatLabel:"floatLabel",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[s._Bn([{provide:Z,useExisting:t}]),s.qOj],ngContentSelectors:N,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],["underline",""],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(t,e){1&t&&(s.F$t(P),s.TgZ(0,"div",0),s.TgZ(1,"div",1,2),s.NdJ("click",function(t){return e._control.onContainerClick&&e._control.onContainerClick(t)}),s.YNc(3,C,9,0,"ng-container",3),s.YNc(4,E,2,0,"div",4),s.TgZ(5,"div",5,6),s.Hsn(7),s.TgZ(8,"span",7),s.YNc(9,T,5,16,"label",8),s.qZA(),s.qZA(),s.YNc(10,I,2,0,"div",9),s.qZA(),s.YNc(11,A,3,4,"div",10),s.TgZ(12,"div",11),s.YNc(13,D,2,1,"div",12),s.YNc(14,O,5,2,"div",13),s.qZA(),s.qZA()),2&t&&(s.xp6(3),s.Q6J("ngIf","outline"==e.appearance),s.xp6(1),s.Q6J("ngIf",e._prefixChildren.length),s.xp6(5),s.Q6J("ngIf",e._hasFloatingLabel()),s.xp6(1),s.Q6J("ngIf",e._suffixChildren.length),s.xp6(1),s.Q6J("ngIf","outline"!=e.appearance),s.xp6(1),s.Q6J("ngSwitch",e._getDisplayedMessages()),s.xp6(1),s.Q6J("ngSwitchCase","error"),s.xp6(1),s.Q6J("ngSwitchCase","hint"))},directives:[r.O5,r.RF,r.n9,i.wD],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element::-ms-clear,.mat-input-element::-ms-reveal{display:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-ms-expand{display:none}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}select.mat-input-element::-ms-value{color:inherit;background:none}.mat-focused .cdk-high-contrast-active select.mat-input-element::-ms-value{color:inherit}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px);-ms-transform:none}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[L.transitionMessages]},changeDetection:0}),t})(),W=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[r.ez,o.BQ,i.Q8],o.BQ]}),t})()},7307:(t,e,n)=>{"use strict";n.d(e,{Hw:()=>O,Ps:()=>P});var i=n(5366),r=n(7064),s=n(9861),o=n(1116),a=n(878),l=n(1225),c=n(3148),u=n(7570),h=n(6599),d=n(9996),p=n(7727),f=n(1520),m=n(1055),g=n(611),_=n(2693),y=n(9624);const v=["*"];function b(t){return Error(`Unable to find icon with the name "${t}"`)}function w(t){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${t}".`)}function C(t){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${t}".`)}class E{constructor(t,e,n){this.url=t,this.svgText=e,this.options=n}}let S=(()=>{class t{constructor(t,e,n,i){this._httpClient=t,this._sanitizer=e,this._errorHandler=i,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=n}addSvgIcon(t,e,n){return this.addSvgIconInNamespace("",t,e,n)}addSvgIconLiteral(t,e,n){return this.addSvgIconLiteralInNamespace("",t,e,n)}addSvgIconInNamespace(t,e,n,i){return this._addSvgIconConfig(t,e,new E(n,null,i))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,e,n,r){const s=this._sanitizer.sanitize(i.q3G.HTML,n);if(!s)throw C(n);return this._addSvgIconConfig(t,e,new E("",s,r))}addSvgIconSet(t,e){return this.addSvgIconSetInNamespace("",t,e)}addSvgIconSetLiteral(t,e){return this.addSvgIconSetLiteralInNamespace("",t,e)}addSvgIconSetInNamespace(t,e,n){return this._addSvgIconSetConfig(t,new E(e,null,n))}addSvgIconSetLiteralInNamespace(t,e,n){const r=this._sanitizer.sanitize(i.q3G.HTML,e);if(!r)throw C(e);return this._addSvgIconSetConfig(t,new E("",r,n))}registerFontClassAlias(t,e=t){return this._fontCssClassesByAlias.set(t,e),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const e=this._sanitizer.sanitize(i.q3G.RESOURCE_URL,t);if(!e)throw w(t);const n=this._cachedIconsByUrl.get(e);return n?(0,a.of)(x(n)):this._loadSvgIconFromConfig(new E(t,null)).pipe((0,h.b)(t=>this._cachedIconsByUrl.set(e,t)),(0,d.U)(t=>x(t)))}getNamedSvgIcon(t,e=""){const n=k(e,t);let i=this._svgIconConfigs.get(n);if(i)return this._getSvgFromConfig(i);if(i=this._getIconConfigFromResolvers(e,t),i)return this._svgIconConfigs.set(n,i),this._getSvgFromConfig(i);const r=this._iconSetConfigs.get(e);return r?this._getSvgFromIconSetConfigs(t,r):(0,l._)(b(n))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?(0,a.of)(x(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe((0,d.U)(t=>x(t)))}_getSvgFromIconSetConfigs(t,e){const n=this._extractIconWithNameFromAnySet(t,e);if(n)return(0,a.of)(n);const r=e.filter(t=>!t.svgText).map(t=>this._loadSvgIconSetFromConfig(t).pipe((0,p.K)(e=>{const n=this._sanitizer.sanitize(i.q3G.RESOURCE_URL,t.url);return this._errorHandler.handleError(new Error(`Loading icon set URL: ${n} failed: ${e.message}`)),(0,a.of)(null)})));return(0,c.D)(r).pipe((0,d.U)(()=>{const n=this._extractIconWithNameFromAnySet(t,e);if(!n)throw b(t);return n}))}_extractIconWithNameFromAnySet(t,e){for(let n=e.length-1;n>=0;n--){const i=e[n];if(i.svgText&&i.svgText.indexOf(t)>-1){const e=this._svgElementFromConfig(i),n=this._extractSvgIconFromSet(e,t,i.options);if(n)return n}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe((0,h.b)(e=>t.svgText=e),(0,d.U)(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?(0,a.of)(null):this._fetchIcon(t).pipe((0,h.b)(e=>t.svgText=e))}_extractSvgIconFromSet(t,e,n){const i=t.querySelector(`[id="${e}"]`);if(!i)return null;const r=i.cloneNode(!0);if(r.removeAttribute("id"),"svg"===r.nodeName.toLowerCase())return this._setSvgAttributes(r,n);if("symbol"===r.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(r),n);const s=this._svgElementFromString("<svg></svg>");return s.appendChild(r),this._setSvgAttributes(s,n)}_svgElementFromString(t){const e=this._document.createElement("DIV");e.innerHTML=t;const n=e.querySelector("svg");if(!n)throw Error("<svg> tag not found");return n}_toSvgElement(t){const e=this._svgElementFromString("<svg></svg>"),n=t.attributes;for(let i=0;i<n.length;i++){const{name:t,value:r}=n[i];"id"!==t&&e.setAttribute(t,r)}for(let i=0;i<t.childNodes.length;i++)t.childNodes[i].nodeType===this._document.ELEMENT_NODE&&e.appendChild(t.childNodes[i].cloneNode(!0));return e}_setSvgAttributes(t,e){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),e&&e.viewBox&&t.setAttribute("viewBox",e.viewBox),t}_fetchIcon(t){var e;const{url:n,options:r}=t,s=null!==(e=null==r?void 0:r.withCredentials)&&void 0!==e&&e;if(!this._httpClient)throw Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.");if(null==n)throw Error(`Cannot fetch icon from URL "${n}".`);const o=this._sanitizer.sanitize(i.q3G.RESOURCE_URL,n);if(!o)throw w(n);const a=this._inProgressUrlFetches.get(o);if(a)return a;const l=this._httpClient.get(o,{responseType:"text",withCredentials:s}).pipe((0,f.x)(()=>this._inProgressUrlFetches.delete(o)),(0,m.B)());return this._inProgressUrlFetches.set(o,l),l}_addSvgIconConfig(t,e,n){return this._svgIconConfigs.set(k(t,e),n),this}_addSvgIconSetConfig(t,e){const n=this._iconSetConfigs.get(t);return n?n.push(e):this._iconSetConfigs.set(t,[e]),this}_svgElementFromConfig(t){if(!t.svgElement){const e=this._svgElementFromString(t.svgText);this._setSvgAttributes(e,t.options),t.svgElement=e}return t.svgElement}_getIconConfigFromResolvers(t,e){for(let i=0;i<this._resolvers.length;i++){const r=this._resolvers[i](e,t);if(r)return(n=r).url&&n.options?new E(r.url,null,r.options):new E(r,null)}var n}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(_.eN,8),i.LFG(y.H7),i.LFG(o.K0,8),i.LFG(i.qLn))},t.\u0275prov=i.Yz7({factory:function(){return new t(i.LFG(_.eN,8),i.LFG(y.H7),i.LFG(o.K0,8),i.LFG(i.qLn))},token:t,providedIn:"root"}),t})();function x(t){return t.cloneNode(!0)}function k(t,e){return t+":"+e}const T=(0,r.pj)(class{constructor(t){this._elementRef=t}}),I=new i.OlP("mat-icon-location",{providedIn:"root",factory:function(){const t=(0,i.f3M)(o.K0),e=t?t.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),A=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],D=A.map(t=>`[${t}]`).join(", "),R=/^url\(['"]?#(.*?)['"]?\)$/;let O=(()=>{class t extends T{constructor(t,e,n,i,r){super(t),this._iconRegistry=e,this._location=i,this._errorHandler=r,this._inline=!1,this._currentIconFetch=u.w.EMPTY,n||t.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(t){this._inline=(0,s.Ig)(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const e=this._cleanupFontValue(t);e!==this._fontSet&&(this._fontSet=e,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const e=this._cleanupFontValue(t);e!==this._fontIcon&&(this._fontIcon=e,this._updateFontIconClasses())}_splitIconName(t){if(!t)return["",""];const e=t.split(":");switch(e.length){case 1:return["",e[0]];case 2:return e;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const t=this._location.getPathname();t!==this._previousPath&&(this._previousPath=t,this._prependPathToReferences(t))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const e=t.querySelectorAll("style");for(let i=0;i<e.length;i++)e[i].textContent+=" ";const n=this._location.getPathname();this._previousPath=n,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(n),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let e=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();e--;){const n=t.childNodes[e];1===n.nodeType&&"svg"!==n.nodeName.toLowerCase()||t.removeChild(n)}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,e=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();e!=this._previousFontSetClass&&(this._previousFontSetClass&&t.classList.remove(this._previousFontSetClass),e&&t.classList.add(e),this._previousFontSetClass=e),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const e=this._elementsWithExternalReferences;e&&e.forEach((e,n)=>{e.forEach(e=>{n.setAttribute(e.name,`url('${t}#${e.value}')`)})})}_cacheChildrenWithExternalReferences(t){const e=t.querySelectorAll(D),n=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let i=0;i<e.length;i++)A.forEach(t=>{const r=e[i],s=r.getAttribute(t),o=s?s.match(R):null;if(o){let e=n.get(r);e||(e=[],n.set(r,e)),e.push({name:t,value:o[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[e,n]=this._splitIconName(t);e&&(this._svgNamespace=e),n&&(this._svgName=n),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(n,e).pipe((0,g.q)(1)).subscribe(t=>this._setSvgElement(t),t=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${e}:${n}! ${t.message}`))})}}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.SBq),i.Y36(S),i.$8M("aria-hidden"),i.Y36(I),i.Y36(i.qLn))},t.\u0275cmp=i.Xpm({type:t,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(t,e){2&t&&(i.uIk("data-mat-icon-type",e._usingFontIcon()?"font":"svg")("data-mat-icon-name",e._svgName||e.fontIcon)("data-mat-icon-namespace",e._svgNamespace||e.fontSet),i.ekj("mat-icon-inline",e.inline)("mat-icon-no-color","primary"!==e.color&&"accent"!==e.color&&"warn"!==e.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[i.qOj],ngContentSelectors:v,decls:1,vars:0,template:function(t,e){1&t&&(i.F$t(),i.Hsn(0))},styles:[".mat-icon{background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),t})(),P=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[[r.BQ],r.BQ]}),t})()},9550:(t,e,n)=>{"use strict";n.d(e,{Nt:()=>y,c:()=>v});var i=n(3169),r=n(5366),s=n(9861),o=n(653),a=n(5959);n(7254),n(810),n(5416),n(1116);const l=(0,i.i$)({passive:!0});let c=(()=>{class t{constructor(t,e){this._platform=t,this._ngZone=e,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return o.E;const e=(0,s.fI)(t),n=this._monitoredElements.get(e);if(n)return n.subject;const i=new a.xQ,r="cdk-text-field-autofilled",c=t=>{"cdk-text-field-autofill-start"!==t.animationName||e.classList.contains(r)?"cdk-text-field-autofill-end"===t.animationName&&e.classList.contains(r)&&(e.classList.remove(r),this._ngZone.run(()=>i.next({target:t.target,isAutofilled:!1}))):(e.classList.add(r),this._ngZone.run(()=>i.next({target:t.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{e.addEventListener("animationstart",c,l),e.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(e,{subject:i,unlisten:()=>{e.removeEventListener("animationstart",c,l)}}),i}stopMonitoring(t){const e=(0,s.fI)(t),n=this._monitoredElements.get(e);n&&(n.unlisten(),n.subject.complete(),e.classList.remove("cdk-text-field-autofill-monitored"),e.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(e))}ngOnDestroy(){this._monitoredElements.forEach((t,e)=>this.stopMonitoring(e))}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(i.t4),r.LFG(r.R0b))},t.\u0275prov=r.Yz7({factory:function(){return new t(r.LFG(i.t4),r.LFG(r.R0b))},token:t,providedIn:"root"}),t})(),u=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[i.ud]]}),t})();var h=n(7064),d=n(3070),p=n(1041);const f=new r.OlP("MAT_INPUT_VALUE_ACCESSOR"),m=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let g=0;const _=(0,h.FD)(class{constructor(t,e,n,i){this._defaultErrorStateMatcher=t,this._parentForm=e,this._parentFormGroup=n,this.ngControl=i}});let y=(()=>{class t extends _{constructor(t,e,n,r,s,o,l,c,u,h){super(o,r,s,n),this._elementRef=t,this._platform=e,this._autofillMonitor=c,this._formField=h,this._uid="mat-input-"+g++,this.focused=!1,this.stateChanges=new a.xQ,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._required=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(t=>(0,i.qK)().has(t));const d=this._elementRef.nativeElement,p=d.nodeName.toLowerCase();this._inputValueAccessor=l||d,this._previousNativeValue=this.value,this.id=this.id,e.IOS&&u.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",t=>{const e=t.target;e.value||0!==e.selectionStart||0!==e.selectionEnd||(e.setSelectionRange(1,1),e.setSelectionRange(0,0))})}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===p,this._isTextarea="textarea"===p,this._isInFormField=!!h,this._isNativeSelect&&(this.controlType=d.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(t){this._disabled=(0,s.Ig)(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){return this._required}set required(t){this._required=(0,s.Ig)(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&(0,i.qK)().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=(0,s.Ig)(t)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t!==this.focused&&(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var t,e;const n=(null===(e=null===(t=this._formField)||void 0===t?void 0:t._hideControlPlaceholder)||void 0===e?void 0:e.call(t))?null:this.placeholder;if(n!==this._previousPlaceholder){const t=this._elementRef.nativeElement;this._previousPlaceholder=n,n?t.setAttribute("placeholder",n):t.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_validateType(){m.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,e=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&e&&e.label)}return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.SBq),r.Y36(i.t4),r.Y36(p.a5,10),r.Y36(p.F,8),r.Y36(p.sg,8),r.Y36(h.rD),r.Y36(f,10),r.Y36(c),r.Y36(r.R0b),r.Y36(d.G_,8))},t.\u0275dir=r.lG2({type:t,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:9,hostBindings:function(t,e){1&t&&r.NdJ("focus",function(){return e._focusChanged(!0)})("blur",function(){return e._focusChanged(!1)})("input",function(){return e._onInput()}),2&t&&(r.Ikx("disabled",e.disabled)("required",e.required),r.uIk("id",e.id)("data-placeholder",e.placeholder)("readonly",e.readonly&&!e._isNativeSelect||null)("aria-invalid",e.empty&&e.required?null:e.errorState)("aria-required",e.required),r.ekj("mat-input-server",e._isServer))},inputs:{id:"id",disabled:"disabled",required:"required",type:"type",value:"value",readonly:"readonly",placeholder:"placeholder",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"]},exportAs:["matInput"],features:[r._Bn([{provide:d.Eo,useExisting:t}]),r.qOj,r.TTD]}),t})(),v=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({providers:[h.rD],imports:[[u,d.lN,h.BQ],u,d.lN]}),t})()},5078:(t,e,n)=>{"use strict";n.d(e,{i$:()=>v,Nh:()=>w,Tg:()=>C,ie:()=>E,Hk:()=>y});var i=n(1116),r=n(5366),s=n(7064),o=n(9861),a=n(5959),l=n(5416),c=(n(6238),n(7388),n(8378),n(9235),n(1041),n(6278));const u=["*"],h='.mat-subheader{display:flex;box-sizing:border-box;padding:16px;align-items:center}.mat-list-base .mat-subheader{margin:0}.mat-list-base{padding-top:8px;display:block;-webkit-tap-highlight-color:transparent}.mat-list-base .mat-subheader{height:48px;line-height:16px}.mat-list-base .mat-subheader:first-child{margin-top:-8px}.mat-list-base .mat-list-item,.mat-list-base .mat-list-option{display:block;height:48px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base .mat-list-item .mat-list-item-content,.mat-list-base .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base .mat-list-item .mat-list-item-content-reverse,.mat-list-base .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base .mat-list-item .mat-list-item-ripple,.mat-list-base .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar,.mat-list-base .mat-list-option.mat-list-item-with-avatar{height:56px}.mat-list-base .mat-list-item.mat-2-line,.mat-list-base .mat-list-option.mat-2-line{height:72px}.mat-list-base .mat-list-item.mat-3-line,.mat-list-base .mat-list-option.mat-3-line{height:88px}.mat-list-base .mat-list-item.mat-multi-line,.mat-list-base .mat-list-option.mat-multi-line{height:auto}.mat-list-base .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base .mat-list-item .mat-list-text,.mat-list-base .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base .mat-list-item .mat-list-text>*,.mat-list-base .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base .mat-list-item .mat-list-text:empty,.mat-list-base .mat-list-option .mat-list-text:empty{display:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base .mat-list-item .mat-list-avatar,.mat-list-base .mat-list-option .mat-list-avatar{flex-shrink:0;width:40px;height:40px;border-radius:50%;object-fit:cover}.mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:72px;width:calc(100% - 72px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:72px}.mat-list-base .mat-list-item .mat-list-icon,.mat-list-base .mat-list-option .mat-list-icon{flex-shrink:0;width:24px;height:24px;font-size:24px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:64px;width:calc(100% - 64px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:64px}.mat-list-base .mat-list-item .mat-divider,.mat-list-base .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base .mat-list-item .mat-divider,[dir=rtl] .mat-list-base .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-list-base[dense]{padding-top:4px;display:block}.mat-list-base[dense] .mat-subheader{height:40px;line-height:8px}.mat-list-base[dense] .mat-subheader:first-child{margin-top:-4px}.mat-list-base[dense] .mat-list-item,.mat-list-base[dense] .mat-list-option{display:block;height:40px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-item-content,.mat-list-base[dense] .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base[dense] .mat-list-item .mat-list-item-content-reverse,.mat-list-base[dense] .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base[dense] .mat-list-item .mat-list-item-ripple,.mat-list-base[dense] .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar{height:48px}.mat-list-base[dense] .mat-list-item.mat-2-line,.mat-list-base[dense] .mat-list-option.mat-2-line{height:60px}.mat-list-base[dense] .mat-list-item.mat-3-line,.mat-list-base[dense] .mat-list-option.mat-3-line{height:76px}.mat-list-base[dense] .mat-list-item.mat-multi-line,.mat-list-base[dense] .mat-list-option.mat-multi-line{height:auto}.mat-list-base[dense] .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base[dense] .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base[dense] .mat-list-item .mat-list-text,.mat-list-base[dense] .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-text>*,.mat-list-base[dense] .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base[dense] .mat-list-item .mat-list-text:empty,.mat-list-base[dense] .mat-list-option .mat-list-text:empty{display:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base[dense] .mat-list-item .mat-list-avatar,.mat-list-base[dense] .mat-list-option .mat-list-avatar{flex-shrink:0;width:36px;height:36px;border-radius:50%;object-fit:cover}.mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:68px;width:calc(100% - 68px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:68px}.mat-list-base[dense] .mat-list-item .mat-list-icon,.mat-list-base[dense] .mat-list-option .mat-list-icon{flex-shrink:0;width:20px;height:20px;font-size:20px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:60px;width:calc(100% - 60px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:60px}.mat-list-base[dense] .mat-list-item .mat-divider,.mat-list-base[dense] .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-divider,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base[dense] .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-nav-list a{text-decoration:none;color:inherit}.mat-nav-list .mat-list-item{cursor:pointer;outline:none}mat-action-list button{background:none;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:transparent;text-align:left}[dir=rtl] mat-action-list button{text-align:right}mat-action-list button::-moz-focus-inner{border:0}mat-action-list .mat-list-item{cursor:pointer;outline:inherit}.mat-list-option:not(.mat-list-item-disabled){cursor:pointer;outline:none}.mat-list-item-disabled{pointer-events:none}.cdk-high-contrast-active .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active :host .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active .mat-selection-list:focus{outline-style:dotted}.cdk-high-contrast-active .mat-list-option:hover,.cdk-high-contrast-active .mat-list-option:focus,.cdk-high-contrast-active .mat-nav-list .mat-list-item:hover,.cdk-high-contrast-active .mat-nav-list .mat-list-item:focus,.cdk-high-contrast-active mat-action-list .mat-list-item:hover,.cdk-high-contrast-active mat-action-list .mat-list-item:focus{outline:dotted 1px}.cdk-high-contrast-active .mat-list-single-selected-option::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active [dir=rtl] .mat-list-single-selected-option::after{right:auto;left:16px}@media(hover: none){.mat-list-option:not(.mat-list-single-selected-option):not(.mat-list-item-disabled):hover,.mat-nav-list .mat-list-item:not(.mat-list-item-disabled):hover,.mat-action-list .mat-list-item:not(.mat-list-item-disabled):hover{background:none}}\n',d=[[["","mat-list-avatar",""],["","mat-list-icon",""],["","matListAvatar",""],["","matListIcon",""]],[["","mat-line",""],["","matLine",""]],"*"],p=["[mat-list-avatar], [mat-list-icon], [matListAvatar], [matListIcon]","[mat-line], [matLine]","*"],f=(0,s.Id)((0,s.Kr)(class{})),m=(0,s.Kr)(class{}),g=new r.OlP("MatList"),_=new r.OlP("MatNavList");let y=(()=>{class t extends f{constructor(){super(...arguments),this._stateChanges=new a.xQ}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}return t.\u0275fac=function(){let e;return function(n){return(e||(e=r.n5z(t)))(n||t)}}(),t.\u0275cmp=r.Xpm({type:t,selectors:[["mat-nav-list"]],hostAttrs:["role","navigation",1,"mat-nav-list","mat-list-base"],inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matNavList"],features:[r._Bn([{provide:_,useExisting:t}]),r.qOj,r.TTD],ngContentSelectors:u,decls:1,vars:0,template:function(t,e){1&t&&(r.F$t(),r.Hsn(0))},styles:[h],encapsulation:2,changeDetection:0}),t})(),v=(()=>{class t extends f{constructor(t){super(),this._elementRef=t,this._stateChanges=new a.xQ,"action-list"===this._getListType()&&t.nativeElement.classList.add("mat-action-list")}_getListType(){const t=this._elementRef.nativeElement.nodeName.toLowerCase();return"mat-list"===t?"list":"mat-action-list"===t?"action-list":null}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.SBq))},t.\u0275cmp=r.Xpm({type:t,selectors:[["mat-list"],["mat-action-list"]],hostAttrs:[1,"mat-list","mat-list-base"],inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matList"],features:[r._Bn([{provide:g,useExisting:t}]),r.qOj,r.TTD],ngContentSelectors:u,decls:1,vars:0,template:function(t,e){1&t&&(r.F$t(),r.Hsn(0))},styles:[h],encapsulation:2,changeDetection:0}),t})(),b=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.lG2({type:t,selectors:[["","mat-list-avatar",""],["","matListAvatar",""]],hostAttrs:[1,"mat-list-avatar"]}),t})(),w=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.lG2({type:t,selectors:[["","mat-list-icon",""],["","matListIcon",""]],hostAttrs:[1,"mat-list-icon"]}),t})(),C=(()=>{class t extends m{constructor(t,e,n,i){super(),this._element=t,this._isInteractiveList=!1,this._destroyed=new a.xQ,this._disabled=!1,this._isInteractiveList=!!(n||i&&"action-list"===i._getListType()),this._list=n||i;const r=this._getHostElement();"button"!==r.nodeName.toLowerCase()||r.hasAttribute("type")||r.setAttribute("type","button"),this._list&&this._list._stateChanges.pipe((0,l.R)(this._destroyed)).subscribe(()=>{e.markForCheck()})}get disabled(){return this._disabled||!(!this._list||!this._list.disabled)}set disabled(t){this._disabled=(0,o.Ig)(t)}ngAfterContentInit(){(0,s.E0)(this._lines,this._element)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_isRippleDisabled(){return!this._isInteractiveList||this.disableRipple||!(!this._list||!this._list.disableRipple)}_getHostElement(){return this._element.nativeElement}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.SBq),r.Y36(r.sBO),r.Y36(_,8),r.Y36(g,8))},t.\u0275cmp=r.Xpm({type:t,selectors:[["mat-list-item"],["a","mat-list-item",""],["button","mat-list-item",""]],contentQueries:function(t,e,n){if(1&t&&(r.Suo(n,b,5),r.Suo(n,w,5),r.Suo(n,s.X2,5)),2&t){let t;r.iGM(t=r.CRH())&&(e._avatar=t.first),r.iGM(t=r.CRH())&&(e._icon=t.first),r.iGM(t=r.CRH())&&(e._lines=t)}},hostAttrs:[1,"mat-list-item","mat-focus-indicator"],hostVars:6,hostBindings:function(t,e){2&t&&r.ekj("mat-list-item-disabled",e.disabled)("mat-list-item-avatar",e._avatar||e._icon)("mat-list-item-with-avatar",e._avatar||e._icon)},inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matListItem"],features:[r.qOj],ngContentSelectors:p,decls:6,vars:2,consts:[[1,"mat-list-item-content"],["mat-ripple","",1,"mat-list-item-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-list-text"]],template:function(t,e){1&t&&(r.F$t(d),r.TgZ(0,"div",0),r._UZ(1,"div",1),r.Hsn(2),r.TgZ(3,"div",2),r.Hsn(4,1),r.qZA(),r.Hsn(5,2),r.qZA()),2&t&&(r.xp6(1),r.Q6J("matRippleTrigger",e._getHostElement())("matRippleDisabled",e._isRippleDisabled()))},directives:[s.wG],encapsulation:2,changeDetection:0}),t})(),E=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[s.uc,s.si,s.BQ,s.us,i.ez],s.uc,s.BQ,s.us,c.t]}),t})()},7672:(t,e,n)=>{"use strict";n.d(e,{Cq:()=>y,$g:()=>_});var i=n(5366),r=n(1116),s=n(7064),o=n(9861),a=n(3169),l=n(6136);function c(t,e){if(1&t&&(i.O4$(),i._UZ(0,"circle",3)),2&t){const t=i.oxw();i.Udp("animation-name","mat-progress-spinner-stroke-rotate-"+t._spinnerAnimationLabel)("stroke-dashoffset",t._getStrokeDashOffset(),"px")("stroke-dasharray",t._getStrokeCircumference(),"px")("stroke-width",t._getCircleStrokeWidth(),"%"),i.uIk("r",t._getCircleRadius())}}function u(t,e){if(1&t&&(i.O4$(),i._UZ(0,"circle",3)),2&t){const t=i.oxw();i.Udp("stroke-dashoffset",t._getStrokeDashOffset(),"px")("stroke-dasharray",t._getStrokeCircumference(),"px")("stroke-width",t._getCircleStrokeWidth(),"%"),i.uIk("r",t._getCircleRadius())}}function h(t,e){if(1&t&&(i.O4$(),i._UZ(0,"circle",3)),2&t){const t=i.oxw();i.Udp("animation-name","mat-progress-spinner-stroke-rotate-"+t._spinnerAnimationLabel)("stroke-dashoffset",t._getStrokeDashOffset(),"px")("stroke-dasharray",t._getStrokeCircumference(),"px")("stroke-width",t._getCircleStrokeWidth(),"%"),i.uIk("r",t._getCircleRadius())}}function d(t,e){if(1&t&&(i.O4$(),i._UZ(0,"circle",3)),2&t){const t=i.oxw();i.Udp("stroke-dashoffset",t._getStrokeDashOffset(),"px")("stroke-dasharray",t._getStrokeCircumference(),"px")("stroke-width",t._getCircleStrokeWidth(),"%"),i.uIk("r",t._getCircleRadius())}}const p=".mat-progress-spinner{display:block;position:relative;overflow:hidden}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:transparent;transform-origin:center;transition:stroke-dashoffset 225ms linear}._mat-animation-noopable.mat-progress-spinner circle{transition:none;animation:none}.cdk-high-contrast-active .mat-progress-spinner circle{stroke:currentColor;stroke:CanvasText}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] svg{animation:mat-progress-spinner-stroke-rotate-fallback 10000ms cubic-bezier(0.87, 0.03, 0.33, 1) infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] svg{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] circle{transition-property:stroke}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] circle{transition:none;animation:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}@keyframes mat-progress-spinner-stroke-rotate-fallback{0%{transform:rotate(0deg)}25%{transform:rotate(1170deg)}50%{transform:rotate(2340deg)}75%{transform:rotate(3510deg)}100%{transform:rotate(4680deg)}}\n",f=(0,s.pj)(class{constructor(t){this._elementRef=t}},"primary"),m=new i.OlP("mat-progress-spinner-default-options",{providedIn:"root",factory:function(){return{diameter:100}}});let g=(()=>{class t extends f{constructor(e,n,i,r,s){super(e),this._document=i,this._diameter=100,this._value=0,this._fallbackAnimation=!1,this.mode="determinate";const o=t._diameters;this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),o.has(i.head)||o.set(i.head,new Set([100])),this._fallbackAnimation=n.EDGE||n.TRIDENT,this._noopAnimations="NoopAnimations"===r&&!!s&&!s._forceAnimations,s&&(s.diameter&&(this.diameter=s.diameter),s.strokeWidth&&(this.strokeWidth=s.strokeWidth))}get diameter(){return this._diameter}set diameter(t){this._diameter=(0,o.su)(t),this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),!this._fallbackAnimation&&this._styleRoot&&this._attachStyleNode()}get strokeWidth(){return this._strokeWidth||this.diameter/10}set strokeWidth(t){this._strokeWidth=(0,o.su)(t)}get value(){return"determinate"===this.mode?this._value:0}set value(t){this._value=Math.max(0,Math.min(100,(0,o.su)(t)))}ngOnInit(){const t=this._elementRef.nativeElement;this._styleRoot=(0,a.kV)(t)||this._document.head,this._attachStyleNode(),t.classList.add(`mat-progress-spinner-indeterminate${this._fallbackAnimation?"-fallback":""}-animation`)}_getCircleRadius(){return(this.diameter-10)/2}_getViewBox(){const t=2*this._getCircleRadius()+this.strokeWidth;return`0 0 ${t} ${t}`}_getStrokeCircumference(){return 2*Math.PI*this._getCircleRadius()}_getStrokeDashOffset(){return"determinate"===this.mode?this._getStrokeCircumference()*(100-this._value)/100:this._fallbackAnimation&&"indeterminate"===this.mode?.2*this._getStrokeCircumference():null}_getCircleStrokeWidth(){return this.strokeWidth/this.diameter*100}_attachStyleNode(){const e=this._styleRoot,n=this._diameter,i=t._diameters;let r=i.get(e);if(!r||!r.has(n)){const t=this._document.createElement("style");t.setAttribute("mat-spinner-animation",this._spinnerAnimationLabel),t.textContent=this._getAnimationText(),e.appendChild(t),r||(r=new Set,i.set(e,r)),r.add(n)}}_getAnimationText(){const t=this._getStrokeCircumference();return"\n @keyframes mat-progress-spinner-stroke-rotate-DIAMETER {\n    0%      { stroke-dashoffset: START_VALUE;  transform: rotate(0); }\n    12.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(0); }\n    12.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(72.5deg); }\n    25%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(72.5deg); }\n\n    25.0001%   { stroke-dashoffset: START_VALUE;  transform: rotate(270deg); }\n    37.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(270deg); }\n    37.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(161.5deg); }\n    50%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(161.5deg); }\n\n    50.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(180deg); }\n    62.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(180deg); }\n    62.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(251.5deg); }\n    75%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(251.5deg); }\n\n    75.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(90deg); }\n    87.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(90deg); }\n    87.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(341.5deg); }\n    100%    { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(341.5deg); }\n  }\n".replace(/START_VALUE/g,""+.95*t).replace(/END_VALUE/g,""+.2*t).replace(/DIAMETER/g,`${this._spinnerAnimationLabel}`)}_getSpinnerAnimationLabel(){return this.diameter.toString().replace(".","_")}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.SBq),i.Y36(a.t4),i.Y36(r.K0,8),i.Y36(l.Qb,8),i.Y36(m))},t.\u0275cmp=i.Xpm({type:t,selectors:[["mat-progress-spinner"]],hostAttrs:["role","progressbar","tabindex","-1",1,"mat-progress-spinner"],hostVars:10,hostBindings:function(t,e){2&t&&(i.uIk("aria-valuemin","determinate"===e.mode?0:null)("aria-valuemax","determinate"===e.mode?100:null)("aria-valuenow","determinate"===e.mode?e.value:null)("mode",e.mode),i.Udp("width",e.diameter,"px")("height",e.diameter,"px"),i.ekj("_mat-animation-noopable",e._noopAnimations))},inputs:{color:"color",mode:"mode",diameter:"diameter",strokeWidth:"strokeWidth",value:"value"},exportAs:["matProgressSpinner"],features:[i.qOj],decls:3,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false","aria-hidden","true",3,"ngSwitch"],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(t,e){1&t&&(i.O4$(),i.TgZ(0,"svg",0),i.YNc(1,c,1,9,"circle",1),i.YNc(2,u,1,7,"circle",2),i.qZA()),2&t&&(i.Udp("width",e.diameter,"px")("height",e.diameter,"px"),i.Q6J("ngSwitch","indeterminate"===e.mode),i.uIk("viewBox",e._getViewBox()),i.xp6(1),i.Q6J("ngSwitchCase",!0),i.xp6(1),i.Q6J("ngSwitchCase",!1))},directives:[r.RF,r.n9],styles:[p],encapsulation:2,changeDetection:0}),t._diameters=new WeakMap,t})(),_=(()=>{class t extends g{constructor(t,e,n,i,r){super(t,e,n,i,r),this.mode="indeterminate"}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.SBq),i.Y36(a.t4),i.Y36(r.K0,8),i.Y36(l.Qb,8),i.Y36(m))},t.\u0275cmp=i.Xpm({type:t,selectors:[["mat-spinner"]],hostAttrs:["role","progressbar","mode","indeterminate",1,"mat-spinner","mat-progress-spinner"],hostVars:6,hostBindings:function(t,e){2&t&&(i.Udp("width",e.diameter,"px")("height",e.diameter,"px"),i.ekj("_mat-animation-noopable",e._noopAnimations))},inputs:{color:"color"},features:[i.qOj],decls:3,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false","aria-hidden","true",3,"ngSwitch"],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(t,e){1&t&&(i.O4$(),i.TgZ(0,"svg",0),i.YNc(1,h,1,9,"circle",1),i.YNc(2,d,1,7,"circle",2),i.qZA()),2&t&&(i.Udp("width",e.diameter,"px")("height",e.diameter,"px"),i.Q6J("ngSwitch","indeterminate"===e.mode),i.uIk("viewBox",e._getViewBox()),i.xp6(1),i.Q6J("ngSwitchCase",!0),i.xp6(1),i.Q6J("ngSwitchCase",!1))},directives:[r.RF,r.n9],styles:[p],encapsulation:2,changeDetection:0}),t})(),y=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[[s.BQ,r.ez],s.BQ]}),t})()},3841:(t,e,n)=>{"use strict";n.d(e,{gD:()=>G,LD:()=>$});var i=n(5333),r=n(1116),s=n(5366),o=n(7064),a=n(3070),l=n(7205),c=n(7388),u=n(9861),h=n(8378),d=n(9235),p=n(5959),f=n(1450),m=n(1906),g=n(6238),_=n(4689),y=n(611),v=n(3835),b=n(9996),w=n(8720),C=n(5416),E=n(9713),S=n(4720),x=n(1041);const k=["trigger"],T=["panel"];function I(t,e){if(1&t&&(s.TgZ(0,"span",8),s._uU(1),s.qZA()),2&t){const t=s.oxw();s.xp6(1),s.Oqu(t.placeholder)}}function A(t,e){if(1&t&&(s.TgZ(0,"span",12),s._uU(1),s.qZA()),2&t){const t=s.oxw(2);s.xp6(1),s.Oqu(t.triggerValue)}}function D(t,e){1&t&&s.Hsn(0,0,["*ngSwitchCase","true"])}function R(t,e){if(1&t&&(s.TgZ(0,"span",9),s.YNc(1,A,2,1,"span",10),s.YNc(2,D,1,0,"ng-content",11),s.qZA()),2&t){const t=s.oxw();s.Q6J("ngSwitch",!!t.customTrigger),s.xp6(2),s.Q6J("ngSwitchCase",!0)}}function O(t,e){if(1&t){const t=s.EpF();s.TgZ(0,"div",13),s.TgZ(1,"div",14,15),s.NdJ("@transformPanel.done",function(e){return s.CHM(t),s.oxw()._panelDoneAnimatingStream.next(e.toState)})("keydown",function(e){return s.CHM(t),s.oxw()._handleKeydown(e)}),s.Hsn(3,1),s.qZA(),s.qZA()}if(2&t){const t=s.oxw();s.Q6J("@transformPanelWrap",void 0),s.xp6(1),s.Gre("mat-select-panel ",t._getPanelTheme(),""),s.Udp("transform-origin",t._transformOrigin)("font-size",t._triggerFontSize,"px"),s.Q6J("ngClass",t.panelClass)("@transformPanel",t.multiple?"showing-multiple":"showing"),s.uIk("id",t.id+"-panel")("aria-multiselectable",t.multiple)("aria-label",t.ariaLabel||null)("aria-labelledby",t._getPanelAriaLabelledby())}}const P=[[["mat-select-trigger"]],"*"],N=["mat-select-trigger","*"],F={transformPanelWrap:(0,E.X$)("transformPanelWrap",[(0,E.eR)("* => void",(0,E.IO)("@transformPanel",[(0,E.pV)()],{optional:!0}))]),transformPanel:(0,E.X$)("transformPanel",[(0,E.SB)("void",(0,E.oB)({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),(0,E.SB)("showing",(0,E.oB)({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),(0,E.SB)("showing-multiple",(0,E.oB)({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),(0,E.eR)("void => *",(0,E.jt)("120ms cubic-bezier(0, 0, 0.2, 1)")),(0,E.eR)("* => void",(0,E.jt)("100ms 25ms linear",(0,E.oB)({opacity:0})))])};let L=0;const M=256,B=new s.OlP("mat-select-scroll-strategy"),V=new s.OlP("MAT_SELECT_CONFIG"),U={provide:B,deps:[i.aV],useFactory:function(t){return()=>t.scrollStrategies.reposition()}};class j{constructor(t,e){this.source=t,this.value=e}}const q=(0,o.Kr)((0,o.sb)((0,o.Id)((0,o.FD)(class{constructor(t,e,n,i,r){this._elementRef=t,this._defaultErrorStateMatcher=e,this._parentForm=n,this._parentFormGroup=i,this.ngControl=r}})))),z=new s.OlP("MatSelectTrigger");let H=(()=>{class t extends q{constructor(t,e,n,i,r,o,a,l,c,u,h,d,w,C){var E,S,x;super(r,i,a,l,u),this._viewportRuler=t,this._changeDetectorRef=e,this._ngZone=n,this._dir=o,this._parentFormField=c,this._liveAnnouncer=w,this._defaultOptions=C,this._panelOpen=!1,this._compareWith=(t,e)=>t===e,this._uid="mat-select-"+L++,this._triggerAriaLabelledBy=null,this._destroy=new p.xQ,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+L++,this._panelDoneAnimatingStream=new p.xQ,this._overlayPanelClass=(null===(E=this._defaultOptions)||void 0===E?void 0:E.overlayPanelClass)||"",this._focused=!1,this.controlType="mat-select",this._required=!1,this._multiple=!1,this._disableOptionCentering=null!==(x=null===(S=this._defaultOptions)||void 0===S?void 0:S.disableOptionCentering)&&void 0!==x&&x,this.ariaLabel="",this.optionSelectionChanges=(0,f.P)(()=>{const t=this.options;return t?t.changes.pipe((0,g.O)(t),(0,_.w)(()=>(0,m.T)(...t.map(t=>t.onSelectionChange)))):this._ngZone.onStable.pipe((0,y.q)(1),(0,_.w)(()=>this.optionSelectionChanges))}),this.openedChange=new s.vpe,this._openedStream=this.openedChange.pipe((0,v.h)(t=>t),(0,b.U)(()=>{})),this._closedStream=this.openedChange.pipe((0,v.h)(t=>!t),(0,b.U)(()=>{})),this.selectionChange=new s.vpe,this.valueChange=new s.vpe,this.ngControl&&(this.ngControl.valueAccessor=this),null!=(null==C?void 0:C.typeaheadDebounceInterval)&&(this._typeaheadDebounceInterval=C.typeaheadDebounceInterval),this._scrollStrategyFactory=d,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(h)||0,this.id=this.id}get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(t){this._placeholder=t,this.stateChanges.next()}get required(){return this._required}set required(t){this._required=(0,u.Ig)(t),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(t){this._multiple=(0,u.Ig)(t)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(t){this._disableOptionCentering=(0,u.Ig)(t)}get compareWith(){return this._compareWith}set compareWith(t){this._compareWith=t,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(t){(t!==this._value||this._multiple&&Array.isArray(t))&&(this.options&&this._setSelectionByValue(t),this._value=t)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(t){this._typeaheadDebounceInterval=(0,u.su)(t)}get id(){return this._id}set id(t){this._id=t||this._uid,this.stateChanges.next()}ngOnInit(){this._selectionModel=new h.Ov(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe((0,w.x)(),(0,C.R)(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe((0,C.R)(this._destroy)).subscribe(t=>{t.added.forEach(t=>t.select()),t.removed.forEach(t=>t.deselect())}),this.options.changes.pipe((0,g.O)(null),(0,C.R)(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const t=this._getTriggerAriaLabelledby();if(t!==this._triggerAriaLabelledBy){const e=this._elementRef.nativeElement;this._triggerAriaLabelledBy=t,t?e.setAttribute("aria-labelledby",t):e.removeAttribute("aria-labelledby")}this.ngControl&&this.updateErrorState()}ngOnChanges(t){t.disabled&&this.stateChanges.next(),t.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(t){this.value=t}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel.selected:this._selectionModel.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const t=this._selectionModel.selected.map(t=>t.viewValue);return this._isRtl()&&t.reverse(),t.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(t){this.disabled||(this.panelOpen?this._handleOpenKeydown(t):this._handleClosedKeydown(t))}_handleClosedKeydown(t){const e=t.keyCode,n=e===d.JH||e===d.LH||e===d.oh||e===d.SV,i=e===d.K5||e===d.L_,r=this._keyManager;if(!r.isTyping()&&i&&!(0,d.Vb)(t)||(this.multiple||t.altKey)&&n)t.preventDefault(),this.open();else if(!this.multiple){const e=this.selected;r.onKeydown(t);const n=this.selected;n&&e!==n&&this._liveAnnouncer.announce(n.viewValue,1e4)}}_handleOpenKeydown(t){const e=this._keyManager,n=t.keyCode,i=n===d.JH||n===d.LH,r=e.isTyping();if(i&&t.altKey)t.preventDefault(),this.close();else if(r||n!==d.K5&&n!==d.L_||!e.activeItem||(0,d.Vb)(t))if(!r&&this._multiple&&n===d.A&&t.ctrlKey){t.preventDefault();const e=this.options.some(t=>!t.disabled&&!t.selected);this.options.forEach(t=>{t.disabled||(e?t.select():t.deselect())})}else{const n=e.activeItemIndex;e.onKeydown(t),this._multiple&&i&&t.shiftKey&&e.activeItem&&e.activeItemIndex!==n&&e.activeItem._selectViaInteraction()}else t.preventDefault(),e.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this.disabled||this.panelOpen||(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe((0,y.q)(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this._setSelectionByValue(this.ngControl?this.ngControl.value:this._value),this.stateChanges.next()})}_setSelectionByValue(t){if(this._selectionModel.selected.forEach(t=>t.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&t)Array.isArray(t),t.forEach(t=>this._selectValue(t)),this._sortValues();else{const e=this._selectValue(t);e?this._keyManager.updateActiveItem(e):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectValue(t){const e=this.options.find(e=>{if(this._selectionModel.isSelected(e))return!1;try{return null!=e.value&&this._compareWith(e.value,t)}catch(n){return!1}});return e&&this._selectionModel.select(e),e}_initKeyManager(){this._keyManager=new c.s1(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe((0,C.R)(this._destroy)).subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.pipe((0,C.R)(this._destroy)).subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):this._panelOpen||this.multiple||!this._keyManager.activeItem||this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const t=(0,m.T)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe((0,C.R)(t)).subscribe(t=>{this._onSelect(t.source,t.isUserInput),t.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,m.T)(...this.options.map(t=>t._stateChanges)).pipe((0,C.R)(t)).subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}_onSelect(t,e){const n=this._selectionModel.isSelected(t);null!=t.value||this._multiple?(n!==t.selected&&(t.selected?this._selectionModel.select(t):this._selectionModel.deselect(t)),e&&this._keyManager.setActiveItem(t),this.multiple&&(this._sortValues(),e&&this.focus())):(t.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(t.value)),n!==this._selectionModel.isSelected(t)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const t=this.options.toArray();this._selectionModel.sort((e,n)=>this.sortComparator?this.sortComparator(e,n,t):t.indexOf(e)-t.indexOf(n)),this.stateChanges.next()}}_propagateChanges(t){let e=null;e=this.multiple?this.selected.map(t=>t.value):this.selected?this.selected.value:t,this._value=e,this.valueChange.emit(e),this._onChange(e),this.selectionChange.emit(this._getChangeEvent(e)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_canOpen(){var t;return!this._panelOpen&&!this.disabled&&(null===(t=this.options)||void 0===t?void 0:t.length)>0}focus(t){this._elementRef.nativeElement.focus(t)}_getPanelAriaLabelledby(){var t;if(this.ariaLabel)return null;const e=null===(t=this._parentFormField)||void 0===t?void 0:t.getLabelId();return this.ariaLabelledby?(e?e+" ":"")+this.ariaLabelledby:e}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){var t;if(this.ariaLabel)return null;const e=null===(t=this._parentFormField)||void 0===t?void 0:t.getLabelId();let n=(e?e+" ":"")+this._valueId;return this.ariaLabelledby&&(n+=" "+this.ariaLabelledby),n}_panelDoneAnimating(t){this.openedChange.emit(t)}setDescribedByIds(t){this._ariaDescribedby=t.join(" ")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(l.rL),s.Y36(s.sBO),s.Y36(s.R0b),s.Y36(o.rD),s.Y36(s.SBq),s.Y36(S.Is,8),s.Y36(x.F,8),s.Y36(x.sg,8),s.Y36(a.G_,8),s.Y36(x.a5,10),s.$8M("tabindex"),s.Y36(B),s.Y36(c.Kd),s.Y36(V,8))},t.\u0275dir=s.lG2({type:t,viewQuery:function(t,e){if(1&t&&(s.Gf(k,5),s.Gf(T,5),s.Gf(i.pI,5)),2&t){let t;s.iGM(t=s.CRH())&&(e.trigger=t.first),s.iGM(t=s.CRH())&&(e.panel=t.first),s.iGM(t=s.CRH())&&(e._overlayDir=t.first)}},inputs:{ariaLabel:["aria-label","ariaLabel"],id:"id",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",typeaheadDebounceInterval:"typeaheadDebounceInterval",panelClass:"panelClass",ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",sortComparator:"sortComparator"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[s.qOj,s.TTD]}),t})(),G=(()=>{class t extends H{constructor(){super(...arguments),this._scrollTop=0,this._triggerFontSize=0,this._transformOrigin="top",this._offsetY=0,this._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}]}_calculateOverlayScroll(t,e,n){const i=this._getItemHeight();return Math.min(Math.max(0,i*t-e+i/2),n)}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe((0,C.R)(this._destroy)).subscribe(()=>{this.panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._changeDetectorRef.markForCheck())})}open(){super._canOpen()&&(super.open(),this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._calculateOverlayPosition(),this._ngZone.onStable.pipe((0,y.q)(1)).subscribe(()=>{this._triggerFontSize&&this._overlayDir.overlayRef&&this._overlayDir.overlayRef.overlayElement&&(this._overlayDir.overlayRef.overlayElement.style.fontSize=`${this._triggerFontSize}px`)}))}_scrollOptionIntoView(t){const e=(0,o.CB)(t,this.options,this.optionGroups),n=this._getItemHeight();this.panel.nativeElement.scrollTop=0===t&&1===e?0:(0,o.jH)((t+e)*n,n,this.panel.nativeElement.scrollTop,M)}_positioningSettled(){this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop}_panelDoneAnimating(t){this.panelOpen?this._scrollTop=0:(this._overlayDir.offsetX=0,this._changeDetectorRef.markForCheck()),super._panelDoneAnimating(t)}_getChangeEvent(t){return new j(this,t)}_calculateOverlayOffsetX(){const t=this._overlayDir.overlayRef.overlayElement.getBoundingClientRect(),e=this._viewportRuler.getViewportSize(),n=this._isRtl(),i=this.multiple?56:32;let r;if(this.multiple)r=40;else if(this.disableOptionCentering)r=16;else{let t=this._selectionModel.selected[0]||this.options.first;r=t&&t.group?32:16}n||(r*=-1);const s=0-(t.left+r-(n?i:0)),o=t.right+r-e.width+(n?0:i);s>0?r+=s+8:o>0&&(r-=o+8),this._overlayDir.offsetX=Math.round(r),this._overlayDir.overlayRef.updatePosition()}_calculateOverlayOffsetY(t,e,n){const i=this._getItemHeight(),r=(i-this._triggerRect.height)/2,s=Math.floor(M/i);let o;return this.disableOptionCentering?0:(o=0===this._scrollTop?t*i:this._scrollTop===n?(t-(this._getItemCount()-s))*i+(i-(this._getItemCount()*i-M)%i):e-i/2,Math.round(-1*o-r))}_checkOverlayWithinViewport(t){const e=this._getItemHeight(),n=this._viewportRuler.getViewportSize(),i=this._triggerRect.top-8,r=n.height-this._triggerRect.bottom-8,s=Math.abs(this._offsetY),o=Math.min(this._getItemCount()*e,M)-s-this._triggerRect.height;o>r?this._adjustPanelUp(o,r):s>i?this._adjustPanelDown(s,i,t):this._transformOrigin=this._getOriginBasedOnOption()}_adjustPanelUp(t,e){const n=Math.round(t-e);this._scrollTop-=n,this._offsetY-=n,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}_adjustPanelDown(t,e,n){const i=Math.round(t-e);if(this._scrollTop+=i,this._offsetY+=i,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=n)return this._scrollTop=n,this._offsetY=0,void(this._transformOrigin="50% top 0px")}_calculateOverlayPosition(){const t=this._getItemHeight(),e=this._getItemCount(),n=Math.min(e*t,M),i=e*t-n;let r;r=this.empty?0:Math.max(this.options.toArray().indexOf(this._selectionModel.selected[0]),0),r+=(0,o.CB)(r,this.options,this.optionGroups);const s=n/2;this._scrollTop=this._calculateOverlayScroll(r,s,i),this._offsetY=this._calculateOverlayOffsetY(r,s,i),this._checkOverlayWithinViewport(i)}_getOriginBasedOnOption(){const t=this._getItemHeight(),e=(t-this._triggerRect.height)/2;return`50% ${Math.abs(this._offsetY)-e+t/2}px 0px`}_getItemHeight(){return 3*this._triggerFontSize}_getItemCount(){return this.options.length+this.optionGroups.length}}return t.\u0275fac=function(){let e;return function(n){return(e||(e=s.n5z(t)))(n||t)}}(),t.\u0275cmp=s.Xpm({type:t,selectors:[["mat-select"]],contentQueries:function(t,e,n){if(1&t&&(s.Suo(n,z,5),s.Suo(n,o.ey,5),s.Suo(n,o.K7,5)),2&t){let t;s.iGM(t=s.CRH())&&(e.customTrigger=t.first),s.iGM(t=s.CRH())&&(e.options=t),s.iGM(t=s.CRH())&&(e.optionGroups=t)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","true",1,"mat-select"],hostVars:20,hostBindings:function(t,e){1&t&&s.NdJ("keydown",function(t){return e._handleKeydown(t)})("focus",function(){return e._onFocus()})("blur",function(){return e._onBlur()}),2&t&&(s.uIk("id",e.id)("tabindex",e.tabIndex)("aria-controls",e.panelOpen?e.id+"-panel":null)("aria-expanded",e.panelOpen)("aria-label",e.ariaLabel||null)("aria-required",e.required.toString())("aria-disabled",e.disabled.toString())("aria-invalid",e.errorState)("aria-describedby",e._ariaDescribedby||null)("aria-activedescendant",e._getAriaActiveDescendant()),s.ekj("mat-select-disabled",e.disabled)("mat-select-invalid",e.errorState)("mat-select-required",e.required)("mat-select-empty",e.empty)("mat-select-multiple",e.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matSelect"],features:[s._Bn([{provide:a.Eo,useExisting:t},{provide:o.HF,useExisting:t}]),s.qOj],ngContentSelectors:N,decls:9,vars:12,consts:[["cdk-overlay-origin","",1,"mat-select-trigger",3,"click"],["origin","cdkOverlayOrigin","trigger",""],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder mat-select-min-line",4,"ngSwitchCase"],["class","mat-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","backdropClick","attach","detach"],[1,"mat-select-placeholder","mat-select-min-line"],[1,"mat-select-value-text",3,"ngSwitch"],["class","mat-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-min-line"],[1,"mat-select-panel-wrap"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(t,e){if(1&t&&(s.F$t(P),s.TgZ(0,"div",0,1),s.NdJ("click",function(){return e.toggle()}),s.TgZ(3,"div",2),s.YNc(4,I,2,1,"span",3),s.YNc(5,R,3,2,"span",4),s.qZA(),s.TgZ(6,"div",5),s._UZ(7,"div",6),s.qZA(),s.qZA(),s.YNc(8,O,4,14,"ng-template",7),s.NdJ("backdropClick",function(){return e.close()})("attach",function(){return e._onAttached()})("detach",function(){return e.close()})),2&t){const t=s.MAs(1);s.uIk("aria-owns",e.panelOpen?e.id+"-panel":null),s.xp6(3),s.Q6J("ngSwitch",e.empty),s.uIk("id",e._valueId),s.xp6(1),s.Q6J("ngSwitchCase",!0),s.xp6(1),s.Q6J("ngSwitchCase",!1),s.xp6(3),s.Q6J("cdkConnectedOverlayPanelClass",e._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",e._scrollStrategy)("cdkConnectedOverlayOrigin",t)("cdkConnectedOverlayOpen",e.panelOpen)("cdkConnectedOverlayPositions",e._positions)("cdkConnectedOverlayMinWidth",null==e._triggerRect?null:e._triggerRect.width)("cdkConnectedOverlayOffsetY",e._offsetY)}},directives:[i.xu,r.RF,r.n9,i.pI,r.ED,r.mk],styles:['.mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-table;cursor:pointer;position:relative;box-sizing:border-box}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mat-select-value{display:table-cell;max-width:0;width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{display:table-cell;vertical-align:middle}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;margin:0 4px}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px;outline:0}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:transparent;-webkit-text-fill-color:transparent;transition:none;display:block}.mat-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;opacity:0}\n'],encapsulation:2,data:{animation:[F.transformPanelWrap,F.transformPanel]},changeDetection:0}),t})(),$=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({providers:[U],imports:[[r.ez,i.U8,o.Ng,o.BQ],l.ZD,a.lN,o.Ng,o.BQ]}),t})()},3589:(t,e,n)=>{"use strict";n.d(e,{ux:()=>T,ZX:()=>x});var i=n(5333),r=n(2151),s=n(1116),o=n(5366),a=n(7064),l=n(4369),c=n(5959),u=n(611),h=n(5416),d=n(9713),p=n(7388),f=n(4546),m=n(3169);function g(t,e){if(1&t){const t=o.EpF();o.TgZ(0,"div",1),o.TgZ(1,"button",2),o.NdJ("click",function(){return o.CHM(t),o.oxw().action()}),o._uU(2),o.qZA(),o.qZA()}if(2&t){const t=o.oxw();o.xp6(2),o.Oqu(t.data.action)}}function _(t,e){}const y=new o.OlP("MatSnackBarData");class v{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}const b=Math.pow(2,31)-1;class w{constructor(t,e){this._overlayRef=e,this._afterDismissed=new c.xQ,this._afterOpened=new c.xQ,this._onAction=new c.xQ,this._dismissedByAction=!1,this.containerInstance=t,this.onAction().subscribe(()=>this.dismiss()),t._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(t){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(t,b))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}let C=(()=>{class t{constructor(t,e){this.snackBarRef=t,this.data=e}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(w),o.Y36(y))},t.\u0275cmp=o.Xpm({type:t,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-simple-snackbar"],decls:3,vars:2,consts:[["class","mat-simple-snackbar-action",4,"ngIf"],[1,"mat-simple-snackbar-action"],["mat-button","",3,"click"]],template:function(t,e){1&t&&(o.TgZ(0,"span"),o._uU(1),o.qZA(),o.YNc(2,g,3,1,"div",0)),2&t&&(o.xp6(1),o.Oqu(e.data.message),o.xp6(1),o.Q6J("ngIf",e.hasAction))},directives:[s.O5,l.lW],styles:[".mat-simple-snackbar{display:flex;justify-content:space-between;align-items:center;line-height:20px;opacity:1}.mat-simple-snackbar-action{flex-shrink:0;margin:-8px -8px -8px 8px}.mat-simple-snackbar-action button{max-height:36px;min-width:0}[dir=rtl] .mat-simple-snackbar-action{margin-left:-8px;margin-right:8px}\n"],encapsulation:2,changeDetection:0}),t})();const E={snackBarState:(0,d.X$)("state",[(0,d.SB)("void, hidden",(0,d.oB)({transform:"scale(0.8)",opacity:0})),(0,d.SB)("visible",(0,d.oB)({transform:"scale(1)",opacity:1})),(0,d.eR)("* => visible",(0,d.jt)("150ms cubic-bezier(0, 0, 0.2, 1)")),(0,d.eR)("* => void, * => hidden",(0,d.jt)("75ms cubic-bezier(0.4, 0.0, 1, 1)",(0,d.oB)({opacity:0})))])};let S=(()=>{class t extends r.en{constructor(t,e,n,i,r){super(),this._ngZone=t,this._elementRef=e,this._changeDetectorRef=n,this._platform=i,this.snackBarConfig=r,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new c.xQ,this._onExit=new c.xQ,this._onEnter=new c.xQ,this._animationState="void",this.attachDomPortal=t=>(this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachDomPortal(t)),this._live="assertive"!==r.politeness||r.announcementMessage?"off"===r.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(t){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachComponentPortal(t)}attachTemplatePortal(t){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachTemplatePortal(t)}onAnimationEnd(t){const{fromState:e,toState:n}=t;if(("void"===n&&"void"!==e||"hidden"===n)&&this._completeExit(),"visible"===n){const t=this._onEnter;this._ngZone.run(()=>{t.next(),t.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId),this._onExit}ngOnDestroy(){this._destroyed=!0,this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe((0,u.q)(1)).subscribe(()=>{this._onExit.next(),this._onExit.complete()})}_applySnackBarClasses(){const t=this._elementRef.nativeElement,e=this.snackBarConfig.panelClass;e&&(Array.isArray(e)?e.forEach(e=>t.classList.add(e)):t.classList.add(e)),"center"===this.snackBarConfig.horizontalPosition&&t.classList.add("mat-snack-bar-center"),"top"===this.snackBarConfig.verticalPosition&&t.classList.add("mat-snack-bar-top")}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const t=this._elementRef.nativeElement.querySelector("[aria-hidden]"),e=this._elementRef.nativeElement.querySelector("[aria-live]");if(t&&e){let n=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&t.contains(document.activeElement)&&(n=document.activeElement),t.removeAttribute("aria-hidden"),e.appendChild(t),null==n||n.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.R0b),o.Y36(o.SBq),o.Y36(o.sBO),o.Y36(m.t4),o.Y36(v))},t.\u0275cmp=o.Xpm({type:t,selectors:[["snack-bar-container"]],viewQuery:function(t,e){if(1&t&&o.Gf(r.Pl,7),2&t){let t;o.iGM(t=o.CRH())&&(e._portalOutlet=t.first)}},hostAttrs:[1,"mat-snack-bar-container"],hostVars:1,hostBindings:function(t,e){1&t&&o.WFA("@state.done",function(t){return e.onAnimationEnd(t)}),2&t&&o.d8E("@state",e._animationState)},features:[o.qOj],decls:3,vars:2,consts:[["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(t,e){1&t&&(o.TgZ(0,"div",0),o.YNc(1,_,0,0,"ng-template",1),o.qZA(),o._UZ(2,"div")),2&t&&(o.xp6(2),o.uIk("aria-live",e._live)("role",e._role))},directives:[r.Pl],styles:[".mat-snack-bar-container{border-radius:4px;box-sizing:border-box;display:block;margin:24px;max-width:33vw;min-width:344px;padding:14px 16px;min-height:48px;transform-origin:center}.cdk-high-contrast-active .mat-snack-bar-container{border:solid 1px}.mat-snack-bar-handset{width:100%}.mat-snack-bar-handset .mat-snack-bar-container{margin:8px;max-width:100%;min-width:0;width:100%}\n"],encapsulation:2,data:{animation:[E.snackBarState]}}),t})(),x=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[i.U8,r.eL,s.ez,l.ot,a.BQ],a.BQ]}),t})();const k=new o.OlP("mat-snack-bar-default-options",{providedIn:"root",factory:function(){return new v}});let T=(()=>{class t{constructor(t,e,n,i,r,s){this._overlay=t,this._live=e,this._injector=n,this._breakpointObserver=i,this._parentSnackBar=r,this._defaultConfig=s,this._snackBarRefAtThisLevel=null,this.simpleSnackBarComponent=C,this.snackBarContainerComponent=S,this.handsetCssClass="mat-snack-bar-handset"}get _openedSnackBarRef(){const t=this._parentSnackBar;return t?t._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(t){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=t:this._snackBarRefAtThisLevel=t}openFromComponent(t,e){return this._attach(t,e)}openFromTemplate(t,e){return this._attach(t,e)}open(t,e="",n){const i=Object.assign(Object.assign({},this._defaultConfig),n);return i.data={message:t,action:e},i.announcementMessage===t&&(i.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,i)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(t,e){const n=o.zs3.create({parent:e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,providers:[{provide:v,useValue:e}]}),i=new r.C5(this.snackBarContainerComponent,e.viewContainerRef,n),s=t.attach(i);return s.instance.snackBarConfig=e,s.instance}_attach(t,e){const n=Object.assign(Object.assign(Object.assign({},new v),this._defaultConfig),e),i=this._createOverlay(n),s=this._attachSnackBarContainer(i,n),a=new w(s,i);if(t instanceof o.Rgc){const e=new r.UE(t,null,{$implicit:n.data,snackBarRef:a});a.instance=s.attachTemplatePortal(e)}else{const e=this._createInjector(n,a),i=new r.C5(t,void 0,e),o=s.attachComponentPortal(i);a.instance=o.instance}return this._breakpointObserver.observe(f.u3.HandsetPortrait).pipe((0,h.R)(i.detachments())).subscribe(t=>{const e=i.overlayElement.classList;t.matches?e.add(this.handsetCssClass):e.remove(this.handsetCssClass)}),n.announcementMessage&&s._onAnnounce.subscribe(()=>{this._live.announce(n.announcementMessage,n.politeness)}),this._animateSnackBar(a,n),this._openedSnackBarRef=a,this._openedSnackBarRef}_animateSnackBar(t,e){t.afterDismissed().subscribe(()=>{this._openedSnackBarRef==t&&(this._openedSnackBarRef=null),e.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{t.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):t.containerInstance.enter(),e.duration&&e.duration>0&&t.afterOpened().subscribe(()=>t._dismissAfter(e.duration))}_createOverlay(t){const e=new i.X_;e.direction=t.direction;let n=this._overlay.position().global();const r="rtl"===t.direction,s="left"===t.horizontalPosition||"start"===t.horizontalPosition&&!r||"end"===t.horizontalPosition&&r,o=!s&&"center"!==t.horizontalPosition;return s?n.left("0"):o?n.right("0"):n.centerHorizontally(),"top"===t.verticalPosition?n.top("0"):n.bottom("0"),e.positionStrategy=n,this._overlay.create(e)}_createInjector(t,e){return o.zs3.create({parent:t&&t.viewContainerRef&&t.viewContainerRef.injector||this._injector,providers:[{provide:w,useValue:e},{provide:y,useValue:t.data}]})}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(i.aV),o.LFG(p.Kd),o.LFG(o.zs3),o.LFG(f.Yg),o.LFG(t,12),o.LFG(k))},t.\u0275prov=o.Yz7({factory:function(){return new t(o.LFG(i.aV),o.LFG(p.Kd),o.LFG(o.gxx),o.LFG(f.Yg),o.LFG(t,12),o.LFG(k))},token:t,providedIn:x}),t})()},7173:(t,e,n)=>{"use strict";n.d(e,{uX:()=>Z,SP:()=>it,Nh:()=>ut});var i=n(7388),r=n(7853),s=n(2151),o=n(1116),a=n(5366),l=n(7064),c=n(6136),u=n(5959),h=n(7570),d=n(1906),p=n(7254),f=n(878),m=n(1110),g=n(9713),_=n(6238),y=n(8720),v=n(5416),b=n(9861),w=n(3169),C=n(9235),E=n(4720),S=n(7205);function x(t,e){1&t&&a.Hsn(0)}const k=["*"];function T(t,e){}const I=function(t){return{animationDuration:t}},A=function(t,e){return{value:t,params:e}},D=["tabBodyWrapper"],R=["tabHeader"];function O(t,e){}function P(t,e){if(1&t&&a.YNc(0,O,0,0,"ng-template",9),2&t){const t=a.oxw().$implicit;a.Q6J("cdkPortalOutlet",t.templateLabel)}}function N(t,e){if(1&t&&a._uU(0),2&t){const t=a.oxw().$implicit;a.Oqu(t.textLabel)}}function F(t,e){if(1&t){const t=a.EpF();a.TgZ(0,"div",6),a.NdJ("click",function(){const e=a.CHM(t),n=e.$implicit,i=e.index,r=a.oxw(),s=a.MAs(1);return r._handleClick(n,s,i)})("cdkFocusChange",function(e){const n=a.CHM(t).index;return a.oxw()._tabFocusChanged(e,n)}),a.TgZ(1,"div",7),a.YNc(2,P,1,1,"ng-template",8),a.YNc(3,N,1,1,"ng-template",8),a.qZA(),a.qZA()}if(2&t){const t=e.$implicit,n=e.index,i=a.oxw();a.ekj("mat-tab-label-active",i.selectedIndex==n),a.Q6J("id",i._getTabLabelId(n))("disabled",t.disabled)("matRippleDisabled",t.disabled||i.disableRipple),a.uIk("tabIndex",i._getTabIndex(t,n))("aria-posinset",n+1)("aria-setsize",i._tabs.length)("aria-controls",i._getTabContentId(n))("aria-selected",i.selectedIndex==n)("aria-label",t.ariaLabel||null)("aria-labelledby",!t.ariaLabel&&t.ariaLabelledby?t.ariaLabelledby:null),a.xp6(2),a.Q6J("ngIf",t.templateLabel),a.xp6(1),a.Q6J("ngIf",!t.templateLabel)}}function L(t,e){if(1&t){const t=a.EpF();a.TgZ(0,"mat-tab-body",10),a.NdJ("_onCentered",function(){return a.CHM(t),a.oxw()._removeTabBodyWrapperHeight()})("_onCentering",function(e){return a.CHM(t),a.oxw()._setTabBodyWrapperHeight(e)}),a.qZA()}if(2&t){const t=e.$implicit,n=e.index,i=a.oxw();a.ekj("mat-tab-body-active",i.selectedIndex===n),a.Q6J("id",i._getTabContentId(n))("content",t.content)("position",t.position)("origin",t.origin)("animationDuration",i.animationDuration),a.uIk("tabindex",null!=i.contentTabIndex&&i.selectedIndex===n?i.contentTabIndex:null)("aria-labelledby",i._getTabLabelId(n))}}const M=["tabListContainer"],B=["tabList"],V=["nextPaginator"],U=["previousPaginator"],j=new a.OlP("MatInkBarPositioner",{providedIn:"root",factory:function(){return t=>({left:t?(t.offsetLeft||0)+"px":"0",width:t?(t.offsetWidth||0)+"px":"0"})}});let q=(()=>{class t{constructor(t,e,n,i){this._elementRef=t,this._ngZone=e,this._inkBarPositioner=n,this._animationMode=i}alignToElement(t){this.show(),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this._setStyles(t))}):this._setStyles(t)}show(){this._elementRef.nativeElement.style.visibility="visible"}hide(){this._elementRef.nativeElement.style.visibility="hidden"}_setStyles(t){const e=this._inkBarPositioner(t),n=this._elementRef.nativeElement;n.style.left=e.left,n.style.width=e.width}}return t.\u0275fac=function(e){return new(e||t)(a.Y36(a.SBq),a.Y36(a.R0b),a.Y36(j),a.Y36(c.Qb,8))},t.\u0275dir=a.lG2({type:t,selectors:[["mat-ink-bar"]],hostAttrs:[1,"mat-ink-bar"],hostVars:2,hostBindings:function(t,e){2&t&&a.ekj("_mat-animation-noopable","NoopAnimations"===e._animationMode)}}),t})();const z=new a.OlP("MatTabContent"),H=new a.OlP("MatTabLabel"),G=(0,l.Id)(class{}),$=new a.OlP("MAT_TAB_GROUP");let Z=(()=>{class t extends G{constructor(t,e){super(),this._viewContainerRef=t,this._closestTabGroup=e,this.textLabel="",this._contentPortal=null,this._stateChanges=new u.xQ,this.position=null,this.origin=null,this.isActive=!1}get templateLabel(){return this._templateLabel}set templateLabel(t){this._setTemplateLabelInput(t)}get content(){return this._contentPortal}ngOnChanges(t){(t.hasOwnProperty("textLabel")||t.hasOwnProperty("disabled"))&&this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}ngOnInit(){this._contentPortal=new s.UE(this._explicitContent||this._implicitContent,this._viewContainerRef)}_setTemplateLabelInput(t){t&&(this._templateLabel=t)}}return t.\u0275fac=function(e){return new(e||t)(a.Y36(a.s_b),a.Y36($,8))},t.\u0275cmp=a.Xpm({type:t,selectors:[["mat-tab"]],contentQueries:function(t,e,n){if(1&t&&(a.Suo(n,H,5),a.Suo(n,z,7,a.Rgc)),2&t){let t;a.iGM(t=a.CRH())&&(e.templateLabel=t.first),a.iGM(t=a.CRH())&&(e._explicitContent=t.first)}},viewQuery:function(t,e){if(1&t&&a.Gf(a.Rgc,7),2&t){let t;a.iGM(t=a.CRH())&&(e._implicitContent=t.first)}},inputs:{disabled:"disabled",textLabel:["label","textLabel"],ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"]},exportAs:["matTab"],features:[a.qOj,a.TTD],ngContentSelectors:k,decls:1,vars:0,template:function(t,e){1&t&&(a.F$t(),a.YNc(0,x,1,0,"ng-template"))},encapsulation:2}),t})();const Y={translateTab:(0,g.X$)("translateTab",[(0,g.SB)("center, void, left-origin-center, right-origin-center",(0,g.oB)({transform:"none"})),(0,g.SB)("left",(0,g.oB)({transform:"translate3d(-100%, 0, 0)",minHeight:"1px"})),(0,g.SB)("right",(0,g.oB)({transform:"translate3d(100%, 0, 0)",minHeight:"1px"})),(0,g.eR)("* => left, * => right, left => center, right => center",(0,g.jt)("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")),(0,g.eR)("void => left-origin-center",[(0,g.oB)({transform:"translate3d(-100%, 0, 0)"}),(0,g.jt)("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")]),(0,g.eR)("void => right-origin-center",[(0,g.oB)({transform:"translate3d(100%, 0, 0)"}),(0,g.jt)("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")])])};let W=(()=>{class t extends s.Pl{constructor(t,e,n,i){super(t,e,i),this._host=n,this._centeringSub=h.w.EMPTY,this._leavingSub=h.w.EMPTY}ngOnInit(){super.ngOnInit(),this._centeringSub=this._host._beforeCentering.pipe((0,_.O)(this._host._isCenterPosition(this._host._position))).subscribe(t=>{t&&!this.hasAttached()&&this.attach(this._host._content)}),this._leavingSub=this._host._afterLeavingCenter.subscribe(()=>{this.detach()})}ngOnDestroy(){super.ngOnDestroy(),this._centeringSub.unsubscribe(),this._leavingSub.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(a.Y36(a._Vd),a.Y36(a.s_b),a.Y36((0,a.Gpc)(()=>Q)),a.Y36(o.K0))},t.\u0275dir=a.lG2({type:t,selectors:[["","matTabBodyHost",""]],features:[a.qOj]}),t})(),K=(()=>{class t{constructor(t,e,n){this._elementRef=t,this._dir=e,this._dirChangeSubscription=h.w.EMPTY,this._translateTabComplete=new u.xQ,this._onCentering=new a.vpe,this._beforeCentering=new a.vpe,this._afterLeavingCenter=new a.vpe,this._onCentered=new a.vpe(!0),this.animationDuration="500ms",e&&(this._dirChangeSubscription=e.change.subscribe(t=>{this._computePositionAnimationState(t),n.markForCheck()})),this._translateTabComplete.pipe((0,y.x)((t,e)=>t.fromState===e.fromState&&t.toState===e.toState)).subscribe(t=>{this._isCenterPosition(t.toState)&&this._isCenterPosition(this._position)&&this._onCentered.emit(),this._isCenterPosition(t.fromState)&&!this._isCenterPosition(this._position)&&this._afterLeavingCenter.emit()})}set position(t){this._positionIndex=t,this._computePositionAnimationState()}ngOnInit(){"center"==this._position&&null!=this.origin&&(this._position=this._computePositionFromOrigin(this.origin))}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._translateTabComplete.complete()}_onTranslateTabStarted(t){const e=this._isCenterPosition(t.toState);this._beforeCentering.emit(e),e&&this._onCentering.emit(this._elementRef.nativeElement.clientHeight)}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_isCenterPosition(t){return"center"==t||"left-origin-center"==t||"right-origin-center"==t}_computePositionAnimationState(t=this._getLayoutDirection()){this._position=this._positionIndex<0?"ltr"==t?"left":"right":this._positionIndex>0?"ltr"==t?"right":"left":"center"}_computePositionFromOrigin(t){const e=this._getLayoutDirection();return"ltr"==e&&t<=0||"rtl"==e&&t>0?"left-origin-center":"right-origin-center"}}return t.\u0275fac=function(e){return new(e||t)(a.Y36(a.SBq),a.Y36(E.Is,8),a.Y36(a.sBO))},t.\u0275dir=a.lG2({type:t,inputs:{animationDuration:"animationDuration",position:"position",_content:["content","_content"],origin:"origin"},outputs:{_onCentering:"_onCentering",_beforeCentering:"_beforeCentering",_afterLeavingCenter:"_afterLeavingCenter",_onCentered:"_onCentered"}}),t})(),Q=(()=>{class t extends K{constructor(t,e,n){super(t,e,n)}}return t.\u0275fac=function(e){return new(e||t)(a.Y36(a.SBq),a.Y36(E.Is,8),a.Y36(a.sBO))},t.\u0275cmp=a.Xpm({type:t,selectors:[["mat-tab-body"]],viewQuery:function(t,e){if(1&t&&a.Gf(s.Pl,5),2&t){let t;a.iGM(t=a.CRH())&&(e._portalHost=t.first)}},hostAttrs:[1,"mat-tab-body"],features:[a.qOj],decls:3,vars:6,consts:[["cdkScrollable","",1,"mat-tab-body-content"],["content",""],["matTabBodyHost",""]],template:function(t,e){1&t&&(a.TgZ(0,"div",0,1),a.NdJ("@translateTab.start",function(t){return e._onTranslateTabStarted(t)})("@translateTab.done",function(t){return e._translateTabComplete.next(t)}),a.YNc(2,T,0,0,"ng-template",2),a.qZA()),2&t&&a.Q6J("@translateTab",a.WLB(3,A,e._position,a.VKq(1,I,e.animationDuration)))},directives:[W],styles:[".mat-tab-body-content{height:100%;overflow:auto}.mat-tab-group-dynamic-height .mat-tab-body-content{overflow:hidden}\n"],encapsulation:2,data:{animation:[Y.translateTab]}}),t})();const J=new a.OlP("MAT_TABS_CONFIG");let X=0;class tt{}const et=(0,l.pj)((0,l.Kr)(class{constructor(t){this._elementRef=t}}),"primary");let nt=(()=>{class t extends et{constructor(t,e,n,i){var r;super(t),this._changeDetectorRef=e,this._animationMode=i,this._tabs=new a.n_E,this._indexToSelect=0,this._tabBodyWrapperHeight=0,this._tabsSubscription=h.w.EMPTY,this._tabLabelSubscription=h.w.EMPTY,this._selectedIndex=null,this.headerPosition="above",this.selectedIndexChange=new a.vpe,this.focusChange=new a.vpe,this.animationDone=new a.vpe,this.selectedTabChange=new a.vpe(!0),this._groupId=X++,this.animationDuration=n&&n.animationDuration?n.animationDuration:"500ms",this.disablePagination=!(!n||null==n.disablePagination)&&n.disablePagination,this.dynamicHeight=!(!n||null==n.dynamicHeight)&&n.dynamicHeight,this.contentTabIndex=null!==(r=null==n?void 0:n.contentTabIndex)&&void 0!==r?r:null}get dynamicHeight(){return this._dynamicHeight}set dynamicHeight(t){this._dynamicHeight=(0,b.Ig)(t)}get selectedIndex(){return this._selectedIndex}set selectedIndex(t){this._indexToSelect=(0,b.su)(t,null)}get animationDuration(){return this._animationDuration}set animationDuration(t){this._animationDuration=/^\d+$/.test(t)?t+"ms":t}get contentTabIndex(){return this._contentTabIndex}set contentTabIndex(t){this._contentTabIndex=(0,b.su)(t,null)}get backgroundColor(){return this._backgroundColor}set backgroundColor(t){const e=this._elementRef.nativeElement;e.classList.remove(`mat-background-${this.backgroundColor}`),t&&e.classList.add(`mat-background-${t}`),this._backgroundColor=t}ngAfterContentChecked(){const t=this._indexToSelect=this._clampTabIndex(this._indexToSelect);if(this._selectedIndex!=t){const e=null==this._selectedIndex;if(!e){this.selectedTabChange.emit(this._createChangeEvent(t));const e=this._tabBodyWrapper.nativeElement;e.style.minHeight=e.clientHeight+"px"}Promise.resolve().then(()=>{this._tabs.forEach((e,n)=>e.isActive=n===t),e||(this.selectedIndexChange.emit(t),this._tabBodyWrapper.nativeElement.style.minHeight="")})}this._tabs.forEach((e,n)=>{e.position=n-t,null==this._selectedIndex||0!=e.position||e.origin||(e.origin=t-this._selectedIndex)}),this._selectedIndex!==t&&(this._selectedIndex=t,this._changeDetectorRef.markForCheck())}ngAfterContentInit(){this._subscribeToAllTabChanges(),this._subscribeToTabLabels(),this._tabsSubscription=this._tabs.changes.subscribe(()=>{if(this._clampTabIndex(this._indexToSelect)===this._selectedIndex){const t=this._tabs.toArray();for(let e=0;e<t.length;e++)if(t[e].isActive){this._indexToSelect=this._selectedIndex=e;break}}this._changeDetectorRef.markForCheck()})}_subscribeToAllTabChanges(){this._allTabs.changes.pipe((0,_.O)(this._allTabs)).subscribe(t=>{this._tabs.reset(t.filter(t=>t._closestTabGroup===this||!t._closestTabGroup)),this._tabs.notifyOnChanges()})}ngOnDestroy(){this._tabs.destroy(),this._tabsSubscription.unsubscribe(),this._tabLabelSubscription.unsubscribe()}realignInkBar(){this._tabHeader&&this._tabHeader._alignInkBarToSelectedTab()}focusTab(t){const e=this._tabHeader;e&&(e.focusIndex=t)}_focusChanged(t){this.focusChange.emit(this._createChangeEvent(t))}_createChangeEvent(t){const e=new tt;return e.index=t,this._tabs&&this._tabs.length&&(e.tab=this._tabs.toArray()[t]),e}_subscribeToTabLabels(){this._tabLabelSubscription&&this._tabLabelSubscription.unsubscribe(),this._tabLabelSubscription=(0,d.T)(...this._tabs.map(t=>t._stateChanges)).subscribe(()=>this._changeDetectorRef.markForCheck())}_clampTabIndex(t){return Math.min(this._tabs.length-1,Math.max(t||0,0))}_getTabLabelId(t){return`mat-tab-label-${this._groupId}-${t}`}_getTabContentId(t){return`mat-tab-content-${this._groupId}-${t}`}_setTabBodyWrapperHeight(t){if(!this._dynamicHeight||!this._tabBodyWrapperHeight)return;const e=this._tabBodyWrapper.nativeElement;e.style.height=this._tabBodyWrapperHeight+"px",this._tabBodyWrapper.nativeElement.offsetHeight&&(e.style.height=t+"px")}_removeTabBodyWrapperHeight(){const t=this._tabBodyWrapper.nativeElement;this._tabBodyWrapperHeight=t.clientHeight,t.style.height="",this.animationDone.emit()}_handleClick(t,e,n){t.disabled||(this.selectedIndex=e.focusIndex=n)}_getTabIndex(t,e){return t.disabled?null:this.selectedIndex===e?0:-1}_tabFocusChanged(t,e){t&&"mouse"!==t&&"touch"!==t&&(this._tabHeader.focusIndex=e)}}return t.\u0275fac=function(e){return new(e||t)(a.Y36(a.SBq),a.Y36(a.sBO),a.Y36(J,8),a.Y36(c.Qb,8))},t.\u0275dir=a.lG2({type:t,inputs:{headerPosition:"headerPosition",animationDuration:"animationDuration",disablePagination:"disablePagination",dynamicHeight:"dynamicHeight",contentTabIndex:"contentTabIndex",selectedIndex:"selectedIndex",backgroundColor:"backgroundColor"},outputs:{selectedIndexChange:"selectedIndexChange",focusChange:"focusChange",animationDone:"animationDone",selectedTabChange:"selectedTabChange"},features:[a.qOj]}),t})(),it=(()=>{class t extends nt{constructor(t,e,n,i){super(t,e,n,i)}}return t.\u0275fac=function(e){return new(e||t)(a.Y36(a.SBq),a.Y36(a.sBO),a.Y36(J,8),a.Y36(c.Qb,8))},t.\u0275cmp=a.Xpm({type:t,selectors:[["mat-tab-group"]],contentQueries:function(t,e,n){if(1&t&&a.Suo(n,Z,5),2&t){let t;a.iGM(t=a.CRH())&&(e._allTabs=t)}},viewQuery:function(t,e){if(1&t&&(a.Gf(D,5),a.Gf(R,5)),2&t){let t;a.iGM(t=a.CRH())&&(e._tabBodyWrapper=t.first),a.iGM(t=a.CRH())&&(e._tabHeader=t.first)}},hostAttrs:[1,"mat-tab-group"],hostVars:4,hostBindings:function(t,e){2&t&&a.ekj("mat-tab-group-dynamic-height",e.dynamicHeight)("mat-tab-group-inverted-header","below"===e.headerPosition)},inputs:{color:"color",disableRipple:"disableRipple"},exportAs:["matTabGroup"],features:[a._Bn([{provide:$,useExisting:t}]),a.qOj],decls:6,vars:7,consts:[[3,"selectedIndex","disableRipple","disablePagination","indexFocused","selectFocusedIndex"],["tabHeader",""],["class","mat-tab-label mat-focus-indicator","role","tab","matTabLabelWrapper","","mat-ripple","","cdkMonitorElementFocus","",3,"id","mat-tab-label-active","disabled","matRippleDisabled","click","cdkFocusChange",4,"ngFor","ngForOf"],[1,"mat-tab-body-wrapper"],["tabBodyWrapper",""],["role","tabpanel",3,"id","mat-tab-body-active","content","position","origin","animationDuration","_onCentered","_onCentering",4,"ngFor","ngForOf"],["role","tab","matTabLabelWrapper","","mat-ripple","","cdkMonitorElementFocus","",1,"mat-tab-label","mat-focus-indicator",3,"id","disabled","matRippleDisabled","click","cdkFocusChange"],[1,"mat-tab-label-content"],[3,"ngIf"],[3,"cdkPortalOutlet"],["role","tabpanel",3,"id","content","position","origin","animationDuration","_onCentered","_onCentering"]],template:function(t,e){1&t&&(a.TgZ(0,"mat-tab-header",0,1),a.NdJ("indexFocused",function(t){return e._focusChanged(t)})("selectFocusedIndex",function(t){return e.selectedIndex=t}),a.YNc(2,F,4,14,"div",2),a.qZA(),a.TgZ(3,"div",3,4),a.YNc(5,L,1,9,"mat-tab-body",5),a.qZA()),2&t&&(a.Q6J("selectedIndex",e.selectedIndex||0)("disableRipple",e.disableRipple)("disablePagination",e.disablePagination),a.xp6(2),a.Q6J("ngForOf",e._tabs),a.xp6(1),a.ekj("_mat-animation-noopable","NoopAnimations"===e._animationMode),a.xp6(2),a.Q6J("ngForOf",e._tabs))},directives:function(){return[ct,o.sg,st,l.wG,i.kH,o.O5,s.Pl,Q]},styles:[".mat-tab-group{display:flex;flex-direction:column;max-width:100%}.mat-tab-group.mat-tab-group-inverted-header{flex-direction:column-reverse}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:none}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}.cdk-high-contrast-active .mat-tab-label:focus{outline:dotted 2px;outline-offset:-2px}.mat-tab-label.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-label.mat-tab-disabled{opacity:.5}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-label{opacity:1}@media(max-width: 599px){.mat-tab-label{padding:0 12px}}@media(max-width: 959px){.mat-tab-label{padding:0 12px}}.mat-tab-group[mat-stretch-tabs]>.mat-tab-header .mat-tab-label{flex-basis:0;flex-grow:1}.mat-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height 500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable.mat-tab-body-wrapper{transition:none;animation:none}.mat-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;outline:0;flex-basis:100%}.mat-tab-body.mat-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-tab-group.mat-tab-group-dynamic-height .mat-tab-body.mat-tab-body-active{overflow-y:hidden}\n"],encapsulation:2}),t})();const rt=(0,l.Id)(class{});let st=(()=>{class t extends rt{constructor(t){super(),this.elementRef=t}focus(){this.elementRef.nativeElement.focus()}getOffsetLeft(){return this.elementRef.nativeElement.offsetLeft}getOffsetWidth(){return this.elementRef.nativeElement.offsetWidth}}return t.\u0275fac=function(e){return new(e||t)(a.Y36(a.SBq))},t.\u0275dir=a.lG2({type:t,selectors:[["","matTabLabelWrapper",""]],hostVars:3,hostBindings:function(t,e){2&t&&(a.uIk("aria-disabled",!!e.disabled),a.ekj("mat-tab-disabled",e.disabled))},inputs:{disabled:"disabled"},features:[a.qOj]}),t})();const ot=(0,w.i$)({passive:!0});let at=(()=>{class t{constructor(t,e,n,i,r,s,o){this._elementRef=t,this._changeDetectorRef=e,this._viewportRuler=n,this._dir=i,this._ngZone=r,this._platform=s,this._animationMode=o,this._scrollDistance=0,this._selectedIndexChanged=!1,this._destroyed=new u.xQ,this._showPaginationControls=!1,this._disableScrollAfter=!0,this._disableScrollBefore=!0,this._stopScrolling=new u.xQ,this.disablePagination=!1,this._selectedIndex=0,this.selectFocusedIndex=new a.vpe,this.indexFocused=new a.vpe,r.runOutsideAngular(()=>{(0,p.R)(t.nativeElement,"mouseleave").pipe((0,v.R)(this._destroyed)).subscribe(()=>{this._stopInterval()})})}get selectedIndex(){return this._selectedIndex}set selectedIndex(t){t=(0,b.su)(t),this._selectedIndex!=t&&(this._selectedIndexChanged=!0,this._selectedIndex=t,this._keyManager&&this._keyManager.updateActiveItem(t))}ngAfterViewInit(){(0,p.R)(this._previousPaginator.nativeElement,"touchstart",ot).pipe((0,v.R)(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("before")}),(0,p.R)(this._nextPaginator.nativeElement,"touchstart",ot).pipe((0,v.R)(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("after")})}ngAfterContentInit(){const t=this._dir?this._dir.change:(0,f.of)("ltr"),e=this._viewportRuler.change(150),n=()=>{this.updatePagination(),this._alignInkBarToSelectedTab()};this._keyManager=new i.Em(this._items).withHorizontalOrientation(this._getLayoutDirection()).withHomeAndEnd().withWrap(),this._keyManager.updateActiveItem(this._selectedIndex),"undefined"!=typeof requestAnimationFrame?requestAnimationFrame(n):n(),(0,d.T)(t,e,this._items.changes).pipe((0,v.R)(this._destroyed)).subscribe(()=>{this._ngZone.run(()=>Promise.resolve().then(n)),this._keyManager.withHorizontalOrientation(this._getLayoutDirection())}),this._keyManager.change.pipe((0,v.R)(this._destroyed)).subscribe(t=>{this.indexFocused.emit(t),this._setTabFocus(t)})}ngAfterContentChecked(){this._tabLabelCount!=this._items.length&&(this.updatePagination(),this._tabLabelCount=this._items.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete(),this._stopScrolling.complete()}_handleKeydown(t){if(!(0,C.Vb)(t))switch(t.keyCode){case C.K5:case C.L_:this.focusIndex!==this.selectedIndex&&(this.selectFocusedIndex.emit(this.focusIndex),this._itemSelected(t));break;default:this._keyManager.onKeydown(t)}}_onContentChanges(){const t=this._elementRef.nativeElement.textContent;t!==this._currentTextContent&&(this._currentTextContent=t||"",this._ngZone.run(()=>{this.updatePagination(),this._alignInkBarToSelectedTab(),this._changeDetectorRef.markForCheck()}))}updatePagination(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()}get focusIndex(){return this._keyManager?this._keyManager.activeItemIndex:0}set focusIndex(t){this._isValidIndex(t)&&this.focusIndex!==t&&this._keyManager&&this._keyManager.setActiveItem(t)}_isValidIndex(t){if(!this._items)return!0;const e=this._items?this._items.toArray()[t]:null;return!!e&&!e.disabled}_setTabFocus(t){if(this._showPaginationControls&&this._scrollToLabel(t),this._items&&this._items.length){this._items.toArray()[t].focus();const e=this._tabListContainer.nativeElement,n=this._getLayoutDirection();e.scrollLeft="ltr"==n?0:e.scrollWidth-e.offsetWidth}}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_updateTabScrollPosition(){if(this.disablePagination)return;const t=this.scrollDistance,e="ltr"===this._getLayoutDirection()?-t:t;this._tabList.nativeElement.style.transform=`translateX(${Math.round(e)}px)`,(this._platform.TRIDENT||this._platform.EDGE)&&(this._tabListContainer.nativeElement.scrollLeft=0)}get scrollDistance(){return this._scrollDistance}set scrollDistance(t){this._scrollTo(t)}_scrollHeader(t){return this._scrollTo(this._scrollDistance+("before"==t?-1:1)*this._tabListContainer.nativeElement.offsetWidth/3)}_handlePaginatorClick(t){this._stopInterval(),this._scrollHeader(t)}_scrollToLabel(t){if(this.disablePagination)return;const e=this._items?this._items.toArray()[t]:null;if(!e)return;const n=this._tabListContainer.nativeElement.offsetWidth,{offsetLeft:i,offsetWidth:r}=e.elementRef.nativeElement;let s,o;"ltr"==this._getLayoutDirection()?(s=i,o=s+r):(o=this._tabList.nativeElement.offsetWidth-i,s=o-r);const a=this.scrollDistance,l=this.scrollDistance+n;s<a?this.scrollDistance-=a-s+60:o>l&&(this.scrollDistance+=o-l+60)}_checkPaginationEnabled(){if(this.disablePagination)this._showPaginationControls=!1;else{const t=this._tabList.nativeElement.scrollWidth>this._elementRef.nativeElement.offsetWidth;t||(this.scrollDistance=0),t!==this._showPaginationControls&&this._changeDetectorRef.markForCheck(),this._showPaginationControls=t}}_checkScrollingControls(){this.disablePagination?this._disableScrollAfter=this._disableScrollBefore=!0:(this._disableScrollBefore=0==this.scrollDistance,this._disableScrollAfter=this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck())}_getMaxScrollDistance(){return this._tabList.nativeElement.scrollWidth-this._tabListContainer.nativeElement.offsetWidth||0}_alignInkBarToSelectedTab(){const t=this._items&&this._items.length?this._items.toArray()[this.selectedIndex]:null,e=t?t.elementRef.nativeElement:null;e?this._inkBar.alignToElement(e):this._inkBar.hide()}_stopInterval(){this._stopScrolling.next()}_handlePaginatorPress(t,e){e&&null!=e.button&&0!==e.button||(this._stopInterval(),(0,m.H)(650,100).pipe((0,v.R)((0,d.T)(this._stopScrolling,this._destroyed))).subscribe(()=>{const{maxScrollDistance:e,distance:n}=this._scrollHeader(t);(0===n||n>=e)&&this._stopInterval()}))}_scrollTo(t){if(this.disablePagination)return{maxScrollDistance:0,distance:0};const e=this._getMaxScrollDistance();return this._scrollDistance=Math.max(0,Math.min(e,t)),this._scrollDistanceChanged=!0,this._checkScrollingControls(),{maxScrollDistance:e,distance:this._scrollDistance}}}return t.\u0275fac=function(e){return new(e||t)(a.Y36(a.SBq),a.Y36(a.sBO),a.Y36(S.rL),a.Y36(E.Is,8),a.Y36(a.R0b),a.Y36(w.t4),a.Y36(c.Qb,8))},t.\u0275dir=a.lG2({type:t,inputs:{disablePagination:"disablePagination"}}),t})(),lt=(()=>{class t extends at{constructor(t,e,n,i,r,s,o){super(t,e,n,i,r,s,o),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=(0,b.Ig)(t)}_itemSelected(t){t.preventDefault()}}return t.\u0275fac=function(e){return new(e||t)(a.Y36(a.SBq),a.Y36(a.sBO),a.Y36(S.rL),a.Y36(E.Is,8),a.Y36(a.R0b),a.Y36(w.t4),a.Y36(c.Qb,8))},t.\u0275dir=a.lG2({type:t,inputs:{disableRipple:"disableRipple"},features:[a.qOj]}),t})(),ct=(()=>{class t extends lt{constructor(t,e,n,i,r,s,o){super(t,e,n,i,r,s,o)}}return t.\u0275fac=function(e){return new(e||t)(a.Y36(a.SBq),a.Y36(a.sBO),a.Y36(S.rL),a.Y36(E.Is,8),a.Y36(a.R0b),a.Y36(w.t4),a.Y36(c.Qb,8))},t.\u0275cmp=a.Xpm({type:t,selectors:[["mat-tab-header"]],contentQueries:function(t,e,n){if(1&t&&a.Suo(n,st,4),2&t){let t;a.iGM(t=a.CRH())&&(e._items=t)}},viewQuery:function(t,e){if(1&t&&(a.Gf(q,7),a.Gf(M,7),a.Gf(B,7),a.Gf(V,5),a.Gf(U,5)),2&t){let t;a.iGM(t=a.CRH())&&(e._inkBar=t.first),a.iGM(t=a.CRH())&&(e._tabListContainer=t.first),a.iGM(t=a.CRH())&&(e._tabList=t.first),a.iGM(t=a.CRH())&&(e._nextPaginator=t.first),a.iGM(t=a.CRH())&&(e._previousPaginator=t.first)}},hostAttrs:[1,"mat-tab-header"],hostVars:4,hostBindings:function(t,e){2&t&&a.ekj("mat-tab-header-pagination-controls-enabled",e._showPaginationControls)("mat-tab-header-rtl","rtl"==e._getLayoutDirection())},inputs:{selectedIndex:"selectedIndex"},outputs:{selectFocusedIndex:"selectFocusedIndex",indexFocused:"indexFocused"},features:[a.qOj],ngContentSelectors:k,decls:13,vars:8,consts:[["aria-hidden","true","mat-ripple","",1,"mat-tab-header-pagination","mat-tab-header-pagination-before","mat-elevation-z4",3,"matRippleDisabled","click","mousedown","touchend"],["previousPaginator",""],[1,"mat-tab-header-pagination-chevron"],[1,"mat-tab-label-container",3,"keydown"],["tabListContainer",""],["role","tablist",1,"mat-tab-list",3,"cdkObserveContent"],["tabList",""],[1,"mat-tab-labels"],["aria-hidden","true","mat-ripple","",1,"mat-tab-header-pagination","mat-tab-header-pagination-after","mat-elevation-z4",3,"matRippleDisabled","mousedown","click","touchend"],["nextPaginator",""]],template:function(t,e){1&t&&(a.F$t(),a.TgZ(0,"div",0,1),a.NdJ("click",function(){return e._handlePaginatorClick("before")})("mousedown",function(t){return e._handlePaginatorPress("before",t)})("touchend",function(){return e._stopInterval()}),a._UZ(2,"div",2),a.qZA(),a.TgZ(3,"div",3,4),a.NdJ("keydown",function(t){return e._handleKeydown(t)}),a.TgZ(5,"div",5,6),a.NdJ("cdkObserveContent",function(){return e._onContentChanges()}),a.TgZ(7,"div",7),a.Hsn(8),a.qZA(),a._UZ(9,"mat-ink-bar"),a.qZA(),a.qZA(),a.TgZ(10,"div",8,9),a.NdJ("mousedown",function(t){return e._handlePaginatorPress("after",t)})("click",function(){return e._handlePaginatorClick("after")})("touchend",function(){return e._stopInterval()}),a._UZ(12,"div",2),a.qZA()),2&t&&(a.ekj("mat-tab-header-pagination-disabled",e._disableScrollBefore),a.Q6J("matRippleDisabled",e._disableScrollBefore||e.disableRipple),a.xp6(5),a.ekj("_mat-animation-noopable","NoopAnimations"===e._animationMode),a.xp6(5),a.ekj("mat-tab-header-pagination-disabled",e._disableScrollAfter),a.Q6J("matRippleDisabled",e._disableScrollAfter||e.disableRipple))},directives:[l.wG,r.wD,q],styles:['.mat-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mat-tab-header-pagination{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:transparent;touch-action:none}.mat-tab-header-pagination-controls-enabled .mat-tab-header-pagination{display:flex}.mat-tab-header-pagination-before,.mat-tab-header-rtl .mat-tab-header-pagination-after{padding-left:4px}.mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-rtl .mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-tab-header-rtl .mat-tab-header-pagination-before,.mat-tab-header-pagination-after{padding-right:4px}.mat-tab-header-rtl .mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;content:"";height:8px;width:8px}.mat-tab-header-pagination-disabled{box-shadow:none;cursor:default}.mat-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-ink-bar{position:absolute;bottom:0;height:2px;transition:500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable.mat-ink-bar{transition:none;animation:none}.mat-tab-group-inverted-header .mat-ink-bar{bottom:auto;top:0}.cdk-high-contrast-active .mat-ink-bar{outline:solid 2px;height:0}.mat-tab-labels{display:flex}[mat-align-tabs=center]>.mat-tab-header .mat-tab-labels{justify-content:center}[mat-align-tabs=end]>.mat-tab-header .mat-tab-labels{justify-content:flex-end}.mat-tab-label-container{display:flex;flex-grow:1;overflow:hidden;z-index:1}._mat-animation-noopable.mat-tab-list{transition:none;animation:none}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:none}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}.cdk-high-contrast-active .mat-tab-label:focus{outline:dotted 2px;outline-offset:-2px}.mat-tab-label.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-label.mat-tab-disabled{opacity:.5}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-label{opacity:1}@media(max-width: 599px){.mat-tab-label{min-width:72px}}\n'],encapsulation:2}),t})(),ut=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.oAB({type:t}),t.\u0275inj=a.cJS({imports:[[o.ez,l.BQ,s.eL,l.si,r.Q8,i.rt],l.BQ]}),t})()},7112:(t,e,n)=>{"use strict";n.d(e,{Ye:()=>h,g0:()=>d,rD:()=>u});var i=n(7064),r=n(1116),s=n(5366),o=n(3169);const a=["*",[["mat-toolbar-row"]]],l=["*","mat-toolbar-row"],c=(0,i.pj)(class{constructor(t){this._elementRef=t}});let u=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=s.lG2({type:t,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),t})(),h=(()=>{class t extends c{constructor(t,e,n){super(t),this._platform=e,this._document=n}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(s.SBq),s.Y36(o.t4),s.Y36(r.K0))},t.\u0275cmp=s.Xpm({type:t,selectors:[["mat-toolbar"]],contentQueries:function(t,e,n){if(1&t&&s.Suo(n,u,5),2&t){let t;s.iGM(t=s.CRH())&&(e._toolbarRows=t)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(t,e){2&t&&s.ekj("mat-toolbar-multiple-rows",e._toolbarRows.length>0)("mat-toolbar-single-row",0===e._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[s.qOj],ngContentSelectors:l,decls:2,vars:0,template:function(t,e){1&t&&(s.F$t(a),s.Hsn(0),s.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}\n"],encapsulation:2,changeDetection:0}),t})(),d=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[i.BQ],i.BQ]}),t})()},6136:(t,e,n)=>{"use strict";n.d(e,{Qb:()=>Oe,PW:()=>Le});var i=n(5366),r=n(9624),s=n(9713);function o(){return"undefined"!=typeof window&&void 0!==window.document}function a(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function l(t){switch(t.length){case 0:return new s.ZN;case 1:return t[0];default:return new s.ZE(t)}}function c(t,e,n,i,r={},o={}){const a=[],l=[];let c=-1,u=null;if(i.forEach(t=>{const n=t.offset,i=n==c,h=i&&u||{};Object.keys(t).forEach(n=>{let i=n,l=t[n];if("offset"!==n)switch(i=e.normalizePropertyName(i,a),l){case s.k1:l=r[n];break;case s.l3:l=o[n];break;default:l=e.normalizeStyleValue(n,i,l,a)}h[i]=l}),i||l.push(h),u=h,c=n}),a.length){const t="\n - ";throw new Error(`Unable to animate due to the following errors:${t}${a.join(t)}`)}return l}function u(t,e,n,i){switch(e){case"start":t.onStart(()=>i(n&&h(n,"start",t)));break;case"done":t.onDone(()=>i(n&&h(n,"done",t)));break;case"destroy":t.onDestroy(()=>i(n&&h(n,"destroy",t)))}}function h(t,e,n){const i=n.totalTime,r=d(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==i?t.totalTime:i,!!n.disabled),s=t._data;return null!=s&&(r._data=s),r}function d(t,e,n,i,r="",s=0,o){return{element:t,triggerName:e,fromState:n,toState:i,phaseName:r,totalTime:s,disabled:!!o}}function p(t,e,n){let i;return t instanceof Map?(i=t.get(e),i||t.set(e,i=n)):(i=t[e],i||(i=t[e]=n)),i}function f(t){const e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}let m=(t,e)=>!1,g=(t,e)=>!1,_=(t,e,n)=>[];const y=a();(y||"undefined"!=typeof Element)&&(m=o()?(t,e)=>{for(;e&&e!==document.documentElement;){if(e===t)return!0;e=e.parentNode||e.host}return!1}:(t,e)=>t.contains(e),g=(()=>{if(y||Element.prototype.matches)return(t,e)=>t.matches(e);{const t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?(t,n)=>e.apply(t,[n]):g}})(),_=(t,e,n)=>{let i=[];if(n){const n=t.querySelectorAll(e);for(let t=0;t<n.length;t++)i.push(n[t])}else{const n=t.querySelector(e);n&&i.push(n)}return i});let v=null,b=!1;function w(t){v||(v=("undefined"!=typeof document?document.body:null)||{},b=!!v.style&&"WebkitAppearance"in v.style);let e=!0;return v.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in v.style,!e&&b)&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in v.style),e}const C=g,E=m,S=_;function x(t){const e={};return Object.keys(t).forEach(n=>{const i=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[i]=t[n]}),e}let k=(()=>{class t{validateStyleProperty(t){return w(t)}matchesElement(t,e){return C(t,e)}containsElement(t,e){return E(t,e)}query(t,e,n){return S(t,e,n)}computeStyle(t,e,n){return n||""}animate(t,e,n,i,r,o=[],a){return new s.ZN(n,i)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})(),T=(()=>{class t{}return t.NOOP=new k,t})();const I="ng-enter",A="ng-leave",D="ng-trigger",R=".ng-trigger",O="ng-animating",P=".ng-animating";function N(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:F(parseFloat(e[1]),e[2])}function F(t,e){switch(e){case"s":return 1e3*t;default:return t}}function L(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){let i,r=0,s="";if("string"==typeof t){const n=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===n)return e.push(`The provided timing value "${t}" is invalid.`),{duration:0,delay:0,easing:""};i=F(parseFloat(n[1]),n[2]);const o=n[3];null!=o&&(r=F(parseFloat(o),n[4]));const a=n[5];a&&(s=a)}else i=t;if(!n){let n=!1,s=e.length;i<0&&(e.push("Duration values below 0 are not allowed for this animation step."),n=!0),r<0&&(e.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&e.splice(s,0,`The provided timing value "${t}" is invalid.`)}return{duration:i,delay:r,easing:s}}(t,e,n)}function M(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function B(t,e,n={}){if(e)for(let i in t)n[i]=t[i];else M(t,n);return n}function V(t,e,n){return n?e+":"+n+";":""}function U(t){let e="";for(let n=0;n<t.style.length;n++){const i=t.style.item(n);e+=V(0,i,t.style.getPropertyValue(i))}for(const n in t.style)t.style.hasOwnProperty(n)&&!n.startsWith("_")&&(e+=V(0,n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[n]));t.setAttribute("style",e)}function j(t,e,n){t.style&&(Object.keys(e).forEach(i=>{const r=W(i);n&&!n.hasOwnProperty(i)&&(n[i]=t.style[r]),t.style[r]=e[i]}),a()&&U(t))}function q(t,e){t.style&&(Object.keys(e).forEach(e=>{const n=W(e);t.style[n]=""}),a()&&U(t))}function z(t){return Array.isArray(t)?1==t.length?t[0]:(0,s.vP)(t):t}const H=new RegExp("{{\\s*(.+?)\\s*}}","g");function G(t){let e=[];if("string"==typeof t){let n;for(;n=H.exec(t);)e.push(n[1]);H.lastIndex=0}return e}function $(t,e,n){const i=t.toString(),r=i.replace(H,(t,i)=>{let r=e[i];return e.hasOwnProperty(i)||(n.push(`Please provide a value for the animation param ${i}`),r=""),r.toString()});return r==i?t:r}function Z(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const Y=/-+([a-z0-9])/g;function W(t){return t.replace(Y,(...t)=>t[1].toUpperCase())}function K(t,e){return 0===t||0===e}function Q(t,e,n){const i=Object.keys(n);if(i.length&&e.length){let s=e[0],o=[];if(i.forEach(t=>{s.hasOwnProperty(t)||o.push(t),s[t]=n[t]}),o.length)for(var r=1;r<e.length;r++){let n=e[r];o.forEach(function(e){n[e]=X(t,e)})}}return e}function J(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error(`Unable to resolve animation metadata node #${e.type}`)}}function X(t,e){return window.getComputedStyle(t)[e]}const tt="*";function et(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(t=>function(t,e,n){if(":"==t[0]){const i=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,e)=>parseFloat(e)>parseFloat(t);case":decrement":return(t,e)=>parseFloat(e)<parseFloat(t);default:return e.push(`The transition alias value "${t}" is not supported`),"* => *"}}(t,n);if("function"==typeof i)return void e.push(i);t=i}const i=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return n.push(`The provided transition expression "${t}" is not supported`),e;const r=i[1],s=i[2],o=i[3];e.push(rt(r,o)),"<"!=s[0]||r==tt&&o==tt||e.push(rt(o,r))}(t,n,e)):n.push(t),n}const nt=new Set(["true","1"]),it=new Set(["false","0"]);function rt(t,e){const n=nt.has(t)||it.has(t),i=nt.has(e)||it.has(e);return(r,s)=>{let o=t==tt||t==r,a=e==tt||e==s;return!o&&n&&"boolean"==typeof r&&(o=r?nt.has(t):it.has(t)),!a&&i&&"boolean"==typeof s&&(a=s?nt.has(e):it.has(e)),o&&a}}const st=new RegExp("s*:selfs*,?","g");function ot(t,e,n){return new at(t).build(e,n)}class at{constructor(t){this._driver=t}build(t,e){const n=new lt(e);return this._resetContextStyleTimingState(n),J(this,z(t),n)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,i=e.depCount=0;const r=[],s=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(t=>{if(this._resetContextStyleTimingState(e),0==t.type){const n=t,i=n.name;i.toString().split(/\s*,\s*/).forEach(t=>{n.name=t,r.push(this.visitState(n,e))}),n.name=i}else if(1==t.type){const r=this.visitTransition(t,e);n+=r.queryCount,i+=r.depCount,s.push(r)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:r,transitions:s,queryCount:n,depCount:i,options:null}}visitState(t,e){const n=this.visitStyle(t.styles,e),i=t.options&&t.options.params||null;if(n.containsDynamicStyles){const r=new Set,s=i||{};if(n.styles.forEach(t=>{if(ct(t)){const e=t;Object.keys(e).forEach(t=>{G(e[t]).forEach(t=>{s.hasOwnProperty(t)||r.add(t)})})}}),r.size){const n=Z(r.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:t.name,style:n,options:i?{params:i}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const n=J(this,z(t.animation),e);return{type:1,matchers:et(t.expr,e.errors),animation:n,queryCount:e.queryCount,depCount:e.depCount,options:ut(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(t=>J(this,t,e)),options:ut(t.options)}}visitGroup(t,e){const n=e.currentTime;let i=0;const r=t.steps.map(t=>{e.currentTime=n;const r=J(this,t,e);return i=Math.max(i,e.currentTime),r});return e.currentTime=i,{type:3,steps:r,options:ut(t.options)}}visitAnimate(t,e){const n=function(t,e){let n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return ht(L(t,e).duration,0,"");const i=t;if(i.split(/\s+/).some(t=>"{"==t.charAt(0)&&"{"==t.charAt(1))){const t=ht(0,0,"");return t.dynamic=!0,t.strValue=i,t}return n=n||L(i,e),ht(n.duration,n.delay,n.easing)}(t.timings,e.errors);let i;e.currentAnimateTimings=n;let r=t.styles?t.styles:(0,s.oB)({});if(5==r.type)i=this.visitKeyframes(r,e);else{let r=t.styles,o=!1;if(!r){o=!0;const t={};n.easing&&(t.easing=n.easing),r=(0,s.oB)(t)}e.currentTime+=n.duration+n.delay;const a=this.visitStyle(r,e);a.isEmptyStep=o,i=a}return e.currentAnimateTimings=null,{type:4,timings:n,style:i,options:null}}visitStyle(t,e){const n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){const n=[];Array.isArray(t.styles)?t.styles.forEach(t=>{"string"==typeof t?t==s.l3?n.push(t):e.errors.push(`The provided style string value ${t} is not allowed.`):n.push(t)}):n.push(t.styles);let i=!1,r=null;return n.forEach(t=>{if(ct(t)){const e=t,n=e.easing;if(n&&(r=n,delete e.easing),!i)for(let t in e)if(e[t].toString().indexOf("{{")>=0){i=!0;break}}}),{type:6,styles:n,easing:r,offset:t.offset,containsDynamicStyles:i,options:null}}_validateStyleAst(t,e){const n=e.currentAnimateTimings;let i=e.currentTime,r=e.currentTime;n&&r>0&&(r-=n.duration+n.delay),t.styles.forEach(t=>{"string"!=typeof t&&Object.keys(t).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void e.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const s=e.collectedStyles[e.currentQuerySelector],o=s[n];let a=!0;o&&(r!=i&&r>=o.startTime&&i<=o.endTime&&(e.errors.push(`The CSS property "${n}" that exists between the times of "${o.startTime}ms" and "${o.endTime}ms" is also being animated in a parallel animation between the times of "${r}ms" and "${i}ms"`),a=!1),r=o.startTime),a&&(s[n]={startTime:r,endTime:i}),e.options&&function(t,e,n){const i=e.params||{},r=G(t);r.length&&r.forEach(t=>{i.hasOwnProperty(t)||n.push(`Unable to resolve the local animation param ${t} in the given list of values`)})}(t[n],e.options,e.errors)})})}visitKeyframes(t,e){const n={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),n;let i=0;const r=[];let s=!1,o=!1,a=0;const l=t.steps.map(t=>{const n=this._makeStyleAst(t,e);let l=null!=n.offset?n.offset:function(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(t=>{if(ct(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}});else if(ct(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}return e}(n.styles),c=0;return null!=l&&(i++,c=n.offset=l),o=o||c<0||c>1,s=s||c<a,a=c,r.push(c),n});o&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),s&&e.errors.push("Please ensure that all keyframe offsets are in order");const c=t.steps.length;let u=0;i>0&&i<c?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==i&&(u=1/(c-1));const h=c-1,d=e.currentTime,p=e.currentAnimateTimings,f=p.duration;return l.forEach((t,i)=>{const s=u>0?i==h?1:u*i:r[i],o=s*f;e.currentTime=d+p.delay+o,p.duration=o,this._validateStyleAst(t,e),t.offset=s,n.styles.push(t)}),n}visitReference(t,e){return{type:8,animation:J(this,z(t.animation),e),options:ut(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:ut(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:ut(t.options)}}visitQuery(t,e){const n=e.currentQuerySelector,i=t.options||{};e.queryCount++,e.currentQuery=t;const[r,s]=function(t){const e=!!t.split(/\s*,\s*/).find(t=>":self"==t);return e&&(t=t.replace(st,"")),[t=t.replace(/@\*/g,R).replace(/@\w+/g,t=>".ng-trigger-"+t.substr(1)).replace(/:animating/g,P),e]}(t.selector);e.currentQuerySelector=n.length?n+" "+r:r,p(e.collectedStyles,e.currentQuerySelector,{});const o=J(this,z(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:r,limit:i.limit||0,optional:!!i.optional,includeSelf:s,animation:o,originalSelector:t.selector,options:ut(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const n="full"===t.timings?{duration:0,delay:0,easing:"full"}:L(t.timings,e.errors,!0);return{type:12,animation:J(this,z(t.animation),e),timings:n,options:null}}}class lt{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function ct(t){return!Array.isArray(t)&&"object"==typeof t}function ut(t){var e;return t?(t=M(t)).params&&(t.params=(e=t.params)?M(e):null):t={},t}function ht(t,e,n){return{duration:t,delay:e,easing:n}}function dt(t,e,n,i,r,s,o=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:o,subTimeline:a}}class pt{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const ft=new RegExp(":enter","g"),mt=new RegExp(":leave","g");function gt(t,e,n,i,r,s={},o={},a,l,c=[]){return(new _t).buildKeyframes(t,e,n,i,r,s,o,a,l,c)}class _t{buildKeyframes(t,e,n,i,r,s,o,a,l,c=[]){l=l||new pt;const u=new vt(t,e,l,i,r,c,[]);u.options=a,u.currentTimeline.setStyles([s],null,u.errors,a),J(this,n,u);const h=u.timelines.filter(t=>t.containsAnimation());if(h.length&&Object.keys(o).length){const t=h[h.length-1];t.allowOnlyTimelineStyles()||t.setStyles([o],null,u.errors,a)}return h.length?h.map(t=>t.buildKeyframes()):[dt(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const n=e.subInstructions.consume(e.element);if(n){const i=e.createSubContext(t.options),r=e.currentTimeline.currentTime,s=this._visitSubInstructions(n,i,i.options);r!=s&&e.transformIntoNewTimeline(s)}e.previousNode=t}visitAnimateRef(t,e){const n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,n){let i=e.currentTimeline.currentTime;const r=null!=n.duration?N(n.duration):null,s=null!=n.delay?N(n.delay):null;return 0!==r&&t.forEach(t=>{const n=e.appendInstructionToTimeline(t,r,s);i=Math.max(i,n.duration+n.delay)}),i}visitReference(t,e){e.updateOptions(t.options,!0),J(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const n=e.subContextCount;let i=e;const r=t.options;if(r&&(r.params||r.delay)&&(i=e.createSubContext(r),i.transformIntoNewTimeline(),null!=r.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=yt);const t=N(r.delay);i.delayNextStep(t)}t.steps.length&&(t.steps.forEach(t=>J(this,t,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>n&&i.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const n=[];let i=e.currentTimeline.currentTime;const r=t.options&&t.options.delay?N(t.options.delay):0;t.steps.forEach(s=>{const o=e.createSubContext(t.options);r&&o.delayNextStep(r),J(this,s,o),i=Math.max(i,o.currentTimeline.currentTime),n.push(o.currentTimeline)}),n.forEach(t=>e.currentTimeline.mergeTimelineCollectedStyles(t)),e.transformIntoNewTimeline(i),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const n=t.strValue;return L(e.params?$(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const n=e.currentAnimateTimings=this._visitTiming(t.timings,e),i=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),i.snapshotCurrentStyles());const r=t.style;5==r.type?this.visitKeyframes(r,e):(e.incrementTime(n.duration),this.visitStyle(r,e),i.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const n=e.currentTimeline,i=e.currentAnimateTimings;!i&&n.getCurrentStyleProperties().length&&n.forwardFrame();const r=i&&i.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(r):n.setStyles(t.styles,r,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const n=e.currentAnimateTimings,i=e.currentTimeline.duration,r=n.duration,s=e.createSubContext().currentTimeline;s.easing=n.easing,t.styles.forEach(t=>{s.forwardTime((t.offset||0)*r),s.setStyles(t.styles,t.easing,e.errors,e.options),s.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(s),e.transformIntoNewTimeline(i+r),e.previousNode=t}visitQuery(t,e){const n=e.currentTimeline.currentTime,i=t.options||{},r=i.delay?N(i.delay):0;r&&(6===e.previousNode.type||0==n&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=yt);let s=n;const o=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!i.optional,e.errors);e.currentQueryTotal=o.length;let a=null;o.forEach((n,i)=>{e.currentQueryIndex=i;const o=e.createSubContext(t.options,n);r&&o.delayNextStep(r),n===e.element&&(a=o.currentTimeline),J(this,t.animation,o),o.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,o.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),a&&(e.currentTimeline.mergeTimelineCollectedStyles(a),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const n=e.parentContext,i=e.currentTimeline,r=t.timings,s=Math.abs(r.duration),o=s*(e.currentQueryTotal-1);let a=s*e.currentQueryIndex;switch(r.duration<0?"reverse":r.easing){case"reverse":a=o-a;break;case"full":a=n.currentStaggerTime}const l=e.currentTimeline;a&&l.delayNextStep(a);const c=l.currentTime;J(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=i.currentTime-c+(i.startTime-n.currentTimeline.startTime)}}const yt={};class vt{constructor(t,e,n,i,r,s,o,a){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=i,this._leaveClassName=r,this.errors=s,this.timelines=o,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=yt,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new bt(this._driver,e,0),o.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const n=t;let i=this.options;null!=n.duration&&(i.duration=N(n.duration)),null!=n.delay&&(i.delay=N(n.delay));const r=n.params;if(r){let t=i.params;t||(t=this.options.params={}),Object.keys(r).forEach(n=>{e&&t.hasOwnProperty(n)||(t[n]=$(r[n],t,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const n=t.params={};Object.keys(e).forEach(t=>{n[t]=e[t]})}}return t}createSubContext(t=null,e,n){const i=e||this.element,r=new vt(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,n||0));return r.previousNode=this.previousNode,r.currentAnimateTimings=this.currentAnimateTimings,r.options=this._copyOptions(),r.updateOptions(t),r.currentQueryIndex=this.currentQueryIndex,r.currentQueryTotal=this.currentQueryTotal,r.parentContext=this,this.subContextCount++,r}transformIntoNewTimeline(t){return this.previousNode=yt,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){const i={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},r=new wt(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,i,t.stretchStartingKeyframe);return this.timelines.push(r),i}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,i,r,s){let o=[];if(i&&o.push(this.element),t.length>0){t=(t=t.replace(ft,"."+this._enterClassName)).replace(mt,"."+this._leaveClassName);let e=this._driver.query(this.element,t,1!=n);0!==n&&(e=n<0?e.slice(e.length+n,e.length):e.slice(0,n)),o.push(...e)}return r||0!=o.length||s.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),o}}class bt{constructor(t,e,n,i){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new bt(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||s.l3,this._currentKeyframe[t]=s.l3}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,i){e&&(this._previousKeyframe.easing=e);const r=i&&i.params||{},o=function(t,e){const n={};let i;return t.forEach(t=>{"*"===t?(i=i||Object.keys(e),i.forEach(t=>{n[t]=s.l3})):B(t,!1,n)}),n}(t,this._globalTimelineStyles);Object.keys(o).forEach(t=>{const e=$(o[t],r,n);this._pendingStyles[t]=e,this._localTimelineStyles.hasOwnProperty(t)||(this._backFill[t]=this._globalTimelineStyles.hasOwnProperty(t)?this._globalTimelineStyles[t]:s.l3),this._updateStyle(t,e)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(e=>{this._currentKeyframe[e]=t[e]}),Object.keys(this._localTimelineStyles).forEach(t=>{this._currentKeyframe.hasOwnProperty(t)||(this._currentKeyframe[t]=this._localTimelineStyles[t])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const n=this._styleSummary[e],i=t._styleSummary[e];(!n||i.time>n.time)&&this._updateStyle(e,i.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,n=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((r,o)=>{const a=B(r,!0);Object.keys(a).forEach(n=>{const i=a[n];i==s.k1?t.add(n):i==s.l3&&e.add(n)}),n||(a.offset=o/this.duration),i.push(a)});const r=t.size?Z(t.values()):[],o=e.size?Z(e.values()):[];if(n){const t=i[0],e=M(t);t.offset=0,e.offset=1,i=[t,e]}return dt(this.element,i,r,o,this.duration,this.startTime,this.easing,!1)}}class wt extends bt{constructor(t,e,n,i,r,s,o=!1){super(t,e,s.delay),this.element=e,this.keyframes=n,this.preStyleProps=i,this.postStyleProps=r,this._stretchStartingKeyframe=o,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:i}=this.timings;if(this._stretchStartingKeyframe&&e){const r=[],s=n+e,o=e/s,a=B(t[0],!1);a.offset=0,r.push(a);const l=B(t[0],!1);l.offset=Ct(o),r.push(l);const c=t.length-1;for(let i=1;i<=c;i++){let o=B(t[i],!1);o.offset=Ct((e+o.offset*n)/s),r.push(o)}n=s,e=0,i="",t=r}return dt(this.element,t,this.preStyleProps,this.postStyleProps,n,e,i,!0)}}function Ct(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}class Et{}class St extends Et{normalizePropertyName(t,e){return W(t)}normalizeStyleValue(t,e,n,i){let r="";const s=n.toString().trim();if(xt[e]&&0!==n&&"0"!==n)if("number"==typeof n)r="px";else{const e=n.match(/^[+-]?[\d\.]+([a-z]*)$/);e&&0==e[1].length&&i.push(`Please provide a CSS unit value for ${t}:${n}`)}return s+r}}const xt=(()=>function(t){const e={};return t.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function kt(t,e,n,i,r,s,o,a,l,c,u,h,d){return{type:0,element:t,triggerName:e,isRemovalTransition:r,fromState:n,fromStyles:s,toState:i,toStyles:o,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:h,errors:d}}const Tt={};class It{constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,i){return function(t,e,n,i,r){return t.some(t=>t(e,n,i,r))}(this.ast.matchers,t,e,n,i)}buildStyles(t,e,n){const i=this._stateStyles["*"],r=this._stateStyles[t],s=i?i.buildStyles(e,n):{};return r?r.buildStyles(e,n):s}build(t,e,n,i,r,s,o,a,l,c){const u=[],h=this.ast.options&&this.ast.options.params||Tt,d=this.buildStyles(n,o&&o.params||Tt,u),f=a&&a.params||Tt,m=this.buildStyles(i,f,u),g=new Set,_=new Map,y=new Map,v="void"===i,b={params:Object.assign(Object.assign({},h),f)},w=c?[]:gt(t,e,this.ast.animation,r,s,d,m,b,l,u);let C=0;if(w.forEach(t=>{C=Math.max(t.duration+t.delay,C)}),u.length)return kt(e,this._triggerName,n,i,v,d,m,[],[],_,y,C,u);w.forEach(t=>{const n=t.element,i=p(_,n,{});t.preStyleProps.forEach(t=>i[t]=!0);const r=p(y,n,{});t.postStyleProps.forEach(t=>r[t]=!0),n!==e&&g.add(n)});const E=Z(g.values());return kt(e,this._triggerName,n,i,v,d,m,w,E,_,y,C)}}class At{constructor(t,e){this.styles=t,this.defaultParams=e}buildStyles(t,e){const n={},i=M(this.defaultParams);return Object.keys(t).forEach(e=>{const n=t[e];null!=n&&(i[e]=n)}),this.styles.styles.forEach(t=>{if("string"!=typeof t){const r=t;Object.keys(r).forEach(t=>{let s=r[t];s.length>1&&(s=$(s,i,e)),n[t]=s})}}),n}}class Dt{constructor(t,e){this.name=t,this.ast=e,this.transitionFactories=[],this.states={},e.states.forEach(t=>{this.states[t.name]=new At(t.style,t.options&&t.options.params||{})}),Rt(this.states,"true","1"),Rt(this.states,"false","0"),e.transitions.forEach(e=>{this.transitionFactories.push(new It(t,e,this.states))}),this.fallbackTransition=new It(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(t,e)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,i){return this.transitionFactories.find(r=>r.match(t,e,n,i))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}function Rt(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}const Ot=new pt;class Pt{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(t,e){const n=[],i=ot(this._driver,e,n);if(n.length)throw new Error(`Unable to build the animation due to the following errors: ${n.join("\n")}`);this._animations[t]=i}_buildPlayer(t,e,n){const i=t.element,r=c(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(i,r,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){const i=[],r=this._animations[t];let o;const a=new Map;if(r?(o=gt(this._driver,e,r,I,A,{},{},n,Ot,i),o.forEach(t=>{const e=p(a,t.element,{});t.postStyleProps.forEach(t=>e[t]=null)})):(i.push("The requested animation doesn't exist or has already been destroyed"),o=[]),i.length)throw new Error(`Unable to create the animation due to the following errors: ${i.join("\n")}`);a.forEach((t,e)=>{Object.keys(t).forEach(n=>{t[n]=this._driver.computeStyle(e,n,s.l3)})});const c=l(o.map(t=>{const e=a.get(t.element);return this._buildPlayer(t,{},e)}));return this._playersById[t]=c,c.onDestroy(()=>this.destroy(t)),this.players.push(c),c}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error(`Unable to find the timeline player referenced by ${t}`);return e}listen(t,e,n,i){const r=d(e,"","","");return u(this._getPlayer(t),n,r,i),()=>{}}command(t,e,n,i){if("register"==n)return void this.register(t,i[0]);if("create"==n)return void this.create(t,e,i[0]||{});const r=this._getPlayer(t);switch(n){case"play":r.play();break;case"pause":r.pause();break;case"reset":r.reset();break;case"restart":r.restart();break;case"finish":r.finish();break;case"init":r.init();break;case"setPosition":r.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(t)}}}const Nt="ng-animate-queued",Ft="ng-animate-disabled",Lt=".ng-animate-disabled",Mt=[],Bt={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Vt={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0};class Ut{constructor(t,e=""){this.namespaceId=e;const n=t&&t.hasOwnProperty("value");if(this.value=null!=(i=n?t.value:t)?i:null,n){const e=M(t);delete e.value,this.options=e}else this.options={};var i;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const t=this.options.params;Object.keys(e).forEach(n=>{null==t[n]&&(t[n]=e[n])})}}}const jt="void",qt=new Ut(jt);class zt{constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Kt(e,this._hostClassName)}listen(t,e,n,i){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${e}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if("start"!=(r=n)&&"done"!=r)throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${e}" is not supported!`);var r;const s=p(this._elementListeners,t,[]),o={name:e,phase:n,callback:i};s.push(o);const a=p(this._engine.statesByElement,t,{});return a.hasOwnProperty(e)||(Kt(t,D),Kt(t,"ng-trigger-"+e),a[e]=qt),()=>{this._engine.afterFlush(()=>{const t=s.indexOf(o);t>=0&&s.splice(t,1),this._triggers[e]||delete a[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,n,i=!0){const r=this._getTrigger(e),s=new Gt(this.id,e,t);let o=this._engine.statesByElement.get(t);o||(Kt(t,D),Kt(t,"ng-trigger-"+e),this._engine.statesByElement.set(t,o={}));let a=o[e];const l=new Ut(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&a&&l.absorbOptions(a.options),o[e]=l,a||(a=qt),l.value!==jt&&a.value===l.value){if(!function(t,e){const n=Object.keys(t),i=Object.keys(e);if(n.length!=i.length)return!1;for(let r=0;r<n.length;r++){const i=n[r];if(!e.hasOwnProperty(i)||t[i]!==e[i])return!1}return!0}(a.params,l.params)){const e=[],n=r.matchStyles(a.value,a.params,e),i=r.matchStyles(l.value,l.params,e);e.length?this._engine.reportError(e):this._engine.afterFlush(()=>{q(t,n),j(t,i)})}return}const c=p(this._engine.playersByElement,t,[]);c.forEach(t=>{t.namespaceId==this.id&&t.triggerName==e&&t.queued&&t.destroy()});let u=r.matchTransition(a.value,l.value,t,l.params),h=!1;if(!u){if(!i)return;u=r.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:u,fromState:a,toState:l,player:s,isFallbackTransition:h}),h||(Kt(t,Nt),s.onStart(()=>{Qt(t,Nt)})),s.onDone(()=>{let e=this.players.indexOf(s);e>=0&&this.players.splice(e,1);const n=this._engine.playersByElement.get(t);if(n){let t=n.indexOf(s);t>=0&&n.splice(t,1)}}),this.players.push(s),c.push(s),s}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,n)=>{delete e[t]}),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(e=>e.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(t=>t.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const n=this._engine.driver.query(t,R,!0);n.forEach(t=>{if(t.__ng_removed)return;const n=this._engine.fetchNamespacesByElement(t);n.size?n.forEach(n=>n.triggerLeaveAnimation(t,e,!1,!0)):this.clearElementCache(t)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(t=>this.clearElementCache(t)))}triggerLeaveAnimation(t,e,n,i){const r=this._engine.statesByElement.get(t);if(r){const s=[];if(Object.keys(r).forEach(e=>{if(this._triggers[e]){const n=this.trigger(t,e,jt,i);n&&s.push(n)}}),s.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&l(s).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),n=this._engine.statesByElement.get(t);if(e&&n){const i=new Set;e.forEach(e=>{const r=e.name;if(i.has(r))return;i.add(r);const s=this._triggers[r].fallbackTransition,o=n[r]||qt,a=new Ut(jt),l=new Gt(this.id,r,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:r,transition:s,fromState:o,toState:a,player:l,isFallbackTransition:!0})})}}removeNode(t,e){const n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let i=!1;if(n.totalAnimations){const e=n.players.length?n.playersByQueriedElement.get(t):[];if(e&&e.length)i=!0;else{let e=t;for(;e=e.parentNode;)if(n.statesByElement.get(e)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(t),i)n.markElementAsRemoved(this.id,t,!1,e);else{const i=t.__ng_removed;i&&i!==Bt||(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}}insertNode(t,e){Kt(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(n=>{const i=n.player;if(i.destroyed)return;const r=n.element,s=this._elementListeners.get(r);s&&s.forEach(e=>{if(e.name==n.triggerName){const i=d(r,n.triggerName,n.fromState.value,n.toState.value);i._data=t,u(n.player,e.phase,i,e.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):e.push(n)}),this._queue=[],e.sort((t,e)=>{const n=t.transition.ast.depCount,i=e.transition.ast.depCount;return 0==n||0==i?n-i:this._engine.driver.containsElement(t.element,e.element)?1:-1})}destroy(t){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(e=>e.element===t)||e,e}}class Ht{constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(t,e)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(e=>{e.queued&&t.push(e)})}),t}createNamespace(t,e){const n=new zt(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){const n=this._namespaceList.length-1;if(n>=0){let i=!1;for(let r=n;r>=0;r--)if(this.driver.containsElement(this._namespaceList[r].hostElement,e)){this._namespaceList.splice(r+1,0,t),i=!0;break}i||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let i=this._namespaceLookup[t];i&&i.register(e,n)&&this.totalAnimations++}destroy(t,e){if(!t)return;const n=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[t];const e=this._namespaceList.indexOf(n);e>=0&&this._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(()=>n.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,n=this.statesByElement.get(t);if(n){const t=Object.keys(n);for(let i=0;i<t.length;i++){const r=n[t[i]].namespaceId;if(r){const t=this._fetchNamespace(r);t&&e.add(t)}}}return e}trigger(t,e,n,i){if($t(e)){const r=this._fetchNamespace(t);if(r)return r.trigger(e,n,i),!0}return!1}insertNode(t,e,n,i){if(!$t(e))return;const r=e.__ng_removed;if(r&&r.setForRemoval){r.setForRemoval=!1,r.setForMove=!0;const t=this.collectedLeaveElements.indexOf(e);t>=0&&this.collectedLeaveElements.splice(t,1)}if(t){const i=this._fetchNamespace(t);i&&i.insertNode(e,n)}i&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Kt(t,Ft)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Qt(t,Ft))}removeNode(t,e,n,i){if($t(e)){const r=t?this._fetchNamespace(t):null;if(r?r.removeNode(e,i):this.markElementAsRemoved(t,e,!1,i),n){const n=this.namespacesByHostElement.get(e);n&&n.id!==t&&n.removeNode(e,i)}}else this._onRemovalComplete(e,i)}markElementAsRemoved(t,e,n,i){this.collectedLeaveElements.push(e),e.__ng_removed={namespaceId:t,setForRemoval:i,hasAnimation:n,removedBeforeQueried:!1}}listen(t,e,n,i,r){return $t(e)?this._fetchNamespace(t).listen(e,n,i,r):()=>{}}_buildInstruction(t,e,n,i,r){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,i,t.fromState.options,t.toState.options,e,r)}destroyInnerAnimations(t){let e=this.driver.query(t,R,!0);e.forEach(t=>this.destroyActiveAnimationsForElement(t)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,P,!0),e.forEach(t=>this.finishActiveQueriedAnimationOnElement(t)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return l(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t.__ng_removed;if(e&&e.setForRemoval){if(t.__ng_removed=Bt,e.namespaceId){this.destroyInnerAnimations(t);const n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,Lt)&&this.markElementAsDisabled(t,!1),this.driver.query(t,Lt,!0).forEach(t=>{this.markElementAsDisabled(t,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,e)=>this._balanceNamespaceList(t,e)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)Kt(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{e=this._flushAnimations(n,t)}finally{for(let t=0;t<n.length;t++)n[t]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){const t=this._whenQuietFns;this._whenQuietFns=[],e.length?l(e).onDone(()=>{t.forEach(t=>t())}):t.forEach(t=>t())}}reportError(t){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${t.join("\n")}`)}_flushAnimations(t,e){const n=new pt,i=[],r=new Map,o=[],a=new Map,c=new Map,u=new Map,h=new Set;this.disabledNodes.forEach(t=>{h.add(t);const e=this.driver.query(t,".ng-animate-queued",!0);for(let n=0;n<e.length;n++)h.add(e[n])});const d=this.bodyNode,f=Array.from(this.statesByElement.keys()),m=Wt(f,this.collectedEnterElements),g=new Map;let _=0;m.forEach((t,e)=>{const n=I+_++;g.set(e,n),t.forEach(t=>Kt(t,n))});const y=[],v=new Set,b=new Set;for(let s=0;s<this.collectedLeaveElements.length;s++){const t=this.collectedLeaveElements[s],e=t.__ng_removed;e&&e.setForRemoval&&(y.push(t),v.add(t),e.hasAnimation?this.driver.query(t,".ng-star-inserted",!0).forEach(t=>v.add(t)):b.add(t))}const w=new Map,C=Wt(f,Array.from(v));C.forEach((t,e)=>{const n=A+_++;w.set(e,n),t.forEach(t=>Kt(t,n))}),t.push(()=>{m.forEach((t,e)=>{const n=g.get(e);t.forEach(t=>Qt(t,n))}),C.forEach((t,e)=>{const n=w.get(e);t.forEach(t=>Qt(t,n))}),y.forEach(t=>{this.processLeaveNode(t)})});const E=[],S=[];for(let s=this._namespaceList.length-1;s>=0;s--)this._namespaceList[s].drainQueuedTransitions(e).forEach(t=>{const e=t.player,r=t.element;if(E.push(e),this.collectedEnterElements.length){const t=r.__ng_removed;if(t&&t.setForMove)return void e.destroy()}const s=!d||!this.driver.containsElement(d,r),l=w.get(r),h=g.get(r),f=this._buildInstruction(t,n,h,l,s);if(f.errors&&f.errors.length)S.push(f);else{if(s)return e.onStart(()=>q(r,f.fromStyles)),e.onDestroy(()=>j(r,f.toStyles)),void i.push(e);if(t.isFallbackTransition)return e.onStart(()=>q(r,f.fromStyles)),e.onDestroy(()=>j(r,f.toStyles)),void i.push(e);f.timelines.forEach(t=>t.stretchStartingKeyframe=!0),n.append(r,f.timelines),o.push({instruction:f,player:e,element:r}),f.queriedElements.forEach(t=>p(a,t,[]).push(e)),f.preStyleProps.forEach((t,e)=>{const n=Object.keys(t);if(n.length){let t=c.get(e);t||c.set(e,t=new Set),n.forEach(e=>t.add(e))}}),f.postStyleProps.forEach((t,e)=>{const n=Object.keys(t);let i=u.get(e);i||u.set(e,i=new Set),n.forEach(t=>i.add(t))})}});if(S.length){const t=[];S.forEach(e=>{t.push(`@${e.triggerName} has failed due to:\n`),e.errors.forEach(e=>t.push(`- ${e}\n`))}),E.forEach(t=>t.destroy()),this.reportError(t)}const x=new Map,k=new Map;o.forEach(t=>{const e=t.element;n.has(e)&&(k.set(e,e),this._beforeAnimationBuild(t.player.namespaceId,t.instruction,x))}),i.forEach(t=>{const e=t.element;this._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach(t=>{p(x,e,[]).push(t),t.destroy()})});const T=y.filter(t=>te(t,c,u)),D=new Map;Yt(D,this.driver,b,u,s.l3).forEach(t=>{te(t,c,u)&&T.push(t)});const R=new Map;m.forEach((t,e)=>{Yt(R,this.driver,new Set(t),c,s.k1)}),T.forEach(t=>{const e=D.get(t),n=R.get(t);D.set(t,Object.assign(Object.assign({},e),n))});const O=[],N=[],F={};o.forEach(t=>{const{element:e,player:s,instruction:o}=t;if(n.has(e)){if(h.has(e))return s.onDestroy(()=>j(e,o.toStyles)),s.disabled=!0,s.overrideTotalTime(o.totalTime),void i.push(s);let t=F;if(k.size>1){let n=e;const i=[];for(;n=n.parentNode;){const e=k.get(n);if(e){t=e;break}i.push(n)}i.forEach(e=>k.set(e,t))}const n=this._buildAnimation(s.namespaceId,o,x,r,R,D);if(s.setRealPlayer(n),t===F)O.push(s);else{const e=this.playersByElement.get(t);e&&e.length&&(s.parentPlayer=l(e)),i.push(s)}}else q(e,o.fromStyles),s.onDestroy(()=>j(e,o.toStyles)),N.push(s),h.has(e)&&i.push(s)}),N.forEach(t=>{const e=r.get(t.element);if(e&&e.length){const n=l(e);t.setRealPlayer(n)}}),i.forEach(t=>{t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()});for(let s=0;s<y.length;s++){const t=y[s],e=t.__ng_removed;if(Qt(t,A),e&&e.hasAnimation)continue;let n=[];if(a.size){let e=a.get(t);e&&e.length&&n.push(...e);let i=this.driver.query(t,P,!0);for(let t=0;t<i.length;t++){let e=a.get(i[t]);e&&e.length&&n.push(...e)}}const i=n.filter(t=>!t.destroyed);i.length?Jt(this,t,i):this.processLeaveNode(t)}return y.length=0,O.forEach(t=>{this.players.push(t),t.onDone(()=>{t.destroy();const e=this.players.indexOf(t);this.players.splice(e,1)}),t.play()}),O}elementContainsData(t,e){let n=!1;const i=e.__ng_removed;return i&&i.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,i,r){let s=[];if(e){const e=this.playersByQueriedElement.get(t);e&&(s=e)}else{const e=this.playersByElement.get(t);if(e){const t=!r||r==jt;e.forEach(e=>{e.queued||(t||e.triggerName==i)&&s.push(e)})}}return(n||i)&&(s=s.filter(t=>!(n&&n!=t.namespaceId||i&&i!=t.triggerName))),s}_beforeAnimationBuild(t,e,n){const i=e.element,r=e.isRemovalTransition?void 0:t,s=e.isRemovalTransition?void 0:e.triggerName;for(const o of e.timelines){const t=o.element,a=t!==i,l=p(n,t,[]);this._getPreviousPlayers(t,a,r,s,e.toState).forEach(t=>{const e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),l.push(t)})}q(i,e.fromStyles)}_buildAnimation(t,e,n,i,r,o){const a=e.triggerName,u=e.element,h=[],d=new Set,f=new Set,m=e.timelines.map(e=>{const l=e.element;d.add(l);const p=l.__ng_removed;if(p&&p.removedBeforeQueried)return new s.ZN(e.duration,e.delay);const m=l!==u,g=function(t){const e=[];return Xt(t,e),e}((n.get(l)||Mt).map(t=>t.getRealPlayer())).filter(t=>!!t.element&&t.element===l),_=r.get(l),y=o.get(l),v=c(0,this._normalizer,0,e.keyframes,_,y),b=this._buildPlayer(e,v,g);if(e.subTimeline&&i&&f.add(l),m){const e=new Gt(t,a,l);e.setRealPlayer(b),h.push(e)}return b});h.forEach(t=>{p(this.playersByQueriedElement,t.element,[]).push(t),t.onDone(()=>function(t,e,n){let i;if(t instanceof Map){if(i=t.get(e),i){if(i.length){const t=i.indexOf(n);i.splice(t,1)}0==i.length&&t.delete(e)}}else if(i=t[e],i){if(i.length){const t=i.indexOf(n);i.splice(t,1)}0==i.length&&delete t[e]}return i}(this.playersByQueriedElement,t.element,t))}),d.forEach(t=>Kt(t,O));const g=l(m);return g.onDestroy(()=>{d.forEach(t=>Qt(t,O)),j(u,e.toStyles)}),f.forEach(t=>{p(i,t,[]).push(g)}),g}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new s.ZN(t.duration,t.delay)}}class Gt{constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new s.ZN,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(n=>u(t,e,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){p(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function $t(t){return t&&1===t.nodeType}function Zt(t,e){const n=t.style.display;return t.style.display=null!=e?e:"none",n}function Yt(t,e,n,i,r){const s=[];n.forEach(t=>s.push(Zt(t)));const o=[];i.forEach((n,i)=>{const s={};n.forEach(t=>{const n=s[t]=e.computeStyle(i,t,r);n&&0!=n.length||(i.__ng_removed=Vt,o.push(i))}),t.set(i,s)});let a=0;return n.forEach(t=>Zt(t,s[a++])),o}function Wt(t,e){const n=new Map;if(t.forEach(t=>n.set(t,[])),0==e.length)return n;const i=new Set(e),r=new Map;function s(t){if(!t)return 1;let e=r.get(t);if(e)return e;const o=t.parentNode;return e=n.has(o)?o:i.has(o)?1:s(o),r.set(t,e),e}return e.forEach(t=>{const e=s(t);1!==e&&n.get(e).push(t)}),n}function Kt(t,e){if(t.classList)t.classList.add(e);else{let n=t.$$classes;n||(n=t.$$classes={}),n[e]=!0}}function Qt(t,e){if(t.classList)t.classList.remove(e);else{let n=t.$$classes;n&&delete n[e]}}function Jt(t,e,n){l(n).onDone(()=>t.processLeaveNode(e))}function Xt(t,e){for(let n=0;n<t.length;n++){const i=t[n];i instanceof s.ZE?Xt(i.players,e):e.push(i)}}function te(t,e,n){const i=n.get(t);if(!i)return!1;let r=e.get(t);return r?i.forEach(t=>r.add(t)):e.set(t,i),n.delete(t),!0}class ee{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._triggerCache={},this.onRemovalComplete=(t,e)=>{},this._transitionEngine=new Ht(t,e,n),this._timelineEngine=new Pt(t,e,n),this._transitionEngine.onRemovalComplete=(t,e)=>this.onRemovalComplete(t,e)}registerTrigger(t,e,n,i,r){const s=t+"-"+i;let o=this._triggerCache[s];if(!o){const t=[],e=ot(this._driver,r,t);if(t.length)throw new Error(`The animation trigger "${i}" has failed to build due to the following errors:\n - ${t.join("\n - ")}`);o=function(t,e){return new Dt(t,e)}(i,e),this._triggerCache[s]=o}this._transitionEngine.registerTrigger(e,i,o)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,i){this._transitionEngine.insertNode(t,e,n,i)}onRemove(t,e,n,i){this._transitionEngine.removeNode(t,e,i||!1,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,i){if("@"==n.charAt(0)){const[t,r]=f(n);this._timelineEngine.command(t,e,r,i)}else this._transitionEngine.trigger(t,e,n,i)}listen(t,e,n,i,r){if("@"==n.charAt(0)){const[t,i]=f(n);return this._timelineEngine.listen(t,e,i,r)}return this._transitionEngine.listen(t,e,n,i,r)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function ne(t,e){let n=null,i=null;return Array.isArray(e)&&e.length?(n=re(e[0]),e.length>1&&(i=re(e[e.length-1]))):e&&(n=re(e)),n||i?new ie(t,n,i):null}let ie=(()=>{class t{constructor(e,n,i){this._element=e,this._startStyles=n,this._endStyles=i,this._state=0;let r=t.initialStylesByElement.get(e);r||t.initialStylesByElement.set(e,r={}),this._initialStyles=r}start(){this._state<1&&(this._startStyles&&j(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(j(this._element,this._initialStyles),this._endStyles&&(j(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(q(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(q(this._element,this._endStyles),this._endStyles=null),j(this._element,this._initialStyles),this._state=3)}}return t.initialStylesByElement=new WeakMap,t})();function re(t){let e=null;const n=Object.keys(t);for(let i=0;i<n.length;i++){const r=n[i];se(r)&&(e=e||{},e[r]=t[r])}return e}function se(t){return"display"===t||"position"===t}const oe="animation",ae="animationend";class le{constructor(t,e,n,i,r,s,o){this._element=t,this._name=e,this._duration=n,this._delay=i,this._easing=r,this._fillMode=s,this._onDoneFn=o,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=t=>this._handleCallback(t)}apply(){!function(t,e){const n=fe(t,"").trim();n.length&&(function(t,e){let n=0;for(let i=0;i<t.length;i++)","===t.charAt(i)&&n++}(n),e=`${n}, ${e}`),pe(t,"",e)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),de(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){ce(this._element,this._name,"paused")}resume(){ce(this._element,this._name,"running")}setPosition(t){const e=ue(this._element,this._name);this._position=t*this._duration,pe(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),de(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(t,e){const n=fe(t,"").split(","),i=he(n,e);i>=0&&(n.splice(i,1),pe(t,"",n.join(",")))}(this._element,this._name))}}function ce(t,e,n){pe(t,"PlayState",n,ue(t,e))}function ue(t,e){const n=fe(t,"");return n.indexOf(",")>0?he(n.split(","),e):he([n],e)}function he(t,e){for(let n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function de(t,e,n){n?t.removeEventListener(ae,e):t.addEventListener(ae,e)}function pe(t,e,n,i){const r=oe+e;if(null!=i){const e=t.style[r];if(e.length){const t=e.split(",");t[i]=n,n=t.join(",")}}t.style[r]=n}function fe(t,e){return t.style[oe+e]||""}class me{constructor(t,e,n,i,r,s,o,a){this.element=t,this.keyframes=e,this.animationName=n,this._duration=i,this._delay=r,this._finalStyles=o,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=s||"linear",this.totalTime=i+r,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new le(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(t[n]=e?this._finalStyles[n]:X(this.element,n))})}this.currentSnapshot=t}}class ge extends s.ZN{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=x(e)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class _e{constructor(){this._count=0}validateStyleProperty(t){return w(t)}matchesElement(t,e){return C(t,e)}containsElement(t,e){return E(t,e)}query(t,e,n){return S(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,n){n=n.map(t=>x(t));let i=`@keyframes ${e} {\n`,r="";n.forEach(t=>{r=" ";const e=parseFloat(t.offset);i+=`${r}${100*e}% {\n`,r+=" ",Object.keys(t).forEach(e=>{const n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(i+=`${r}animation-timing-function: ${n};\n`));default:return void(i+=`${r}${e}: ${n};\n`)}}),i+=`${r}}\n`}),i+="}\n";const s=document.createElement("style");return s.textContent=i,s}animate(t,e,n,i,r,s=[],o){const a=s.filter(t=>t instanceof me),l={};K(n,i)&&a.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>l[t]=e[t])});const c=function(t){let e={};return t&&(Array.isArray(t)?t:[t]).forEach(t=>{Object.keys(t).forEach(n=>{"offset"!=n&&"easing"!=n&&(e[n]=t[n])})}),e}(e=Q(t,e,l));if(0==n)return new ge(t,c);const u="gen_css_kf_"+this._count++,h=this.buildKeyframeElement(t,u,e);(function(t){var e;const n=null===(e=t.getRootNode)||void 0===e?void 0:e.call(t);return"undefined"!=typeof ShadowRoot&&n instanceof ShadowRoot?n:document.head})(t).appendChild(h);const d=ne(t,e),p=new me(t,e,u,n,i,r,c,d);return p.onDestroy(()=>{var t;(t=h).parentNode.removeChild(t)}),p}}class ye{constructor(t,e,n,i){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,n){return t.animate(e,n)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:X(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class ve{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(be().toString()),this._cssKeyframesDriver=new _e}validateStyleProperty(t){return w(t)}matchesElement(t,e){return C(t,e)}containsElement(t,e){return E(t,e)}query(t,e,n){return S(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,n,i,r,s=[],o){if(!o&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,i,r,s);const a={duration:n,delay:i,fill:0==i?"both":"forwards"};r&&(a.easing=r);const l={},c=s.filter(t=>t instanceof ye);K(n,i)&&c.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>l[t]=e[t])});const u=ne(t,e=Q(t,e=e.map(t=>B(t,!1)),l));return new ye(t,e,a,u)}}function be(){return o()&&Element.prototype.animate||{}}var we=n(1116);let Ce=(()=>{class t extends s._j{constructor(t,e){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(e.body,{id:"0",encapsulation:i.ifc.None,styles:[],data:{animation:[]}})}build(t){const e=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(t)?(0,s.vP)(t):t;return xe(this._renderer,null,e,"register",[n]),new Ee(e,this._renderer)}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(i.FYo),i.LFG(we.K0))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})();class Ee extends s.LC{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new Se(this._id,t,e||{},this._renderer)}}class Se{constructor(t,e,n,i){this.id=t,this.element=e,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return xe(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function xe(t,e,n,i,r){return t.setProperty(e,`@@${n}:${i}`,r)}const ke="@",Te="@.disabled";let Ie=(()=>{class t{constructor(t,e,n){this.delegate=t,this.engine=e,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),e.onRemovalComplete=(t,e)=>{e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}createRenderer(t,e){const n=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){let t=this._rendererCache.get(n);return t||(t=new Ae("",n,this.engine),this._rendererCache.set(n,t)),t}const i=e.id,r=e.id+"-"+this._currentId;this._currentId++,this.engine.register(r,t);const s=e=>{Array.isArray(e)?e.forEach(s):this.engine.registerTrigger(i,r,t,e.name,e)};return e.data.animation.forEach(s),new De(this,r,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,n){t>=0&&t<this._microtaskId?this._zone.run(()=>e(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(t=>{const[e,n]=t;e(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([e,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(i.FYo),i.LFG(ee),i.LFG(i.R0b))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})();class Ae{constructor(t,e,n){this.namespaceId=t,this.delegate=e,this.engine=n,this.destroyNode=this.delegate.destroyNode?t=>e.destroyNode(t):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n,i=!0){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,i)}removeChild(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,i){this.delegate.setAttribute(t,e,n,i)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,i){this.delegate.setStyle(t,e,n,i)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){e.charAt(0)==ke&&e==Te?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.delegate.listen(t,e,n)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class De extends Ae{constructor(t,e,n,i){super(e,n,i),this.factory=t,this.namespaceId=e}setProperty(t,e,n){e.charAt(0)==ke?"."==e.charAt(1)&&e==Te?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n){if(e.charAt(0)==ke){const i=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t);let r=e.substr(1),s="";return r.charAt(0)!=ke&&([r,s]=function(t){const e=t.indexOf(".");return[t.substring(0,e),t.substr(e+1)]}(r)),this.engine.listen(this.namespaceId,i,r,s,t=>{this.factory.scheduleListenerCallback(t._data||-1,n,t)})}return this.delegate.listen(t,e,n)}}let Re=(()=>{class t extends ee{constructor(t,e,n){super(t.body,e,n)}ngOnDestroy(){this.flush()}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(we.K0),i.LFG(T),i.LFG(Et))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})();const Oe=new i.OlP("AnimationModuleType"),Pe=[{provide:s._j,useClass:Ce},{provide:Et,useFactory:function(){return new St}},{provide:ee,useClass:Re},{provide:i.FYo,useFactory:function(t,e,n){return new Ie(t,e,n)},deps:[r.se,ee,i.R0b]}],Ne=[{provide:T,useFactory:function(){return"function"==typeof be()?new ve:new _e}},{provide:Oe,useValue:"BrowserAnimations"},...Pe],Fe=[{provide:T,useClass:k},{provide:Oe,useValue:"NoopAnimations"},...Pe];let Le=(()=>{class t{static withConfig(e){return{ngModule:t,providers:e.disableAnimations?Fe:Ne}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({providers:Ne,imports:[r.b2]}),t})()},9624:(t,e,n)=>{"use strict";n.d(e,{b2:()=>B,H7:()=>P,q6:()=>L,se:()=>E});var i=n(1116),r=n(5366);class s extends i.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class o extends s{static makeCurrent(){(0,i.HT)(new o)}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=(l=l||document.querySelector("base"),l?l.getAttribute("href"):null);return null==e?null:function(t){a=a||document.createElement("a"),a.setAttribute("href",t);const e=a.pathname;return"/"===e.charAt(0)?e:`/${e}`}(e)}resetBaseElement(){l=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return(0,i.Mx)(document.cookie,t)}}let a,l=null;const c=new r.OlP("TRANSITION_ID"),u=[{provide:r.ip1,useFactory:function(t,e,n){return()=>{n.get(r.CZH).donePromise.then(()=>{const n=(0,i.q)();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[c,i.K0,r.zs3],multi:!0}];class h{static init(){(0,r.VLi)(new h)}addToWindow(t){r.dqk.getAngularTestability=(e,n=!0)=>{const i=t.findTestabilityInTree(e,n);if(null==i)throw new Error("Could not find testability for element.");return i},r.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),r.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),r.dqk.frameworkStabilizers||(r.dqk.frameworkStabilizers=[]),r.dqk.frameworkStabilizers.push(t=>{const e=r.dqk.getAllAngularTestabilities();let n=e.length,i=!1;const s=function(e){i=i||e,n--,0==n&&t(i)};e.forEach(function(t){t.whenStable(s)})})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?(0,i.q)().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let d=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();const p=new r.OlP("EventManagerPlugins");let f=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let i=0;i<n.length;i++){const e=n[i];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error(`No event manager plugin found for event ${t}`)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(p),r.LFG(r.R0b))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();class m{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=(0,i.q)().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let g=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})(),_=(()=>{class t extends g{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,e,n){t.forEach(t=>{const i=this._doc.createElement("style");i.textContent=t,n.push(e.appendChild(i))})}addHost(t){const e=[];this._addStylesToHost(this._stylesSet,t,e),this._hostNodes.set(t,e)}removeHost(t){const e=this._hostNodes.get(t);e&&e.forEach(y),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((e,n)=>{this._addStylesToHost(t,n,e)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(y))}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(i.K0))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();function y(t){(0,i.q)().remove(t)}const v={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},b=/%COMP%/g;function w(t,e,n){for(let i=0;i<e.length;i++){let r=e[i];Array.isArray(r)?w(t,r,n):(r=r.replace(b,t),n.push(r))}return n}function C(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let E=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new S(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case r.ifc.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new x(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case 1:case r.ifc.ShadowDom:return new k(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=w(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(f),r.LFG(_),r.LFG(r.AFp))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();class S{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(v[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,i){if(i){e=i+":"+e;const r=v[i];r?t.setAttributeNS(r,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const i=v[n];i?t.removeAttributeNS(i,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&(r.JOm.DashCase|r.JOm.Important)?t.style.setProperty(e,n,i&r.JOm.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&r.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,C(n)):this.eventManager.addEventListener(t,e,C(n))}}class x extends S{constructor(t,e,n,i){super(t),this.component=n;const r=w(i+"-"+n.id,n.styles,[]);e.addStyles(r),this.contentAttr="_ngcontent-%COMP%".replace(b,i+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(b,i+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class k extends S{constructor(t,e,n,i){super(t),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const r=w(i.id,i.styles,[]);for(let s=0;s<r.length;s++){const t=document.createElement("style");t.textContent=r[s],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let T=(()=>{class t extends m{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(i.K0))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();const I=["alt","control","meta","shift"],A={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},D={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},R={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let O=(()=>{class t extends m{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const s=t.parseEventName(n),o=t.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,i.q)().onAndCancel(e,s.domEventName,o))}static parseEventName(e){const n=e.toLowerCase().split("."),i=n.shift();if(0===n.length||"keydown"!==i&&"keyup"!==i)return null;const r=t._normalizeKey(n.pop());let s="";if(I.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),s+=t+".")}),s+=r,0!=n.length||0===r.length)return null;const o={};return o.domEventName=i,o.fullKey=s,o}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&D.hasOwnProperty(e)&&(e=D[e]))}return A[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),I.forEach(i=>{i!=n&&(0,R[i])(t)&&(e+=i+".")}),e+=n,e}static eventCallback(e,n,i){return r=>{t.getEventFullKey(r)===e&&i.runGuarded(()=>n(r))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(i.K0))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})(),P=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=(0,r.Yz7)({factory:function(){return(0,r.LFG)(F)},token:t,providedIn:"root"}),t})();function N(t){return new F(t.get(i.K0))}let F=(()=>{class t extends P{constructor(t){super(),this._doc=t}sanitize(t,e){if(null==e)return null;switch(t){case r.q3G.NONE:return e;case r.q3G.HTML:return(0,r.qzn)(e,"HTML")?(0,r.z3N)(e):(0,r.EiD)(this._doc,String(e)).toString();case r.q3G.STYLE:return(0,r.qzn)(e,"Style")?(0,r.z3N)(e):e;case r.q3G.SCRIPT:if((0,r.qzn)(e,"Script"))return(0,r.z3N)(e);throw new Error("unsafe value used in a script context");case r.q3G.URL:return(0,r.yhl)(e),(0,r.qzn)(e,"URL")?(0,r.z3N)(e):(0,r.mCW)(String(e));case r.q3G.RESOURCE_URL:if((0,r.qzn)(e,"ResourceURL"))return(0,r.z3N)(e);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return(0,r.JVY)(t)}bypassSecurityTrustStyle(t){return(0,r.L6k)(t)}bypassSecurityTrustScript(t){return(0,r.eBb)(t)}bypassSecurityTrustUrl(t){return(0,r.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,r.pB0)(t)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(i.K0))},t.\u0275prov=(0,r.Yz7)({factory:function(){return N((0,r.LFG)(r.gxx))},token:t,providedIn:"root"}),t})();const L=(0,r.eFA)(r._c5,"browser",[{provide:r.Lbi,useValue:i.bD},{provide:r.g9A,useValue:function(){o.makeCurrent(),h.init()},multi:!0},{provide:i.K0,useFactory:function(){return(0,r.RDi)(document),document},deps:[]}]),M=[[],{provide:r.zSh,useValue:"root"},{provide:r.qLn,useFactory:function(){return new r.qLn},deps:[]},{provide:p,useClass:T,multi:!0,deps:[i.K0,r.R0b,r.Lbi]},{provide:p,useClass:O,multi:!0,deps:[i.K0]},[],{provide:E,useClass:E,deps:[f,_,r.AFp]},{provide:r.FYo,useExisting:E},{provide:g,useExisting:_},{provide:_,useClass:_,deps:[i.K0]},{provide:r.dDg,useClass:r.dDg,deps:[r.R0b]},{provide:f,useClass:f,deps:[p,r.R0b]},{provide:i.JF,useClass:d,deps:[]},[]];let B=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:r.AFp,useValue:e.appId},{provide:c,useExisting:r.AFp},u]}}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(t,12))},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({providers:M,imports:[i.ez,r.hGG]}),t})();"undefined"!=typeof window&&window},766:(t,e,n)=>{"use strict";n.d(e,{gz:()=>Gt,F0:()=>fn,Bz:()=>xn,lC:()=>mn});var i=n(1116),r=n(5366),s=n(9764),o=n(878),a=n(8512),l=n(1305),c=n(8318),u=n(9665),h=n(7930),d=n(1450),p=n(653),f=n(2875),m=n(5959),g=n(3835),_=n(6673),y=n(8402);function v(t){return function(e){return 0===t?(0,p.c)():e.lift(new b(t))}}class b{constructor(t){if(this.total=t,this.total<0)throw new y.W}call(t,e){return e.subscribe(new w(t,this.total))}}class w extends _.L{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,i=this.count++;e.length<n?e.push(t):e[i%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,i=this.ring;for(let r=0;r<n;r++){const r=e++%n;t.next(i[r])}}t.complete()}}var C=n(790),E=n(7768),S=n(3392),x=n(9996),k=n(4689),T=n(611),I=n(6238),A=n(2023),D=n(7727),R=n(436),O=n(3530),P=n(3982),N=n(6599),F=n(1564),L=n(1520),M=n(7471);class B{constructor(t,e){this.id=t,this.url=e}}class V extends B{constructor(t,e,n="imperative",i=null){super(t,e),this.navigationTrigger=n,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class U extends B{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class j extends B{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class q extends B{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class z extends B{constructor(t,e,n,i){super(t,e),this.urlAfterRedirects=n,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class H extends B{constructor(t,e,n,i){super(t,e),this.urlAfterRedirects=n,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class G extends B{constructor(t,e,n,i,r){super(t,e),this.urlAfterRedirects=n,this.state=i,this.shouldActivate=r}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class $ extends B{constructor(t,e,n,i){super(t,e),this.urlAfterRedirects=n,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Z extends B{constructor(t,e,n,i){super(t,e),this.urlAfterRedirects=n,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Y{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class W{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class K{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Q{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class J{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class X{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class tt{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const et="primary";class nt{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function it(t){return new nt(t)}function rt(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function st(t,e,n){const i=n.path.split("/");if(i.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||i.length<t.length))return null;const r={};for(let s=0;s<i.length;s++){const e=i[s],n=t[s];if(e.startsWith(":"))r[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,i.length),posParams:r}}function ot(t,e){const n=t?Object.keys(t):void 0,i=e?Object.keys(e):void 0;if(!n||!i||n.length!=i.length)return!1;let r;for(let s=0;s<n.length;s++)if(r=n[s],!at(t[r],e[r]))return!1;return!0}function at(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),i=[...e].sort();return n.every((t,e)=>i[e]===t)}return t===e}function lt(t){return Array.prototype.concat.apply([],t)}function ct(t){return t.length>0?t[t.length-1]:null}function ut(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function ht(t){return(0,r.CqO)(t)?t:(0,r.QGY)(t)?(0,s.D)(Promise.resolve(t)):(0,o.of)(t)}const dt={exact:function t(e,n,i){if(!wt(e.segments,n.segments))return!1;if(!_t(e.segments,n.segments,i))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(const r in n.children){if(!e.children[r])return!1;if(!t(e.children[r],n.children[r],i))return!1}return!0},subset:mt},pt={exact:function(t,e){return ot(t,e)},subset:function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>at(t[n],e[n]))},ignored:()=>!0};function ft(t,e,n){return dt[n.paths](t.root,e.root,n.matrixParams)&&pt[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function mt(t,e,n){return gt(t,e,e.segments,n)}function gt(t,e,n,i){if(t.segments.length>n.length){const r=t.segments.slice(0,n.length);return!!wt(r,n)&&!e.hasChildren()&&!!_t(r,n,i)}if(t.segments.length===n.length){if(!wt(t.segments,n))return!1;if(!_t(t.segments,n,i))return!1;for(const n in e.children){if(!t.children[n])return!1;if(!mt(t.children[n],e.children[n],i))return!1}return!0}{const r=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!!wt(t.segments,r)&&!!_t(t.segments,r,i)&&!!t.children.primary&&gt(t.children.primary,e,s,i)}}function _t(t,e,n){return e.every((e,i)=>pt[n](t[i].parameters,e.parameters))}class yt{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=it(this.queryParams)),this._queryParamMap}toString(){return St.serialize(this)}}class vt{constructor(t,e){this.segments=t,this.children=e,this.parent=null,ut(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return xt(this)}}class bt{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=it(this.parameters)),this._parameterMap}toString(){return Ot(this)}}function wt(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}class Ct{}class Et{parse(t){const e=new Mt(t);return new yt(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){var e;return`/${kt(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${It(e)}=${It(t)}`).join("&"):`${It(e)}=${It(n)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${e=t.fragment,encodeURI(e)}`:""}`}}const St=new Et;function xt(t){return t.segments.map(t=>Ot(t)).join("/")}function kt(t,e){if(!t.hasChildren())return xt(t);if(e){const e=t.children.primary?kt(t.children.primary,!1):"",n=[];return ut(t.children,(t,e)=>{e!==et&&n.push(`${e}:${kt(t,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}{const e=function(t,e){let n=[];return ut(t.children,(t,i)=>{i===et&&(n=n.concat(e(t,i)))}),ut(t.children,(t,i)=>{i!==et&&(n=n.concat(e(t,i)))}),n}(t,(e,n)=>n===et?[kt(t.children.primary,!1)]:[`${n}:${kt(e,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children.primary?`${xt(t)}/${e[0]}`:`${xt(t)}/(${e.join("//")})`}}function Tt(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function It(t){return Tt(t).replace(/%3B/gi,";")}function At(t){return Tt(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Dt(t){return decodeURIComponent(t)}function Rt(t){return Dt(t.replace(/\+/g,"%20"))}function Ot(t){return`${At(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${At(t)}=${At(e[t])}`).join("")}`;var e}const Pt=/^[^\/()?;=#]+/;function Nt(t){const e=t.match(Pt);return e?e[0]:""}const Ft=/^[^=?&#]+/,Lt=/^[^?&#]+/;class Mt{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new vt([],{}):new vt([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new vt(t,e)),n}parseSegment(){const t=Nt(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new bt(Dt(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Nt(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=Nt(this.remaining);t&&(n=t,this.capture(n))}t[Dt(e)]=Dt(n)}parseQueryParam(t){const e=function(t){const e=t.match(Ft);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(Lt);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const i=Rt(e),r=Rt(n);if(t.hasOwnProperty(i)){let e=t[i];Array.isArray(e)||(e=[e],t[i]=e),e.push(r)}else t[i]=r}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=Nt(this.remaining),i=this.remaining[n.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let r;n.indexOf(":")>-1?(r=n.substr(0,n.indexOf(":")),this.capture(r),this.capture(":")):t&&(r=et);const s=this.parseChildren();e[r]=1===Object.keys(s).length?s.primary:new vt([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class Bt{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Vt(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=Vt(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Ut(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return Ut(t,this._root).map(t=>t.value)}}function Vt(t,e){if(t===e.value)return e;for(const n of e.children){const e=Vt(t,n);if(e)return e}return null}function Ut(t,e){if(t===e.value)return[e];for(const n of e.children){const i=Ut(t,n);if(i.length)return i.unshift(e),i}return[]}class jt{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function qt(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class zt extends Bt{constructor(t,e){super(t),this.snapshot=e,Wt(this,t)}toString(){return this.snapshot.toString()}}function Ht(t,e){const n=function(t,e){const n=new Zt([],{},{},"",{},et,e,null,t.root,-1,{});return new Yt("",new jt(n,[]))}(t,e),i=new a.X([new bt("",{})]),r=new a.X({}),s=new a.X({}),o=new a.X({}),l=new a.X(""),c=new Gt(i,r,o,l,s,et,e,n.root);return c.snapshot=n.root,new zt(new jt(c,[]),n)}class Gt{constructor(t,e,n,i,r,s,o,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=i,this.data=r,this.outlet=s,this.component=o,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,x.U)(t=>it(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,x.U)(t=>it(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function $t(t,e="emptyOnly"){const n=t.pathFromRoot;let i=0;if("always"!==e)for(i=n.length-1;i>=1;){const t=n[i],e=n[i-1];if(t.routeConfig&&""===t.routeConfig.path)i--;else{if(e.component)break;i--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(i))}class Zt{constructor(t,e,n,i,r,s,o,a,l,c,u){this.url=t,this.params=e,this.queryParams=n,this.fragment=i,this.data=r,this.outlet=s,this.component=o,this.routeConfig=a,this._urlSegment=l,this._lastPathIndex=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=it(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=it(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Yt extends Bt{constructor(t,e){super(e),this.url=t,Wt(this,e)}toString(){return Kt(this._root)}}function Wt(t,e){e.value._routerState=t,e.children.forEach(e=>Wt(t,e))}function Kt(t){const e=t.children.length>0?` { ${t.children.map(Kt).join(", ")} } `:"";return`${t.value}${e}`}function Qt(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,ot(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),ot(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!ot(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),ot(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Jt(t,e){var n,i;return ot(t.params,e.params)&&wt(n=t.url,i=e.url)&&n.every((t,e)=>ot(t.parameters,i[e].parameters))&&!(!t.parent!=!e.parent)&&(!t.parent||Jt(t.parent,e.parent))}function Xt(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const i=n.value;i._futureSnapshot=e.value;const r=function(t,e,n){return e.children.map(e=>{for(const i of n.children)if(t.shouldReuseRoute(e.value,i.value.snapshot))return Xt(t,e,i);return Xt(t,e)})}(t,e,n);return new jt(i,r)}{if(t.shouldAttach(e.value)){const n=t.retrieve(e.value);if(null!==n){const t=n.route;return te(e,t),t}}const n=new Gt(new a.X((i=e.value).url),new a.X(i.params),new a.X(i.queryParams),new a.X(i.fragment),new a.X(i.data),i.outlet,i.component,i),r=e.children.map(e=>Xt(t,e));return new jt(n,r)}var i}function te(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(let n=0;n<t.children.length;++n)te(t.children[n],e.children[n])}function ee(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function ne(t){return"object"==typeof t&&null!=t&&t.outlets}function ie(t,e,n,i,r){let s={};return i&&ut(i,(t,e)=>{s[e]=Array.isArray(t)?t.map(t=>`${t}`):`${t}`}),new yt(n.root===t?e:re(n.root,t,e),s,r)}function re(t,e,n){const i={};return ut(t.children,(t,r)=>{i[r]=t===e?n:re(t,e,n)}),new vt(t.segments,i)}class se{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&ee(n[0]))throw new Error("Root segment cannot have matrix parameters");const i=n.find(ne);if(i&&i!==ct(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class oe{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function ae(t,e,n){if(t||(t=new vt([],{})),0===t.segments.length&&t.hasChildren())return le(t,e,n);const i=function(t,e,n){let i=0,r=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<t.segments.length;){if(i>=n.length)return s;const e=t.segments[r],o=n[i];if(ne(o))break;const a=`${o}`,l=i<n.length-1?n[i+1]:null;if(r>0&&void 0===a)break;if(a&&l&&"object"==typeof l&&void 0===l.outlets){if(!de(a,l,e))return s;i+=2}else{if(!de(a,{},e))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(t,e,n),r=n.slice(i.commandIndex);if(i.match&&i.pathIndex<t.segments.length){const e=new vt(t.segments.slice(0,i.pathIndex),{});return e.children.primary=new vt(t.segments.slice(i.pathIndex),t.children),le(e,0,r)}return i.match&&0===r.length?new vt(t.segments,{}):i.match&&!t.hasChildren()?ce(t,e,n):i.match?le(t,0,r):ce(t,e,n)}function le(t,e,n){if(0===n.length)return new vt(t.segments,{});{const i=function(t){return ne(t[0])?t[0].outlets:{[et]:t}}(n),r={};return ut(i,(n,i)=>{"string"==typeof n&&(n=[n]),null!==n&&(r[i]=ae(t.children[i],e,n))}),ut(t.children,(t,e)=>{void 0===i[e]&&(r[e]=t)}),new vt(t.segments,r)}}function ce(t,e,n){const i=t.segments.slice(0,e);let r=0;for(;r<n.length;){const s=n[r];if(ne(s)){const t=ue(s.outlets);return new vt(i,t)}if(0===r&&ee(n[0])){i.push(new bt(t.segments[e].path,he(n[0]))),r++;continue}const o=ne(s)?s.outlets.primary:`${s}`,a=r<n.length-1?n[r+1]:null;o&&a&&ee(a)?(i.push(new bt(o,he(a))),r+=2):(i.push(new bt(o,{})),r++)}return new vt(i,{})}function ue(t){const e={};return ut(t,(t,n)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[n]=ce(new vt([],{}),0,t))}),e}function he(t){const e={};return ut(t,(t,n)=>e[n]=`${t}`),e}function de(t,e,n){return t==n.path&&ot(e,n.parameters)}class pe{constructor(t,e,n,i){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=i}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),Qt(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const i=qt(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,i[e],n),delete i[e]}),ut(i,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const i=t.value,r=e?e.value:null;if(i===r)if(i.component){const r=n.getContext(i.outlet);r&&this.deactivateChildRoutes(t,e,r.children)}else this.deactivateChildRoutes(t,e,n);else r&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),i=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:i})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet),i=n&&t.value.component?n.children:e,r=qt(t);for(const s of Object.keys(r))this.deactivateRouteAndItsChildren(r[s],i);n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated(),n.attachRef=null,n.resolver=null,n.route=null)}activateChildRoutes(t,e,n){const i=qt(e);t.children.forEach(t=>{this.activateRoutes(t,i[t.value.outlet],n),this.forwardEvent(new X(t.value.snapshot))}),t.children.length&&this.forwardEvent(new Q(t.value.snapshot))}activateRoutes(t,e,n){const i=t.value,r=e?e.value:null;if(Qt(i),i===r)if(i.component){const r=n.getOrCreateContext(i.outlet);this.activateChildRoutes(t,e,r.children)}else this.activateChildRoutes(t,e,n);else if(i.component){const e=n.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const t=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),fe(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(i.snapshot),r=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=i,e.resolver=r,e.outlet&&e.outlet.activateWith(i,r),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function fe(t){Qt(t.value),t.children.forEach(fe)}class me{constructor(t,e){this.routes=t,this.module=e}}function ge(t){return"function"==typeof t}function _e(t){return t instanceof yt}const ye=Symbol("INITIAL_VALUE");function ve(){return(0,k.w)(t=>(0,l.aj)(t.map(t=>t.pipe((0,T.q)(1),(0,I.O)(ye)))).pipe((0,A.R)((t,e)=>{let n=!1;return e.reduce((t,i,r)=>{if(t!==ye)return t;if(i===ye&&(n=!0),!n){if(!1===i)return i;if(r===e.length-1||_e(i))return i}return t},t)},ye),(0,g.h)(t=>t!==ye),(0,x.U)(t=>_e(t)?t:!0===t),(0,T.q)(1)))}let be=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Xpm({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&r._UZ(0,"router-outlet")},directives:function(){return[mn]},encapsulation:2}),t})();function we(t,e=""){for(let n=0;n<t.length;n++){const i=t[n];Ce(i,Ee(e,i))}}function Ce(t,e){t.children&&we(t.children,e)}function Ee(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function Se(t){const e=t.children&&t.children.map(Se),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==et&&(n.component=be),n}function xe(t){return t.outlet||et}function ke(t,e){const n=t.filter(t=>xe(t)===e);return n.push(...t.filter(t=>xe(t)!==e)),n}const Te={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Ie(t,e,n){var i;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?Object.assign({},Te):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const r=(e.matcher||st)(n,t,e);if(!r)return Object.assign({},Te);const s={};ut(r.posParams,(t,e)=>{s[e]=t.path});const o=r.consumed.length>0?Object.assign(Object.assign({},s),r.consumed[r.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:o,positionalParamSegments:null!==(i=r.posParams)&&void 0!==i?i:{}}}function Ae(t,e,n,i,r="corrected"){if(n.length>0&&function(t,e,n){return n.some(n=>De(t,e,n)&&xe(n)!==et)}(t,n,i)){const r=new vt(e,function(t,e,n,i){const r={};r.primary=i,i._sourceSegment=t,i._segmentIndexShift=e.length;for(const s of n)if(""===s.path&&xe(s)!==et){const n=new vt([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,r[xe(s)]=n}return r}(t,e,i,new vt(n,t.children)));return r._sourceSegment=t,r._segmentIndexShift=e.length,{segmentGroup:r,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>De(t,e,n))}(t,n,i)){const s=new vt(t.segments,function(t,e,n,i,r,s){const o={};for(const a of i)if(De(t,n,a)&&!r[xe(a)]){const n=new vt([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===s?t.segments.length:e.length,o[xe(a)]=n}return Object.assign(Object.assign({},r),o)}(t,e,n,i,t.children,r));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}const s=new vt(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function De(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function Re(t,e,n,i){return!!(xe(t)===i||i!==et&&De(e,n,t))&&("**"===t.path||Ie(e,t,n).matched)}function Oe(t,e,n){return 0===e.length&&!t.children[n]}class Pe{constructor(t){this.segmentGroup=t||null}}class Ne{constructor(t){this.urlTree=t}}function Fe(t){return new c.y(e=>e.error(new Pe(t)))}function Le(t){return new c.y(e=>e.error(new Ne(t)))}function Me(t){return new c.y(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class Be{constructor(t,e,n,i,s){this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=s,this.allowRedirects=!0,this.ngModule=t.get(r.h0i)}apply(){const t=Ae(this.urlTree.root,[],[],this.config).segmentGroup,e=new vt(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,et).pipe((0,x.U)(t=>this.createUrlTree(Ve(t),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,D.K)(t=>{if(t instanceof Ne)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof Pe)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,et).pipe((0,x.U)(e=>this.createUrlTree(Ve(e),t.queryParams,t.fragment))).pipe((0,D.K)(t=>{if(t instanceof Pe)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const i=t.segments.length>0?new vt([],{[et]:t}):t;return new yt(i,e,n)}expandSegmentGroup(t,e,n,i){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe((0,x.U)(t=>new vt([],t))):this.expandSegment(t,n,e,n.segments,i,!0)}expandChildren(t,e,n){const i=[];for(const r of Object.keys(n.children))"primary"===r?i.unshift(r):i.push(r);return(0,s.D)(i).pipe((0,R.b)(i=>{const r=n.children[i],s=ke(e,i);return this.expandSegmentGroup(t,s,r,i).pipe((0,x.U)(t=>({segment:t,outlet:i})))}),(0,A.R)((t,e)=>(t[e.outlet]=e.segment,t),{}),function(t,e){const n=arguments.length>=2;return i=>i.pipe(t?(0,g.h)((e,n)=>t(e,n,i)):S.y,v(1),n?(0,E.d)(e):(0,C.T)(()=>new u.K))}())}expandSegment(t,e,n,i,r,a){return(0,s.D)(n).pipe((0,R.b)(s=>this.expandSegmentAgainstRoute(t,e,n,s,i,r,a).pipe((0,D.K)(t=>{if(t instanceof Pe)return(0,o.of)(null);throw t}))),(0,O.P)(t=>!!t),(0,D.K)((t,n)=>{if(t instanceof u.K||"EmptyError"===t.name){if(Oe(e,i,r))return(0,o.of)(new vt([],{}));throw new Pe(e)}throw t}))}expandSegmentAgainstRoute(t,e,n,i,r,s,o){return Re(i,e,r,s)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(t,e,i,r,s):o&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,i,r,s):Fe(e):Fe(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,i,r,s){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,i,s):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,i,r,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,i){const r=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Le(r):this.lineralizeSegments(n,r).pipe((0,P.zg)(n=>{const r=new vt(n,{});return this.expandSegment(t,r,e,n,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,i,r,s){const{matched:o,consumedSegments:a,lastChild:l,positionalParamSegments:c}=Ie(e,i,r);if(!o)return Fe(e);const u=this.applyRedirectCommands(a,i.redirectTo,c);return i.redirectTo.startsWith("/")?Le(u):this.lineralizeSegments(i,u).pipe((0,P.zg)(i=>this.expandSegment(t,e,n,i.concat(r.slice(l)),s,!1)))}matchSegmentAgainstRoute(t,e,n,i,r){if("**"===n.path)return n.loadChildren?(n._loadedConfig?(0,o.of)(n._loadedConfig):this.configLoader.load(t.injector,n)).pipe((0,x.U)(t=>(n._loadedConfig=t,new vt(i,{})))):(0,o.of)(new vt(i,{}));const{matched:s,consumedSegments:a,lastChild:l}=Ie(e,n,i);if(!s)return Fe(e);const c=i.slice(l);return this.getChildConfig(t,n,i).pipe((0,P.zg)(t=>{const i=t.module,s=t.routes,{segmentGroup:l,slicedSegments:u}=Ae(e,a,c,s),h=new vt(l.segments,l.children);if(0===u.length&&h.hasChildren())return this.expandChildren(i,s,h).pipe((0,x.U)(t=>new vt(a,t)));if(0===s.length&&0===u.length)return(0,o.of)(new vt(a,{}));const d=xe(n)===r;return this.expandSegment(i,h,s,u,d?et:r,!0).pipe((0,x.U)(t=>new vt(a.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?(0,o.of)(new me(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?(0,o.of)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe((0,P.zg)(n=>n?this.configLoader.load(t.injector,e).pipe((0,x.U)(t=>(e._loadedConfig=t,t))):function(t){return new c.y(e=>e.error(rt(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):(0,o.of)(new me([],t))}runCanLoadGuards(t,e,n){const i=e.canLoad;if(!i||0===i.length)return(0,o.of)(!0);const r=i.map(i=>{const r=t.get(i);let s;if(function(t){return t&&ge(t.canLoad)}(r))s=r.canLoad(e,n);else{if(!ge(r))throw new Error("Invalid CanLoad guard");s=r(e,n)}return ht(s)});return(0,o.of)(r).pipe(ve(),(0,N.b)(t=>{if(!_e(t))return;const e=rt(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),(0,x.U)(t=>!0===t))}lineralizeSegments(t,e){let n=[],i=e.root;for(;;){if(n=n.concat(i.segments),0===i.numberOfChildren)return(0,o.of)(n);if(i.numberOfChildren>1||!i.children.primary)return Me(t.redirectTo);i=i.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,i){const r=this.createSegmentGroup(t,e.root,n,i);return new yt(r,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return ut(t,(t,i)=>{if("string"==typeof t&&t.startsWith(":")){const r=t.substring(1);n[i]=e[r]}else n[i]=t}),n}createSegmentGroup(t,e,n,i){const r=this.createSegments(t,e.segments,n,i);let s={};return ut(e.children,(e,r)=>{s[r]=this.createSegmentGroup(t,e,n,i)}),new vt(r,s)}createSegments(t,e,n,i){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,i):this.findOrReturn(e,n))}findPosParam(t,e,n){const i=n[e.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return i}findOrReturn(t,e){let n=0;for(const i of e){if(i.path===t.path)return e.splice(n),i;n++}return t}}function Ve(t){const e={};for(const n of Object.keys(t.children)){const i=Ve(t.children[n]);(i.segments.length>0||i.hasChildren())&&(e[n]=i)}return function(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new vt(t.segments.concat(e.segments),e.children)}return t}(new vt(t.segments,e))}class Ue{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class je{constructor(t,e){this.component=t,this.route=e}}function qe(t,e,n){const i=t._root;return He(i,e?e._root:null,n,[i.value])}function ze(t,e,n){const i=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(i?i.module.injector:n).get(t)}function He(t,e,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=qt(e);return t.children.forEach(t=>{!function(t,e,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const l=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!wt(t.url,e.url);case"pathParamsOrQueryParamsChange":return!wt(t.url,e.url)||!ot(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Jt(t,e)||!ot(t.queryParams,e.queryParams);case"paramsChange":default:return!Jt(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new Ue(i)):(s.data=o.data,s._resolvedData=o._resolvedData),He(t,e,s.component?a?a.children:null:n,i,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new je(a.outlet.component,o))}else o&&Ge(e,a,r),r.canActivateChecks.push(new Ue(i)),He(t,null,s.component?a?a.children:null:n,i,r)}(t,s[t.value.outlet],n,i.concat([t.value]),r),delete s[t.value.outlet]}),ut(s,(t,e)=>Ge(t,n.getContext(e),r)),r}function Ge(t,e,n){const i=qt(t),r=t.value;ut(i,(t,i)=>{Ge(t,r.component?e?e.children.getContext(i):null:e,n)}),n.canDeactivateChecks.push(new je(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}class $e{}function Ze(t){return new c.y(e=>e.error(t))}class Ye{constructor(t,e,n,i,r,s){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=i,this.paramsInheritanceStrategy=r,this.relativeLinkResolution=s}recognize(){const t=Ae(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,et);if(null===e)return null;const n=new Zt([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},et,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new jt(n,e),r=new Yt(this.url,i);return this.inheritParamsAndData(r._root),r}inheritParamsAndData(t){const e=t.value,n=$t(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=[];for(const r of Object.keys(e.children)){const i=e.children[r],s=ke(t,r),o=this.processSegmentGroup(s,i,r);if(null===o)return null;n.push(...o)}const i=Ke(n);return i.sort((t,e)=>t.value.outlet===et?-1:e.value.outlet===et?1:t.value.outlet.localeCompare(e.value.outlet)),i}processSegment(t,e,n,i){for(const r of t){const t=this.processSegmentAgainstRoute(r,e,n,i);if(null!==t)return t}return Oe(e,n,i)?[]:null}processSegmentAgainstRoute(t,e,n,i){if(t.redirectTo||!Re(t,e,n,i))return null;let r,s=[],o=[];if("**"===t.path){const i=n.length>0?ct(n).parameters:{};r=new Zt(n,i,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Xe(t),xe(t),t.component,t,Qe(e),Je(e)+n.length,tn(t))}else{const i=Ie(e,t,n);if(!i.matched)return null;s=i.consumedSegments,o=n.slice(i.lastChild),r=new Zt(s,i.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Xe(t),xe(t),t.component,t,Qe(e),Je(e)+s.length,tn(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:l,slicedSegments:c}=Ae(e,s,o,a.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution);if(0===c.length&&l.hasChildren()){const t=this.processChildren(a,l);return null===t?null:[new jt(r,t)]}if(0===a.length&&0===c.length)return[new jt(r,[])];const u=xe(t)===i,h=this.processSegment(a,l,c,u?et:i);return null===h?null:[new jt(r,h)]}}function We(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Ke(t){const e=[],n=new Set;for(const i of t){if(!We(i)){e.push(i);continue}const t=e.find(t=>i.value.routeConfig===t.value.routeConfig);void 0!==t?(t.children.push(...i.children),n.add(t)):e.push(i)}for(const i of n){const t=Ke(i.children);e.push(new jt(i.value,t))}return e.filter(t=>!n.has(t))}function Qe(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Je(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function Xe(t){return t.data||{}}function tn(t){return t.resolve||{}}function en(t){return(0,k.w)(e=>{const n=t(e);return n?(0,s.D)(n).pipe((0,x.U)(()=>e)):(0,o.of)(e)})}class nn extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const rn=new r.OlP("ROUTES");class sn{constructor(t,e,n,i){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=i}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const n=this.loadModuleFactory(e.loadChildren).pipe((0,x.U)(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const i=n.create(t);return new me(lt(i.injector.get(rn,void 0,r.XFs.Self|r.XFs.Optional)).map(Se),i)}),(0,D.K)(t=>{throw e._loader$=void 0,t}));return e._loader$=new f.c(n,()=>new m.xQ).pipe((0,F.x)()),e._loader$}loadModuleFactory(t){return"string"==typeof t?(0,s.D)(this.loader.load(t)):ht(t()).pipe((0,P.zg)(t=>t instanceof r.YKP?(0,o.of)(t):(0,s.D)(this.compiler.compileModuleAsync(t))))}}class on{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new an,this.attachRef=null}}class an{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new on,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class ln{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function cn(t){throw t}function un(t,e,n){return e.parse("/")}function hn(t,e){return(0,o.of)(null)}const dn={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},pn={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let fn=(()=>{class t{constructor(t,e,n,i,s,o,l,c){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=i,this.config=c,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new m.xQ,this.errorHandler=cn,this.malformedUriErrorHandler=un,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:hn,afterPreactivation:hn},this.urlHandlingStrategy=new ln,this.routeReuseStrategy=new nn,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=s.get(r.h0i),this.console=s.get(r.c2e);const u=s.get(r.R0b);this.isNgZoneEnabled=u instanceof r.R0b&&r.R0b.isInAngularZone(),this.resetConfig(c),this.currentUrlTree=new yt(new vt([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new sn(o,l,t=>this.triggerEvent(new Y(t)),t=>this.triggerEvent(new W(t))),this.routerState=Ht(this.currentUrlTree,this.rootComponentType),this.transitions=new a.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe((0,g.h)(t=>0!==t.id),(0,x.U)(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),(0,k.w)(t=>{let n=!1,i=!1;return(0,o.of)(t).pipe((0,N.b)(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,k.w)(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return(0,o.of)(t).pipe((0,k.w)(t=>{const n=this.transitions.getValue();return e.next(new V(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?p.E:Promise.resolve(t)}),(i=this.ngModule.injector,r=this.configLoader,s=this.urlSerializer,a=this.config,(0,k.w)(t=>function(t,e,n,i,r){return new Be(t,e,n,i,r).apply()}(i,r,s,t.extractedUrl,a).pipe((0,x.U)(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e}))))),(0,N.b)(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,i,r){return(0,P.zg)(s=>function(t,e,n,i,r="emptyOnly",s="legacy"){try{const a=new Ye(t,e,n,i,r,s).recognize();return null===a?Ze(new $e):(0,o.of)(a)}catch(a){return Ze(a)}}(t,e,s.urlAfterRedirects,n(s.urlAfterRedirects),i,r).pipe((0,x.U)(t=>Object.assign(Object.assign({},s),{targetSnapshot:t}))))}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,N.b)(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,t),this.browserUrlTree=t.urlAfterRedirects);const n=new z(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var i,r,s,a;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:i,source:r,restoredState:s,extras:a}=t,l=new V(n,this.serializeUrl(i),r,s);e.next(l);const c=Ht(i,this.rootComponentType).snapshot;return(0,o.of)(Object.assign(Object.assign({},t),{targetSnapshot:c,urlAfterRedirects:i,extras:Object.assign(Object.assign({},a),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),p.E}),en(t=>{const{targetSnapshot:e,id:n,extractedUrl:i,rawUrl:r,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:i,rawUrlTree:r,skipLocationChange:!!s,replaceUrl:!!o})}),(0,N.b)(t=>{const e=new H(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),(0,x.U)(t=>Object.assign(Object.assign({},t),{guards:qe(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return(0,P.zg)(n=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:a,canDeactivateChecks:l}}=n;return 0===l.length&&0===a.length?(0,o.of)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,i){return(0,s.D)(t).pipe((0,P.zg)(t=>function(t,e,n,i,r){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||0===s.length)return(0,o.of)(!0);const a=s.map(s=>{const o=ze(s,e,r);let a;if(function(t){return t&&ge(t.canDeactivate)}(o))a=ht(o.canDeactivate(t,e,n,i));else{if(!ge(o))throw new Error("Invalid CanDeactivate guard");a=ht(o(t,e,n,i))}return a.pipe((0,O.P)())});return(0,o.of)(a).pipe(ve())}(t.component,t.route,n,e,i)),(0,O.P)(t=>!0!==t,!0))}(l,i,r,t).pipe((0,P.zg)(n=>n&&"boolean"==typeof n?function(t,e,n,i){return(0,s.D)(e).pipe((0,R.b)(e=>(0,h.z)(function(t,e){return null!==t&&e&&e(new K(t)),(0,o.of)(!0)}(e.route.parent,i),function(t,e){return null!==t&&e&&e(new J(t)),(0,o.of)(!0)}(e.route,i),function(t,e,n){const i=e[e.length-1],r=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>(0,d.P)(()=>{const r=e.guards.map(r=>{const s=ze(r,e.node,n);let o;if(function(t){return t&&ge(t.canActivateChild)}(s))o=ht(s.canActivateChild(i,t));else{if(!ge(s))throw new Error("Invalid CanActivateChild guard");o=ht(s(i,t))}return o.pipe((0,O.P)())});return(0,o.of)(r).pipe(ve())}));return(0,o.of)(r).pipe(ve())}(t,e.path,n),function(t,e,n){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return(0,o.of)(!0);const r=i.map(i=>(0,d.P)(()=>{const r=ze(i,e,n);let s;if(function(t){return t&&ge(t.canActivate)}(r))s=ht(r.canActivate(e,t));else{if(!ge(r))throw new Error("Invalid CanActivate guard");s=ht(r(e,t))}return s.pipe((0,O.P)())}));return(0,o.of)(r).pipe(ve())}(t,e.route,n))),(0,O.P)(t=>!0!==t,!0))}(i,a,t,e):(0,o.of)(n)),(0,x.U)(t=>Object.assign(Object.assign({},n),{guardsResult:t})))})}(this.ngModule.injector,t=>this.triggerEvent(t)),(0,N.b)(t=>{if(_e(t.guardsResult)){const e=rt(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}const e=new G(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),(0,g.h)(t=>!!t.guardsResult||(this.cancelNavigationTransition(t,""),!1)),en(t=>{if(t.guards.canActivateChecks.length)return(0,o.of)(t).pipe((0,N.b)(t=>{const e=new $(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),(0,k.w)(t=>{let e=!1;return(0,o.of)(t).pipe((n=this.paramsInheritanceStrategy,i=this.ngModule.injector,(0,P.zg)(t=>{const{targetSnapshot:e,guards:{canActivateChecks:r}}=t;if(!r.length)return(0,o.of)(t);let a=0;return(0,s.D)(r).pipe((0,R.b)(t=>function(t,e,n,i){return function(t,e,n,i){const r=Object.keys(t);if(0===r.length)return(0,o.of)({});const a={};return(0,s.D)(r).pipe((0,P.zg)(r=>function(t,e,n,i){const r=ze(t,e,i);return ht(r.resolve?r.resolve(e,n):r(e,n))}(t[r],e,n,i).pipe((0,N.b)(t=>{a[r]=t}))),v(1),(0,P.zg)(()=>Object.keys(a).length===r.length?(0,o.of)(a):p.E))}(t._resolve,t,e,i).pipe((0,x.U)(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),$t(t,n).resolve),null)))}(t.route,e,n,i)),(0,N.b)(()=>a++),v(1),(0,P.zg)(e=>a===r.length?(0,o.of)(t):p.E))})),(0,N.b)({next:()=>e=!0,complete:()=>{e||this.cancelNavigationTransition(t,"At least one route resolver didn't emit any value.")}}));var n,i}),(0,N.b)(t=>{const e=new Z(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),en(t=>{const{targetSnapshot:e,id:n,extractedUrl:i,rawUrl:r,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:i,rawUrlTree:r,skipLocationChange:!!s,replaceUrl:!!o})}),(0,x.U)(t=>{const e=function(t,e,n){const i=Xt(t,e._root,n?n._root:void 0);return new zt(i,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),(0,N.b)(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,t),this.browserUrlTree=t.urlAfterRedirects)}),(r=this.rootContexts,a=this.routeReuseStrategy,l=t=>this.triggerEvent(t),(0,x.U)(t=>(new pe(a,t.targetRouterState,t.currentRouterState,l).activate(r),t))),(0,N.b)({next(){n=!0},complete(){n=!0}}),(0,L.x)(()=>{n||i||this.cancelNavigationTransition(t,`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`),this.currentNavigation=null}),(0,D.K)(n=>{if(i=!0,(r=n)&&r.ngNavigationCancelingError){const i=_e(n.url);i||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const r=new j(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(r),i?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const i=new q(t.id,this.serializeUrl(t.extractedUrl),n);e.next(i);try{t.resolve(this.errorHandler(n))}catch(s){t.reject(s)}}var r;return p.E}));var r,a,l}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const e=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,e)&&setTimeout(()=>{const{source:t,state:n,urlTree:i}=e,r={replaceUrl:!0};if(n){const t=Object.assign({},n);delete t.navigationId,delete t.\u0275routerPageId,0!==Object.keys(t).length&&(r.state=t)}this.scheduleNavigation(i,t,n,r)},0),this.lastLocationChangeInfo=e}))}extractLocationChangeInfoFromEvent(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,e){if(!t)return!0;const n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){we(t),this.config=t.map(Se),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,e={}){const{relativeTo:n,queryParams:i,fragment:r,queryParamsHandling:s,preserveFragment:o}=e,a=n||this.routerState.root,l=o?this.currentUrlTree.fragment:r;let c=null;switch(s){case"merge":c=Object.assign(Object.assign({},this.currentUrlTree.queryParams),i);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=i||null}return null!==c&&(c=this.removeEmptyProps(c)),function(t,e,n,i,r){if(0===n.length)return ie(e.root,e.root,e,i,r);const s=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new se(!0,0,t);let e=0,n=!1;const i=t.reduce((t,i,r)=>{if("object"==typeof i&&null!=i){if(i.outlets){const e={};return ut(i.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(i.segmentPath)return[...t,i.segmentPath]}return"string"!=typeof i?[...t,i]:0===r?(i.split("/").forEach((i,r)=>{0==r&&"."===i||(0==r&&""===i?n=!0:".."===i?e++:""!=i&&t.push(i))}),t):[...t,i]},[]);return new se(n,e,i)}(n);if(s.toRoot())return ie(e.root,new vt([],{}),e,i,r);const o=function(t,e,n){if(t.isAbsolute)return new oe(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new oe(t,t===e.root,0)}const i=ee(t.commands[0])?0:1;return function(t,e,n){let i=t,r=e,s=n;for(;s>r;){if(s-=r,i=i.parent,!i)throw new Error("Invalid number of '../'");r=i.segments.length}return new oe(i,!1,r-s)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+i,t.numberOfDoubleDots)}(s,e,t),a=o.processChildren?le(o.segmentGroup,o.index,s.commands):ae(o.segmentGroup,o.index,s.commands);return ie(o.segmentGroup,a,e,i,r)}(a,this.currentUrlTree,t,c,null!=l?l:null)}navigateByUrl(t,e={skipLocationChange:!1}){const n=_e(t)?t:this.parseUrl(t),i=this.urlHandlingStrategy.merge(n,this.rawUrlTree);let r=null;return"computed"===this.canceledNavigationResolution&&(0===this.currentPageId||e.skipLocationChange||e.replaceUrl)&&(r=this.location.getState()),this.scheduleNavigation(i,"imperative",r,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(n){e=this.malformedUriErrorHandler(n,this.urlSerializer,t)}return e}isActive(t,e){let n;if(n=!0===e?Object.assign({},dn):!1===e?Object.assign({},pn):e,_e(t))return ft(this.currentUrlTree,t,n);const i=this.parseUrl(t);return ft(this.currentUrlTree,i,n)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const i=t[n];return null!=i&&(e[n]=i),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new U(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,i,r){if(this.disposed)return Promise.resolve(!1);const s=this.getTransition(),o="imperative"!==e&&"imperative"===(null==s?void 0:s.source),a=(this.lastSuccessfulId===s.id||this.currentNavigation?s.rawUrl:s.urlAfterRedirects).toString()===t.toString();if(o&&a)return Promise.resolve(!0);let l,c,u;r?(l=r.resolve,c=r.reject,u=r.promise):u=new Promise((t,e)=>{l=t,c=e});const h=++this.navigationId;let d;return d="computed"===this.canceledNavigationResolution?n&&n.\u0275routerPageId?n.\u0275routerPageId:this.currentPageId+1:0,this.setTransition({id:h,targetPageId:d,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:i,resolve:l,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(t=>Promise.reject(t))}setBrowserUrl(t,e){const n=this.urlSerializer.serialize(t),i=Object.assign(Object.assign({},e.extras.state),this.generateNgRouterState(e.id,e.targetPageId));this.location.isCurrentPathEqualTo(n)||e.extras.replaceUrl?this.location.replaceState(n,"",i):this.location.go(n,"",i)}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,e){"computed"===this.canceledNavigationResolution?"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy||this.location.historyGo(this.currentPageId-t.targetPageId):this.resetUrlToCurrentUrlTree();const n=new j(t.id,this.serializeUrl(t.extractedUrl),e);this.triggerEvent(n),t.resolve(!1)}generateNgRouterState(t,e){return"computed"===this.canceledNavigationResolution?{navigationId:t,"\u0275routerPageId":e}:{navigationId:t}}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(r.DyG),r.LFG(Ct),r.LFG(an),r.LFG(i.Ye),r.LFG(r.zs3),r.LFG(r.v3s),r.LFG(r.Sil),r.LFG(void 0))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})(),mn=(()=>{class t{constructor(t,e,n,i,s){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=s,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.vpe,this.deactivateEvents=new r.vpe,this.name=i||et,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),i=this.parentContexts.getOrCreateContext(this.name).children,r=new gn(t,i,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,r),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(an),r.Y36(r.s_b),r.Y36(r._Vd),r.$8M("name"),r.Y36(r.sBO))},t.\u0275dir=r.lG2({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class gn{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===Gt?this.route:t===an?this.childContexts:this.parent.get(t,e)}}class _n{}class yn{preload(t,e){return(0,o.of)(null)}}let vn=(()=>{class t{constructor(t,e,n,i,r){this.router=t,this.injector=i,this.preloadingStrategy=r,this.loader=new sn(e,n,e=>t.triggerEvent(new Y(e)),e=>t.triggerEvent(new W(e)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,g.h)(t=>t instanceof U),(0,R.b)(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(r.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const i of e)if(i.loadChildren&&!i.canLoad&&i._loadedConfig){const t=i._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else i.loadChildren&&!i.canLoad?n.push(this.preloadConfig(t,i)):i.children&&n.push(this.processRoutes(t,i.children));return(0,s.D)(n).pipe((0,M.J)(),(0,x.U)(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>(e._loadedConfig?(0,o.of)(e._loadedConfig):this.loader.load(t.injector,e)).pipe((0,P.zg)(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(fn),r.LFG(r.v3s),r.LFG(r.Sil),r.LFG(r.zs3),r.LFG(_n))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})(),bn=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof V?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof U&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof tt&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new tt(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(fn),r.LFG(i.EM),r.LFG(void 0))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();const wn=new r.OlP("ROUTER_CONFIGURATION"),Cn=new r.OlP("ROUTER_FORROOT_GUARD"),En=[i.Ye,{provide:Ct,useClass:Et},{provide:fn,useFactory:function(t,e,n,i,r,s,o,a={},l,c){const u=new fn(null,t,e,n,i,r,s,lt(o));return l&&(u.urlHandlingStrategy=l),c&&(u.routeReuseStrategy=c),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(a,u),a.enableTracing&&u.events.subscribe(t=>{var e,n;null===(e=console.group)||void 0===e||e.call(console,`Router Event: ${t.constructor.name}`),console.log(t.toString()),console.log(t),null===(n=console.groupEnd)||void 0===n||n.call(console)}),u},deps:[Ct,an,i.Ye,r.zs3,r.v3s,r.Sil,rn,wn,[class{},new r.FiY],[class{},new r.FiY]]},an,{provide:Gt,useFactory:function(t){return t.routerState.root},deps:[fn]},{provide:r.v3s,useClass:r.EAV},vn,yn,class{preload(t,e){return e().pipe((0,D.K)(()=>(0,o.of)(null)))}},{provide:wn,useValue:{enableTracing:!1}}];function Sn(){return new r.PXZ("Router",fn)}let xn=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[En,An(e),{provide:Cn,useFactory:In,deps:[[fn,new r.FiY,new r.tp0]]},{provide:wn,useValue:n||{}},{provide:i.S$,useFactory:Tn,deps:[i.lw,[new r.tBr(i.mr),new r.FiY],wn]},{provide:bn,useFactory:kn,deps:[fn,i.EM,wn]},{provide:_n,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:yn},{provide:r.PXZ,multi:!0,useFactory:Sn},[Dn,{provide:r.ip1,multi:!0,useFactory:Rn,deps:[Dn]},{provide:Pn,useFactory:On,deps:[Dn]},{provide:r.tb,multi:!0,useExisting:Pn}]]}}static forChild(e){return{ngModule:t,providers:[An(e)]}}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(Cn,8),r.LFG(fn,8))},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({}),t})();function kn(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new bn(t,e,n)}function Tn(t,e,n={}){return n.useHash?new i.Do(t,e):new i.b0(t,e)}function In(t){return"guarded"}function An(t){return[{provide:r.deG,multi:!0,useValue:t},{provide:rn,multi:!0,useValue:t}]}let Dn=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new m.xQ}appInitializer(){return this.injector.get(i.V_,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(fn),i=this.injector.get(wn);return"disabled"===i.initialNavigation?(n.setUpLocationChangeListener(),t(!0)):"enabled"===i.initialNavigation||"enabledBlocking"===i.initialNavigation?(n.hooks.afterPreactivation=()=>this.initNavigation?(0,o.of)(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()):t(!0),e})}bootstrapListener(t){const e=this.injector.get(wn),n=this.injector.get(vn),i=this.injector.get(bn),s=this.injector.get(fn),o=this.injector.get(r.z2F);t===o.components[0]&&("enabledNonBlocking"!==e.initialNavigation&&void 0!==e.initialNavigation||s.initialNavigation(),n.setUpPreloading(),i.init(),s.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(r.zs3))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();function Rn(t){return t.appInitializer.bind(t)}function On(t){return t.bootstrapListener.bind(t)}const Pn=new r.OlP("Router Initializer")},1932:(t,e,n)=>{"use strict";n.d(e,{Z:()=>d});var i=n(250),r=n(5119),s=n(7092),o=n(308);class a{constructor(t,e){this._delegate=t,this.firebase=e,(0,s._addComponent)(t,new r.wA("app-compat",()=>this,"PUBLIC")),this.container=t.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this._delegate.automaticDataCollectionEnabled=t}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(t=>{this._delegate.checkDestroyed(),t()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,s.deleteApp)(this._delegate)))}_getService(t,e=s._DEFAULT_ENTRY_NAME){var n;this._delegate.checkDestroyed();const i=this._delegate.container.getProvider(t);return i.isInitialized()||"EXPLICIT"!==(null===(n=i.getComponent())||void 0===n?void 0:n.instantiationMode)||i.initialize(),i.getImmediate({identifier:e})}_removeServiceInstance(t,e=s._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(t).clearInstance(e)}_addComponent(t){(0,s._addComponent)(this._delegate,t)}_addOrOverwriteComponent(t){(0,s._addOrOverwriteComponent)(this._delegate,t)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const l=new i.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),c=function t(){const e=function(t){const e={},n={__esModule:!0,initializeApp:function(r,o={}){const a=s.initializeApp(r,o);if((0,i.r3)(e,a.name))return e[a.name];const l=new t(a,n);return e[a.name]=l,l},app:r,registerVersion:s.registerVersion,setLogLevel:s.setLogLevel,onLog:s.onLog,apps:null,SDK_VERSION:s.SDK_VERSION,INTERNAL:{registerComponent:function(e){const o=e.name,a=o.replace("-compat","");if(s._registerComponent(e)&&"PUBLIC"===e.type){const s=(t=r())=>{if("function"!=typeof t[a])throw l.create("invalid-app-argument",{appName:o});return t[a]()};void 0!==e.serviceProps&&(0,i.ZB)(s,e.serviceProps),n[a]=s,t.prototype[a]=function(...t){return this._getService.bind(this,o).apply(this,e.multipleInstances?t:[])}}return"PUBLIC"===e.type?n[a]:null},removeApp:function(t){delete e[t]},useAsService:function(t,e){return"serverAuth"===e?null:e},modularAPIs:s}};function r(t){if(!(0,i.r3)(e,t=t||s._DEFAULT_ENTRY_NAME))throw l.create("no-app",{appName:t});return e[t]}return n.default=n,Object.defineProperty(n,"apps",{get:function(){return Object.keys(e).map(t=>e[t])}}),r.App=t,n}(a);return e.INTERNAL=Object.assign(Object.assign({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){(0,i.ZB)(e,t)},createSubscribe:i.ne,ErrorFactory:i.LL,deepExtend:i.ZB}),e}(),u=new o.Yd("@firebase/app-compat");if((0,i.jU)()&&void 0!==self.firebase){u.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const t=self.firebase.SDK_VERSION;t&&t.indexOf("LITE")>=0&&u.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const h=c;(0,s.registerVersion)("@firebase/app-compat","0.1.1",void 0);const d=h},7092:(t,e,n)=>{"use strict";n.r(e),n.d(e,{FirebaseError:()=>o.ZR,SDK_VERSION:()=>C,_DEFAULT_ENTRY_NAME:()=>u,_addComponent:()=>f,_addOrOverwriteComponent:()=>m,_apps:()=>d,_clearComponents:()=>v,_components:()=>p,_getProvider:()=>_,_registerComponent:()=>g,_removeServiceInstance:()=>y,deleteApp:()=>k,getApp:()=>S,getApps:()=>x,initializeApp:()=>E,onLog:()=>A,registerVersion:()=>I,setLogLevel:()=>D});var i=n(6304),r=n(5119),s=n(308),o=n(250);class a{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(function(t){const e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){const e=t.getImmediate();return`${e.library}/${e.version}`}return null}).filter(t=>t).join(" ")}}const l="@firebase/app",c=new s.Yd("@firebase/app"),u="[DEFAULT]",h={[l]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},d=new Map,p=new Map;function f(t,e){try{t.container.addComponent(e)}catch(n){c.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function m(t,e){t.container.addOrOverwriteComponent(e)}function g(t){const e=t.name;if(p.has(e))return c.debug(`There were multiple attempts to register component ${e}.`),!1;p.set(e,t);for(const n of d.values())f(n,t);return!0}function _(t,e){return t.container.getProvider(e)}function y(t,e,n=u){_(t,e).clearInstance(n)}function v(){p.clear()}const b=new o.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class w{constructor(t,e,n){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new r.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw b.create("app-deleted",{appName:this._name})}}const C="9.0.0";function E(t,e={}){"object"!=typeof e&&(e={name:e});const n=Object.assign({name:u,automaticDataCollectionEnabled:!1},e),i=n.name;if("string"!=typeof i||!i)throw b.create("bad-app-name",{appName:String(i)});const s=d.get(i);if(s){if((0,o.vZ)(t,s.options)&&(0,o.vZ)(n,s.config))return s;throw b.create("duplicate-app",{appName:i})}const a=new r.H0(i);for(const r of p.values())a.addComponent(r);const l=new w(t,n,a);return d.set(i,l),l}function S(t=u){const e=d.get(t);if(!e)throw b.create("no-app",{appName:t});return e}function x(){return Array.from(d.values())}function k(t){return T.apply(this,arguments)}function T(){return(T=(0,i.Z)(function*(t){const e=t.name;d.has(e)&&(d.delete(e),yield Promise.all(t.container.getProviders().map(t=>t.delete())),t.isDeleted=!0)})).apply(this,arguments)}function I(t,e,n){var i;let s=null!==(i=h[t])&&void 0!==i?i:t;n&&(s+=`-${n}`);const o=s.match(/\s|\//),a=e.match(/\s|\//);if(o||a){const t=[`Unable to register library "${s}" with version "${e}":`];return o&&t.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&a&&t.push("and"),a&&t.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void c.warn(t.join(" "))}g(new r.wA(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}function A(t,e){if(null!==t&&"function"!=typeof t)throw b.create("invalid-log-argument");(0,s.Am)(t,e)}function D(t){(0,s.Ub)(t)}g(new r.wA("platform-logger",t=>new a(t),"PRIVATE")),I(l,"0.7.0",void 0),I("fire-js","")},5119:(t,e,n)=>{"use strict";n.d(e,{wA:()=>s,H0:()=>l,zt:()=>a});var i=n(4762),r=n(250),s=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},t}(),o="[DEFAULT]",a=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return t.prototype.get=function(t){var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new r.BH;if(this.instancesDeferred.set(e,n),this.isInitialized(e)||this.shouldAutoInitialize())try{var i=this.getOrInitializeService({instanceIdentifier:e});i&&n.resolve(i)}catch(s){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e,n=this.normalizeInstanceIdentifier(null==t?void 0:t.identifier),i=null!==(e=null==t?void 0:t.optional)&&void 0!==e&&e;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(i)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(r){if(i)return null;throw r}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:o})}catch(h){}try{for(var r=(0,i.XA)(this.instancesDeferred.entries()),s=r.next();!s.done;s=r.next()){var a=(0,i.CR)(s.value,2),l=a[1],c=this.normalizeInstanceIdentifier(a[0]);try{var u=this.getOrInitializeService({instanceIdentifier:c});l.resolve(u)}catch(h){}}}catch(d){e={error:d}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}}},t.prototype.clearInstance=function(t){void 0===t&&(t=o),this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return(0,i.mG)(this,void 0,void 0,function(){var t;return(0,i.Jh)(this,function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all((0,i.ev)((0,i.ev)([],(0,i.CR)(t.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}))),(0,i.CR)(t.filter(function(t){return"_delete"in t}).map(function(t){return t._delete()}))))];case 1:return e.sent(),[2]}})})},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t=o),this.instances.has(t)},t.prototype.getOptions=function(t){return void 0===t&&(t=o),this.instancesOptions.get(t)||{}},t.prototype.initialize=function(t){var e,n;void 0===t&&(t={});var r=t.options,s=void 0===r?{}:r,o=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(o))throw Error(this.name+"("+o+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var a=this.getOrInitializeService({instanceIdentifier:o,options:s});try{for(var l=(0,i.XA)(this.instancesDeferred.entries()),c=l.next();!c.done;c=l.next()){var u=(0,i.CR)(c.value,2),h=u[1];o===this.normalizeInstanceIdentifier(u[0])&&h.resolve(a)}}catch(d){e={error:d}}finally{try{c&&!c.done&&(n=l.return)&&n.call(l)}finally{if(e)throw e.error}}return a},t.prototype.onInit=function(t,e){var n,i=this.normalizeInstanceIdentifier(e),r=null!==(n=this.onInitCallbacks.get(i))&&void 0!==n?n:new Set;r.add(t),this.onInitCallbacks.set(i,r);var s=this.instances.get(i);return s&&t(s,i),function(){r.delete(t)}},t.prototype.invokeOnInitCallbacks=function(t,e){var n,r,s=this.onInitCallbacks.get(e);if(s)try{for(var o=(0,i.XA)(s),a=o.next();!a.done;a=o.next()){var l=a.value;try{l(t,e)}catch(c){}}}catch(u){n={error:u}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}},t.prototype.getOrInitializeService=function(t){var e,n=t.instanceIdentifier,i=t.options,r=void 0===i?{}:i,s=this.instances.get(n);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:(e=n,e===o?void 0:e),options:r}),this.instances.set(n,s),this.instancesOptions.set(n,r),this.invokeOnInitCallbacks(s,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,s)}catch(a){}return s||null},t.prototype.normalizeInstanceIdentifier=function(t){return void 0===t&&(t=o),this.component?this.component.multipleInstances?t:o:t},t.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},t}(),l=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new a(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},9535:(t,e,n)=>{"use strict";var i=n(6304),r=n(7092),s=n(5119),o=n(250),a=n(2087);const l="w:0.5.0",c="FIS_v2",u=new o.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function h(t){return t instanceof o.ZR&&t.code.includes("request-failed")}function d({projectId:t}){return`https://firebaseinstallations.googleapis.com/v1/projects/${t}/installations`}function p(t){return{token:t.token,requestStatus:2,expiresIn:(e=t.expiresIn,Number(e.replace("s","000"))),creationTime:Date.now()};var e}function f(t,e){return m.apply(this,arguments)}function m(){return(m=(0,i.Z)(function*(t,e){const n=(yield e.json()).error;return u.create("request-failed",{requestName:t,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})})).apply(this,arguments)}function g({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function _(t,{refreshToken:e}){const n=g(t);return n.append("Authorization",function(t){return`FIS_v2 ${t}`}(e)),n}function y(t){return v.apply(this,arguments)}function v(){return(v=(0,i.Z)(function*(t){const e=yield t();return e.status>=500&&e.status<600?t():e})).apply(this,arguments)}function b(t,e){return w.apply(this,arguments)}function w(){return(w=(0,i.Z)(function*(t,{fid:e}){const n=d(t),i={method:"POST",headers:g(t),body:JSON.stringify({fid:e,authVersion:c,appId:t.appId,sdkVersion:l})},r=yield y(()=>fetch(n,i));if(r.ok){const t=yield r.json();return{fid:t.fid||e,registrationStatus:2,refreshToken:t.refreshToken,authToken:p(t.authToken)}}throw yield f("Create Installation",r)})).apply(this,arguments)}function C(t){return new Promise(e=>{setTimeout(e,t)})}const E=/^[cdef][\w-]{21}$/;function S(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const e=function(t){return(e=t,btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")).substr(0,22);var e}(t);return E.test(e)?e:""}catch(t){return""}}function x(t){return`${t.appName}!${t.appId}`}const k=new Map;function T(t,e){const n=x(t);I(n,e),function(t,e){const n=(!A&&"BroadcastChannel"in self&&(A=new BroadcastChannel("[Firebase] FID Change"),A.onmessage=t=>{I(t.data.key,t.data.fid)}),A);n&&n.postMessage({key:t,fid:e}),0===k.size&&A&&(A.close(),A=null)}(n,e)}function I(t,e){const n=k.get(t);if(n)for(const i of n)i(e)}let A=null;const D="firebase-installations-store";let R=null;function O(){return R||(R=(0,a.openDb)("firebase-installations-database",1,t=>{switch(t.oldVersion){case 0:t.createObjectStore(D)}})),R}function P(t,e){return N.apply(this,arguments)}function N(){return(N=(0,i.Z)(function*(t,e){const n=x(t),i=(yield O()).transaction(D,"readwrite"),r=i.objectStore(D),s=yield r.get(n);return yield r.put(e,n),yield i.complete,s&&s.fid===e.fid||T(t,e.fid),e})).apply(this,arguments)}function F(t){return L.apply(this,arguments)}function L(){return(L=(0,i.Z)(function*(t){const e=x(t),n=(yield O()).transaction(D,"readwrite");yield n.objectStore(D).delete(e),yield n.complete})).apply(this,arguments)}function M(t,e){return B.apply(this,arguments)}function B(){return(B=(0,i.Z)(function*(t,e){const n=x(t),i=(yield O()).transaction(D,"readwrite"),r=i.objectStore(D),s=yield r.get(n),o=e(s);return void 0===o?yield r.delete(n):yield r.put(o,n),yield i.complete,!o||s&&s.fid===o.fid||T(t,o.fid),o})).apply(this,arguments)}function V(t){return U.apply(this,arguments)}function U(){return(U=(0,i.Z)(function*(t){let e;const n=yield M(t,n=>{const i=j(n),r=q(t,i);return e=r.registrationPromise,r.installationEntry});return""===n.fid?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}})).apply(this,arguments)}function j(t){return Z(t||{fid:S(),registrationStatus:0})}function q(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(u.create("app-offline"))};const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:n,registrationPromise:function(t,e){return z.apply(this,arguments)}(t,n)}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:H(t)}:{installationEntry:e}}function z(){return(z=(0,i.Z)(function*(t,e){try{return P(t,yield b(t,e))}catch(n){throw h(n)&&409===n.customData.serverCode?yield F(t):yield P(t,{fid:e.fid,registrationStatus:0}),n}})).apply(this,arguments)}function H(t){return G.apply(this,arguments)}function G(){return(G=(0,i.Z)(function*(t){let e=yield $(t);for(;1===e.registrationStatus;)yield C(100),e=yield $(t);if(0===e.registrationStatus){const{installationEntry:e,registrationPromise:n}=yield V(t);return n||e}return e})).apply(this,arguments)}function $(t){return M(t,t=>{if(!t)throw u.create("installation-not-found");return Z(t)})}function Z(t){return 1===(e=t).registrationStatus&&e.registrationTime+1e4<Date.now()?{fid:t.fid,registrationStatus:0}:t;var e}function Y(t,e){return W.apply(this,arguments)}function W(){return(W=(0,i.Z)(function*({appConfig:t,platformLoggerProvider:e},n){const i=K(t,n),r=_(t,n),s=e.getImmediate({optional:!0});s&&r.append("x-firebase-client",s.getPlatformInfoString());const o={method:"POST",headers:r,body:JSON.stringify({installation:{sdkVersion:l}})},a=yield y(()=>fetch(i,o));if(a.ok)return p(yield a.json());throw yield f("Generate Auth Token",a)})).apply(this,arguments)}function K(t,{fid:e}){return`${d(t)}/${e}/authTokens:generate`}function Q(t){return J.apply(this,arguments)}function J(){return(J=(0,i.Z)(function*(t,e=!1){let n;const i=yield M(t.appConfig,i=>{if(!rt(i))throw u.create("not-registered");const r=i.authToken;if(!e&&st(r))return i;if(1===r.requestStatus)return n=X(t,e),i;{if(!navigator.onLine)throw u.create("app-offline");const e=ot(i);return n=nt(t,e),e}});return n?yield n:i.authToken})).apply(this,arguments)}function X(t,e){return tt.apply(this,arguments)}function tt(){return(tt=(0,i.Z)(function*(t,e){let n=yield et(t.appConfig);for(;1===n.authToken.requestStatus;)yield C(100),n=yield et(t.appConfig);const i=n.authToken;return 0===i.requestStatus?Q(t,e):i})).apply(this,arguments)}function et(t){return M(t,t=>{if(!rt(t))throw u.create("not-registered");return 1===(e=t.authToken).requestStatus&&e.requestTime+1e4<Date.now()?Object.assign(Object.assign({},t),{authToken:{requestStatus:0}}):t;var e})}function nt(t,e){return it.apply(this,arguments)}function it(){return(it=(0,i.Z)(function*(t,e){try{const n=yield Y(t,e),i=Object.assign(Object.assign({},e),{authToken:n});return yield P(t.appConfig,i),n}catch(n){if(!h(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const n=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield P(t.appConfig,n)}else yield F(t.appConfig);throw n}})).apply(this,arguments)}function rt(t){return void 0!==t&&2===t.registrationStatus}function st(t){return 2===t.requestStatus&&!function(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+36e5}(t)}function ot(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function at(){return(at=(0,i.Z)(function*(t){const e=t,{installationEntry:n,registrationPromise:i}=yield V(e.appConfig);return i?i.catch(console.error):Q(e).catch(console.error),n.fid})).apply(this,arguments)}function lt(){return(lt=(0,i.Z)(function*(t,e=!1){const n=t;return yield ct(n.appConfig),(yield Q(n,e)).token})).apply(this,arguments)}function ct(t){return ut.apply(this,arguments)}function ut(){return(ut=(0,i.Z)(function*(t){const{registrationPromise:e}=yield V(t);e&&(yield e)})).apply(this,arguments)}function ht(t){return u.create("missing-app-config-values",{valueName:t})}const dt="installations";(0,r._registerComponent)(new s.wA(dt,t=>{const e=t.getProvider("app").getImmediate();return{app:e,appConfig:function(t){if(!t||!t.options)throw ht("App Configuration");if(!t.name)throw ht("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw ht(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e),platformLoggerProvider:(0,r._getProvider)(e,"platform-logger"),_delete:()=>Promise.resolve()}},"PUBLIC")),(0,r._registerComponent)(new s.wA("installations-internal",t=>{const e=t.getProvider("app").getImmediate(),n=(0,r._getProvider)(e,dt).getImmediate();return{getId:()=>function(t){return at.apply(this,arguments)}(n),getToken:t=>function(t){return lt.apply(this,arguments)}(n,t)}},"PRIVATE")),(0,r.registerVersion)("@firebase/installations","0.5.0")},308:(t,e,n)=>{"use strict";function i(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=Array(t),r=0;for(e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,r++)i[r]=s[o];return i}var r;n.d(e,{in:()=>o,Yd:()=>h,Ub:()=>d,Am:()=>p});var s=[],o=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),a={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},l=o.INFO,c=((r={})[o.DEBUG]="log",r[o.VERBOSE]="log",r[o.INFO]="info",r[o.WARN]="warn",r[o.ERROR]="error",r),u=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(e<t.logLevel)){var s=(new Date).toISOString(),o=c[e];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[o].apply(console,i(["["+s+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=l,this._logHandler=u,this._userLogHandler=null,s.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in o))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,i([this,o.DEBUG],t)),this._logHandler.apply(this,i([this,o.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,i([this,o.VERBOSE],t)),this._logHandler.apply(this,i([this,o.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,i([this,o.INFO],t)),this._logHandler.apply(this,i([this,o.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,i([this,o.WARN],t)),this._logHandler.apply(this,i([this,o.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,i([this,o.ERROR],t)),this._logHandler.apply(this,i([this,o.ERROR],t))},t}();function d(t){s.forEach(function(e){e.setLogLevel(t)})}function p(t,e){for(var n=function(n){var i=null;e&&e.level&&(i=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var r=[],s=2;s<arguments.length;s++)r[s-2]=arguments[s];var a=r.map(function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}}).filter(function(t){return t}).join(" ");n>=(null!=i?i:e.logLevel)&&t({level:o[n].toLowerCase(),message:a,args:r,type:e.name})}},i=0,r=s;i<r.length;i++)n(r[i])}},2393:(t,e,n)=>{"use strict";n.d(e,{pQ:()=>bt,LP:()=>yt,Gb:()=>gt,ps:()=>wt});var i=n(6304),r=(n(9535),n(5119)),s=n(2087),o=n(250),a=n(7092);const l="/firebase-messaging-sw.js",c="/firebase-cloud-messaging-push-scope",u="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4";var h=function(t){return t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked",t}({});function d(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function p(t){const e=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(e),i=new Uint8Array(n.length);for(let r=0;r<n.length;++r)i[r]=n.charCodeAt(r);return i}const f="fcm_token_details_db",m="fcm_token_object_Store";function g(t){return _.apply(this,arguments)}function _(){return(_=(0,i.Z)(function*(t){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(t=>t.name).includes(f))return null;let e=null;return(yield(0,s.openDb)(f,5,function(){var n=(0,i.Z)(function*(n){var i;if(n.oldVersion<2)return;if(!n.objectStoreNames.contains(m))return;const r=n.transaction.objectStore(m),s=yield r.index("fcmSenderId").get(t);if(yield r.clear(),s)if(2===n.oldVersion){const t=s;if(!t.auth||!t.p256dh||!t.endpoint)return;e={token:t.fcmToken,createTime:null!==(i=t.createTime)&&void 0!==i?i:Date.now(),subscriptionOptions:{auth:t.auth,p256dh:t.p256dh,endpoint:t.endpoint,swScope:t.swScope,vapidKey:"string"==typeof t.vapidKey?t.vapidKey:d(t.vapidKey)}}}else if(3===n.oldVersion){const t=s;e={token:t.fcmToken,createTime:t.createTime,subscriptionOptions:{auth:d(t.auth),p256dh:d(t.p256dh),endpoint:t.endpoint,swScope:t.swScope,vapidKey:d(t.vapidKey)}}}else if(4===n.oldVersion){const t=s;e={token:t.fcmToken,createTime:t.createTime,subscriptionOptions:{auth:d(t.auth),p256dh:d(t.p256dh),endpoint:t.endpoint,swScope:t.swScope,vapidKey:d(t.vapidKey)}}}});return function(t){return n.apply(this,arguments)}}())).close(),yield(0,s.deleteDb)(f),yield(0,s.deleteDb)("fcm_vapid_details_db"),yield(0,s.deleteDb)("undefined"),y(e)?e:null})).apply(this,arguments)}function y(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}const v="firebase-messaging-store";let b=null;function w(){return b||(b=(0,s.openDb)("firebase-messaging-database",1,t=>{switch(t.oldVersion){case 0:t.createObjectStore(v)}})),b}function C(t){return E.apply(this,arguments)}function E(){return(E=(0,i.Z)(function*(t){const e=I(t),n=yield w(),i=yield n.transaction(v).objectStore(v).get(e);if(i)return i;{const e=yield g(t.appConfig.senderId);if(e)return yield S(t,e),e}})).apply(this,arguments)}function S(t,e){return x.apply(this,arguments)}function x(){return(x=(0,i.Z)(function*(t,e){const n=I(t),i=(yield w()).transaction(v,"readwrite");return yield i.objectStore(v).put(e,n),yield i.complete,e})).apply(this,arguments)}function k(t){return T.apply(this,arguments)}function T(){return(T=(0,i.Z)(function*(t){const e=I(t),n=(yield w()).transaction(v,"readwrite");yield n.objectStore(v).delete(e),yield n.complete})).apply(this,arguments)}function I({appConfig:t}){return t.appId}const A=new o.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function D(t,e){return R.apply(this,arguments)}function R(){return(R=(0,i.Z)(function*(t,e){const n=yield M(t),i=V(e),r={method:"POST",headers:n,body:JSON.stringify(i)};let s;try{const e=yield fetch(L(t.appConfig),r);s=yield e.json()}catch(o){throw A.create("token-subscribe-failed",{errorInfo:o})}if(s.error)throw A.create("token-subscribe-failed",{errorInfo:s.error.message});if(!s.token)throw A.create("token-subscribe-no-token");return s.token})).apply(this,arguments)}function O(t,e){return P.apply(this,arguments)}function P(){return(P=(0,i.Z)(function*(t,e){const n=yield M(t),i=V(e.subscriptionOptions),r={method:"PATCH",headers:n,body:JSON.stringify(i)};let s;try{const n=yield fetch(`${L(t.appConfig)}/${e.token}`,r);s=yield n.json()}catch(o){throw A.create("token-update-failed",{errorInfo:o})}if(s.error)throw A.create("token-update-failed",{errorInfo:s.error.message});if(!s.token)throw A.create("token-update-no-token");return s.token})).apply(this,arguments)}function N(t,e){return F.apply(this,arguments)}function F(){return(F=(0,i.Z)(function*(t,e){const n={method:"DELETE",headers:yield M(t)};try{const i=yield fetch(`${L(t.appConfig)}/${e}`,n),r=yield i.json();if(r.error)throw A.create("token-unsubscribe-failed",{errorInfo:r.error.message})}catch(i){throw A.create("token-unsubscribe-failed",{errorInfo:i})}})).apply(this,arguments)}function L({projectId:t}){return`https://fcmregistrations.googleapis.com/v1/projects/${t}/registrations`}function M(t){return B.apply(this,arguments)}function B(){return(B=(0,i.Z)(function*({appConfig:t,installations:e}){const n=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})})).apply(this,arguments)}function V({p256dh:t,auth:e,endpoint:n,vapidKey:i}){const r={web:{endpoint:n,auth:e,p256dh:t}};return i!==u&&(r.web.applicationPubKey=i),r}const U=6048e5;function j(t){return q.apply(this,arguments)}function q(){return(q=(0,i.Z)(function*(t){const e=yield W(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:d(e.getKey("auth")),p256dh:d(e.getKey("p256dh"))},i=yield C(t.firebaseDependencies);if(i){if(Q(i.subscriptionOptions,n))return Date.now()>=i.createTime+U?G(t,{token:i.token,createTime:Date.now(),subscriptionOptions:n}):i.token;try{yield N(t.firebaseDependencies,i.token)}catch(r){console.warn(r)}return Z(t.firebaseDependencies,n)}return Z(t.firebaseDependencies,n)})).apply(this,arguments)}function z(t){return H.apply(this,arguments)}function H(){return(H=(0,i.Z)(function*(t){const e=yield C(t.firebaseDependencies);e&&(yield N(t.firebaseDependencies,e.token),yield k(t.firebaseDependencies));const n=yield t.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()})).apply(this,arguments)}function G(t,e){return $.apply(this,arguments)}function $(){return($=(0,i.Z)(function*(t,e){try{const n=yield O(t.firebaseDependencies,e),i=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return yield S(t.firebaseDependencies,i),n}catch(n){throw yield z(t),n}})).apply(this,arguments)}function Z(t,e){return Y.apply(this,arguments)}function Y(){return(Y=(0,i.Z)(function*(t,e){const n={token:yield D(t,e),createTime:Date.now(),subscriptionOptions:e};return yield S(t,n),n.token})).apply(this,arguments)}function W(t,e){return K.apply(this,arguments)}function K(){return(K=(0,i.Z)(function*(t,e){return(yield t.pushManager.getSubscription())||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:p(e)})})).apply(this,arguments)}function Q(t,e){return e.vapidKey===t.vapidKey&&e.endpoint===t.endpoint&&e.auth===t.auth&&e.p256dh===t.p256dh}function J(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcm_message_id};return function(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const i=e.notification.body;i&&(t.notification.body=i);const r=e.notification.image;r&&(t.notification.image=r)}(e,t),function(t,e){e.data&&(t.data=e.data)}(e,t),function(t,e){if(!e.fcmOptions)return;t.fcmOptions={};const n=e.fcmOptions.link;n&&(t.fcmOptions.link=n);const i=e.fcmOptions.analytics_label;i&&(t.fcmOptions.analyticsLabel=i)}(e,t),e}function X(t){return"object"==typeof t&&!!t&&"google.c.a.c_id"in t}function tt(t,e){const n=[];for(let i=0;i<t.length;i++)n.push(t.charAt(i)),i<e.length&&n.push(e.charAt(i));return n.join("")}function et(t){return A.create("missing-app-config-values",{valueName:t})}tt("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),tt("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class nt{constructor(t,e,n){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function(t){if(!t||!t.options)throw et("App Configuration Object");if(!t.name)throw et("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const i of e)if(!n[i])throw et(i);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(t);this.firebaseDependencies={app:t,appConfig:i,installations:e,analyticsProvider:n}}_delete(){return Promise.resolve()}}function it(t){return rt.apply(this,arguments)}function rt(){return(rt=(0,i.Z)(function*(t){try{t.swRegistration=yield navigator.serviceWorker.register(l,{scope:c}),t.swRegistration.update().catch(()=>{})}catch(e){throw A.create("failed-service-worker-registration",{browserErrorMessage:e.message})}})).apply(this,arguments)}function st(t,e){return ot.apply(this,arguments)}function ot(){return(ot=(0,i.Z)(function*(t,e){if(e||t.swRegistration||(yield it(t)),e||!t.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw A.create("invalid-sw-registration");t.swRegistration=e}})).apply(this,arguments)}function at(t,e){return lt.apply(this,arguments)}function lt(){return(lt=(0,i.Z)(function*(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=u)})).apply(this,arguments)}function ct(t,e){return ut.apply(this,arguments)}function ut(){return(ut=(0,i.Z)(function*(t,e){if(!navigator)throw A.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw A.create("permission-blocked");return yield at(t,null==e?void 0:e.vapidKey),yield st(t,null==e?void 0:e.serviceWorkerRegistration),j(t)})).apply(this,arguments)}function ht(t,e,n){return dt.apply(this,arguments)}function dt(){return(dt=(0,i.Z)(function*(t,e,n){const i=pt(e);(yield t.firebaseDependencies.analyticsProvider.get()).logEvent(i,{message_id:n["google.c.a.c_id"],message_name:n["google.c.a.c_l"],message_time:n["google.c.a.ts"],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function pt(t){switch(t){case h.NOTIFICATION_CLICKED:return"notification_open";case h.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function ft(){return(ft=(0,i.Z)(function*(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===h.PUSH_RECEIVED&&("function"==typeof t.onMessageHandler?t.onMessageHandler(J(n)):t.onMessageHandler.next(J(n)));const i=n.data;X(i)&&"1"===i["google.c.a.e"]&&(yield ht(t,n.messageType,i))})).apply(this,arguments)}function mt(){return(mt=(0,i.Z)(function*(t){if(!navigator)throw A.create("only-available-in-window");return t.swRegistration||(yield it(t)),z(t)})).apply(this,arguments)}function gt(){return _t.apply(this,arguments)}function _t(){return(_t=(0,i.Z)(function*(){return(yield(0,o.eu)())&&"indexedDB"in window&&null!==indexedDB&&navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}function yt(t,e){return vt.apply(this,arguments)}function vt(){return(vt=(0,i.Z)(function*(t,e){return ct(t=(0,o.m9)(t),e)})).apply(this,arguments)}function bt(t){return function(t){return mt.apply(this,arguments)}(t=(0,o.m9)(t))}function wt(t,e){return function(t,e){if(!navigator)throw A.create("only-available-in-window");return t.onMessageHandler=e,()=>{t.onMessageHandler=null}}(t=(0,o.m9)(t),e)}(0,a._registerComponent)(new r.wA("messaging",t=>{const e=new nt(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",t=>function(t,e){return ft.apply(this,arguments)}(e,t)),e},"PUBLIC")),(0,a._registerComponent)(new r.wA("messaging-internal",t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:t=>ct(e,t)}},"PRIVATE"))},250:(t,e,n)=>{"use strict";n.d(e,{BH:()=>p,LL:()=>A,ZR:()=>I,gQ:()=>$,hu:()=>r,g5:()=>s,US:()=>a,tV:()=>u,h$:()=>l,r3:()=>M,Sg:()=>f,ne:()=>Z,p$:()=>h,vZ:()=>j,ZB:()=>d,gK:()=>Q,pd:()=>G,m9:()=>nt,z$:()=>m,GJ:()=>L,jU:()=>y,ru:()=>v,d:()=>w,xb:()=>V,w1:()=>C,hl:()=>k,uI:()=>g,UG:()=>_,Yr:()=>S,b$:()=>b,G6:()=>x,Mn:()=>E,w9:()=>F,cI:()=>O,UI:()=>U,xO:()=>z,zd:()=>H,DV:()=>B,ug:()=>et,dS:()=>tt,Pz:()=>P,Dv:()=>K,Wj:()=>J,lb:()=>X,eu:()=>T});var i=n(4762),r=function(t,e){if(!t)throw s(e)},s=function(t){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+t)},o=function(t){for(var e=[],n=0,i=0;i<t.length;i++){var r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=63&r|128):55296==(64512&r)&&i+1<t.length&&56320==(64512&t.charCodeAt(i+1))?(r=65536+((1023&r)<<10)+(1023&t.charCodeAt(++i)),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=63&r|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=63&r|128)}return e},a={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[],r=0;r<t.length;r+=3){var s=t[r],o=r+1<t.length,a=o?t[r+1]:0,l=r+2<t.length,c=l?t[r+2]:0,u=(15&a)<<2|c>>6,h=63&c;l||(h=64,o||(u=64)),i.push(n[s>>2],n[(3&s)<<4|a>>4],n[u],n[h])}return i.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(o(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,i=0;n<t.length;){var r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){var s=t[n++];e[i++]=String.fromCharCode((31&r)<<6|63&s)}else if(r>239&&r<365){var o=((7&r)<<18|(63&(s=t[n++]))<<12|(63&(a=t[n++]))<<6|63&t[n++])-65536;e[i++]=String.fromCharCode(55296+(o>>10)),e[i++]=String.fromCharCode(56320+(1023&o))}else{s=t[n++];var a=t[n++];e[i++]=String.fromCharCode((15&r)<<12|(63&s)<<6|63&a)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[],r=0;r<t.length;){var s=n[t.charAt(r++)],o=r<t.length?n[t.charAt(r)]:0,a=++r<t.length?n[t.charAt(r)]:64,l=++r<t.length?n[t.charAt(r)]:64;if(++r,null==s||null==o||null==a||null==l)throw Error();i.push(s<<2|o>>4),64!==a&&(i.push(o<<4&240|a>>2),64!==l&&i.push(a<<6&192|l))}return i},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},l=function(t){var e=o(t);return a.encodeByteArray(e,!0)},c=function(t){return l(t).replace(/\./g,"")},u=function(t){try{return a.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function h(t){return d(void 0,t)}function d(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=d(t[n],e[n]));return t}var p=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,i){n?e.reject(n):e.resolve(i),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,i))}},t}();function f(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=e||"demo-project",r=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var o=(0,i.pi)({iss:"https://securetoken.google.com/"+n,aud:n,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[c(JSON.stringify({alg:"none",type:"JWT"})),c(JSON.stringify(o)),""].join(".")}function m(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function g(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(m())}function _(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function y(){return"object"==typeof self&&self.self===self}function v(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function b(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function w(){return m().indexOf("Electron/")>=0}function C(){var t=m();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function E(){return m().indexOf("MSAppHost/")>=0}function S(){return!1}function x(){return!_()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function k(){return"indexedDB"in self&&null!=indexedDB}function T(){return new Promise(function(t,e){try{var n=!0,i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=function(){r.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},r.onupgradeneeded=function(){n=!1},r.onerror=function(){var t;e((null===(t=r.error)||void 0===t?void 0:t.message)||"")}}catch(s){e(s)}})}var I=function(t){function e(n,i,r){var s=t.call(this,i)||this;return s.code=n,s.customData=r,s.name="FirebaseError",Object.setPrototypeOf(s,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(s,A.prototype.create),s}return(0,i.ZT)(e,t),e}(Error),A=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var i=e[0]||{},r=this.service+"/"+t,s=this.errors[t],o=s?D(s,i):"Error",a=this.serviceName+": "+o+" ("+r+").",l=new I(r,a,i);return l},t}();function D(t,e){return t.replace(R,function(t,n){var i=e[n];return null!=i?String(i):"<"+n+"?>"})}var R=/\{\$([^}]+)}/g;function O(t){return JSON.parse(t)}function P(t){return JSON.stringify(t)}var N=function(t){var e={},n={},i={},r="";try{var s=t.split(".");e=O(u(s[0])||""),n=O(u(s[1])||""),r=s[2],i=n.d||{},delete n.d}catch(o){}return{header:e,claims:n,data:i,signature:r}},F=function(t){var e=N(t).claims;return!!e&&"object"==typeof e&&e.hasOwnProperty("iat")},L=function(t){var e=N(t).claims;return"object"==typeof e&&!0===e.admin};function M(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function B(t,e){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0}function V(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function U(t,e,n){var i={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(i[r]=e.call(n,t[r],r,t));return i}function j(t,e){if(t===e)return!0;for(var n=Object.keys(t),i=Object.keys(e),r=0,s=n;r<s.length;r++){if(!i.includes(u=s[r]))return!1;var o=t[u],a=e[u];if(q(o)&&q(a)){if(!j(o,a))return!1}else if(o!==a)return!1}for(var l=0,c=i;l<c.length;l++){var u;if(!n.includes(u=c[l]))return!1}return!0}function q(t){return null!==t&&"object"==typeof t}function z(t){for(var e=[],n=function(t,n){Array.isArray(n)?n.forEach(function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))},i=0,r=Object.entries(t);i<r.length;i++){var s=r[i];n(s[0],s[1])}return e.length?"&"+e.join("&"):""}function H(t){var e={};return t.replace(/^\?/,"").split("&").forEach(function(t){if(t){var n=t.split("="),i=n[1];e[decodeURIComponent(n[0])]=decodeURIComponent(i)}}),e}function G(t){var e=t.indexOf("?");if(!e)return"";var n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}var $=function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var i=0;i<16;i++)n[i]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(i=0;i<16;i++)n[i]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(i=16;i<80;i++)n[i]=4294967295&((h=n[i-3]^n[i-8]^n[i-14]^n[i-16])<<1|h>>>31);var r,s,o=this.chain_[0],a=this.chain_[1],l=this.chain_[2],c=this.chain_[3],u=this.chain_[4];for(i=0;i<80;i++){i<40?i<20?(r=c^a&(l^c),s=1518500249):(r=a^l^c,s=1859775393):i<60?(r=a&l|c&(a|l),s=2400959708):(r=a^l^c,s=3395469782);var h=(o<<5|o>>>27)+r+u+s+n[i]&4294967295;u=c,c=l,l=4294967295&(a<<30|a>>>2),a=o,o=h}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+l&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+u&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,i=0,r=this.buf_,s=this.inbuf_;i<e;){if(0===s)for(;i<=n;)this.compress_(t,i),i+=this.blockSize;if("string"==typeof t){for(;i<e;)if(r[s]=t.charCodeAt(i),++i,++s===this.blockSize){this.compress_(r),s=0;break}}else for(;i<e;)if(r[s]=t[i],++i,++s===this.blockSize){this.compress_(r),s=0;break}}this.inbuf_=s,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var i=0;for(n=0;n<5;n++)for(var r=24;r>=0;r-=8)t[i]=this.chain_[n]>>r&255,++i;return t},t}();function Z(t,e){var n=new Y(t,e);return n.subscribe.bind(n)}var Y=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var i,r=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(i=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,i=["next","error","complete"];n<i.length;n++){var r=i[n];if(r in t&&"function"==typeof t[r])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(i.next=W),void 0===i.error&&(i.error=W),void 0===i.complete&&(i.complete=W);var s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{r.finalError?i.error(r.finalError):i.complete()}catch(t){}}),this.observers.push(i),s},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(i){"undefined"!=typeof console&&console.error&&console.error(i)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function W(){}var K=function(t,e,n,i){var r;if(i<e?r="at least "+e:i>n&&(r=0===n?"none":"no more than "+n),r)throw new Error(t+" failed: Was called with "+i+(1===i?" argument.":" arguments.")+" Expects "+r+".")};function Q(t,e){return t+" failed: "+e+" argument "}function J(t,e,n,i){if((!i||n)&&"function"!=typeof n)throw new Error(Q(t,e)+"must be a valid function.")}function X(t,e,n,i){if((!i||n)&&("object"!=typeof n||null===n))throw new Error(Q(t,e)+"must be a valid context object.")}var tt=function(t){for(var e=[],n=0,i=0;i<t.length;i++){var s=t.charCodeAt(i);if(s>=55296&&s<=56319){var o=s-55296;i++,r(i<t.length,"Surrogate pair missing trail surrogate."),s=65536+(o<<10)+(t.charCodeAt(i)-56320)}s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=63&s|128):s<65536?(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=63&s|128):(e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=63&s|128)}return e},et=function(t){for(var e=0,n=0;n<t.length;n++){var i=t.charCodeAt(n);i<128?e++:i<2048?e+=2:i>=55296&&i<=56319?(e+=4,n++):e+=3}return e};function nt(t){return t&&t._delegate?t._delegate:t}},649:(t,e,n)=>{"use strict";n.d(e,{Zw:()=>f,aw:()=>P,X$:()=>O,sK:()=>R});var i=n(5366),r=n(878),s=n(4710),o=n(3148),a=n(7930),l=n(1450),c=n(611),u=n(5096),h=n(9996),d=n(436),p=n(4689);class f{}let m=(()=>{class t extends f{getTranslation(t){return(0,r.of)({})}}return t.\u0275fac=function(){let e;return function(n){return(e||(e=i.n5z(t)))(n||t)}}(),t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})();class g{}let _=(()=>{class t{handle(t){return t.key}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})();function y(t,e){if(t===e)return!0;if(null===t||null===e)return!1;if(t!=t&&e!=e)return!0;let n,i,r,s=typeof t;if(s==typeof e&&"object"==s){if(!Array.isArray(t)){if(Array.isArray(e))return!1;for(i in r=Object.create(null),t){if(!y(t[i],e[i]))return!1;r[i]=!0}for(i in e)if(!(i in r)&&void 0!==e[i])return!1;return!0}if(!Array.isArray(e))return!1;if((n=t.length)==e.length){for(i=0;i<n;i++)if(!y(t[i],e[i]))return!1;return!0}}return!1}function v(t){return null!=t}function b(t){return t&&"object"==typeof t&&!Array.isArray(t)}function w(t,e){let n=Object.assign({},t);return b(t)&&b(e)&&Object.keys(e).forEach(i=>{b(e[i])?i in t?n[i]=w(t[i],e[i]):Object.assign(n,{[i]:e[i]}):Object.assign(n,{[i]:e[i]})}),n}class C{}let E=(()=>{class t extends C{constructor(){super(...arguments),this.templateMatcher=/{{\s?([^{}\s]*)\s?}}/g}interpolate(t,e){let n;return n="string"==typeof t?this.interpolateString(t,e):"function"==typeof t?this.interpolateFunction(t,e):t,n}getValue(t,e){let n="string"==typeof e?e.split("."):[e];e="";do{e+=n.shift(),!v(t)||!v(t[e])||"object"!=typeof t[e]&&n.length?n.length?e+=".":t=void 0:(t=t[e],e="")}while(n.length);return t}interpolateFunction(t,e){return t(e)}interpolateString(t,e){return e?t.replace(this.templateMatcher,(t,n)=>{let i=this.getValue(e,n);return v(i)?i:t}):t}}return t.\u0275fac=function(){let e;return function(n){return(e||(e=i.n5z(t)))(n||t)}}(),t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})();class S{}let x=(()=>{class t extends S{compile(t,e){return t}compileTranslations(t,e){return t}}return t.\u0275fac=function(){let e;return function(n){return(e||(e=i.n5z(t)))(n||t)}}(),t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})();class k{constructor(){this.currentLang=this.defaultLang,this.translations={},this.langs=[],this.onTranslationChange=new i.vpe,this.onLangChange=new i.vpe,this.onDefaultLangChange=new i.vpe}}const T=new i.OlP("USE_STORE"),I=new i.OlP("USE_DEFAULT_LANG"),A=new i.OlP("DEFAULT_LANGUAGE"),D=new i.OlP("USE_EXTEND");let R=(()=>{class t{constructor(t,e,n,r,s,o=!0,a=!1,l=!1,c){this.store=t,this.currentLoader=e,this.compiler=n,this.parser=r,this.missingTranslationHandler=s,this.useDefaultLang=o,this.isolate=a,this.extend=l,this.pending=!1,this._onTranslationChange=new i.vpe,this._onLangChange=new i.vpe,this._onDefaultLangChange=new i.vpe,this._langs=[],this._translations={},this._translationRequests={},c&&this.setDefaultLang(c)}get onTranslationChange(){return this.isolate?this._onTranslationChange:this.store.onTranslationChange}get onLangChange(){return this.isolate?this._onLangChange:this.store.onLangChange}get onDefaultLangChange(){return this.isolate?this._onDefaultLangChange:this.store.onDefaultLangChange}get defaultLang(){return this.isolate?this._defaultLang:this.store.defaultLang}set defaultLang(t){this.isolate?this._defaultLang=t:this.store.defaultLang=t}get currentLang(){return this.isolate?this._currentLang:this.store.currentLang}set currentLang(t){this.isolate?this._currentLang=t:this.store.currentLang=t}get langs(){return this.isolate?this._langs:this.store.langs}set langs(t){this.isolate?this._langs=t:this.store.langs=t}get translations(){return this.isolate?this._translations:this.store.translations}set translations(t){this.isolate?this._translations=t:this.store.translations=t}setDefaultLang(t){if(t===this.defaultLang)return;let e=this.retrieveTranslations(t);void 0!==e?(null==this.defaultLang&&(this.defaultLang=t),e.pipe((0,c.q)(1)).subscribe(e=>{this.changeDefaultLang(t)})):this.changeDefaultLang(t)}getDefaultLang(){return this.defaultLang}use(t){if(t===this.currentLang)return(0,r.of)(this.translations[t]);let e=this.retrieveTranslations(t);return void 0!==e?(this.currentLang||(this.currentLang=t),e.pipe((0,c.q)(1)).subscribe(e=>{this.changeLang(t)}),e):(this.changeLang(t),(0,r.of)(this.translations[t]))}retrieveTranslations(t){let e;return(void 0===this.translations[t]||this.extend)&&(this._translationRequests[t]=this._translationRequests[t]||this.getTranslation(t),e=this._translationRequests[t]),e}getTranslation(t){this.pending=!0;const e=this.currentLoader.getTranslation(t).pipe((0,u.d)(1),(0,c.q)(1));return this.loadingTranslations=e.pipe((0,h.U)(e=>this.compiler.compileTranslations(e,t)),(0,u.d)(1),(0,c.q)(1)),this.loadingTranslations.subscribe({next:e=>{this.translations[t]=this.extend&&this.translations[t]?Object.assign(Object.assign({},e),this.translations[t]):e,this.updateLangs(),this.pending=!1},error:t=>{this.pending=!1}}),e}setTranslation(t,e,n=!1){e=this.compiler.compileTranslations(e,t),this.translations[t]=(n||this.extend)&&this.translations[t]?w(this.translations[t],e):e,this.updateLangs(),this.onTranslationChange.emit({lang:t,translations:this.translations[t]})}getLangs(){return this.langs}addLangs(t){t.forEach(t=>{-1===this.langs.indexOf(t)&&this.langs.push(t)})}updateLangs(){this.addLangs(Object.keys(this.translations))}getParsedResult(t,e,n){let i;if(e instanceof Array){let i={},a=!1;for(let r of e)i[r]=this.getParsedResult(t,r,n),(0,s.b)(i[r])&&(a=!0);if(a){const t=e.map(t=>(0,s.b)(i[t])?i[t]:(0,r.of)(i[t]));return(0,o.D)(t).pipe((0,h.U)(t=>{let n={};return t.forEach((t,i)=>{n[e[i]]=t}),n}))}return i}if(t&&(i=this.parser.interpolate(this.parser.getValue(t,e),n)),void 0===i&&null!=this.defaultLang&&this.defaultLang!==this.currentLang&&this.useDefaultLang&&(i=this.parser.interpolate(this.parser.getValue(this.translations[this.defaultLang],e),n)),void 0===i){let t={key:e,translateService:this};void 0!==n&&(t.interpolateParams=n),i=this.missingTranslationHandler.handle(t)}return void 0!==i?i:e}get(t,e){if(!v(t)||!t.length)throw new Error('Parameter "key" required');if(this.pending)return this.loadingTranslations.pipe((0,d.b)(n=>(n=this.getParsedResult(n,t,e),(0,s.b)(n)?n:(0,r.of)(n))));{let n=this.getParsedResult(this.translations[this.currentLang],t,e);return(0,s.b)(n)?n:(0,r.of)(n)}}getStreamOnTranslationChange(t,e){if(!v(t)||!t.length)throw new Error('Parameter "key" required');return(0,a.z)((0,l.P)(()=>this.get(t,e)),this.onTranslationChange.pipe((0,p.w)(n=>{const i=this.getParsedResult(n.translations,t,e);return"function"==typeof i.subscribe?i:(0,r.of)(i)})))}stream(t,e){if(!v(t)||!t.length)throw new Error('Parameter "key" required');return(0,a.z)((0,l.P)(()=>this.get(t,e)),this.onLangChange.pipe((0,p.w)(n=>{const i=this.getParsedResult(n.translations,t,e);return(0,s.b)(i)?i:(0,r.of)(i)})))}instant(t,e){if(!v(t)||!t.length)throw new Error('Parameter "key" required');let n=this.getParsedResult(this.translations[this.currentLang],t,e);if((0,s.b)(n)){if(t instanceof Array){let e={};return t.forEach((n,i)=>{e[t[i]]=t[i]}),e}return t}return n}set(t,e,n=this.currentLang){this.translations[n][t]=this.compiler.compile(e,n),this.updateLangs(),this.onTranslationChange.emit({lang:n,translations:this.translations[n]})}changeLang(t){this.currentLang=t,this.onLangChange.emit({lang:t,translations:this.translations[t]}),null==this.defaultLang&&this.changeDefaultLang(t)}changeDefaultLang(t){this.defaultLang=t,this.onDefaultLangChange.emit({lang:t,translations:this.translations[t]})}reloadLang(t){return this.resetLang(t),this.getTranslation(t)}resetLang(t){this._translationRequests[t]=void 0,this.translations[t]=void 0}getBrowserLang(){if("undefined"==typeof window||void 0===window.navigator)return;let t=window.navigator.languages?window.navigator.languages[0]:null;return t=t||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,void 0!==t?(-1!==t.indexOf("-")&&(t=t.split("-")[0]),-1!==t.indexOf("_")&&(t=t.split("_")[0]),t):void 0}getBrowserCultureLang(){if("undefined"==typeof window||void 0===window.navigator)return;let t=window.navigator.languages?window.navigator.languages[0]:null;return t=t||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,t}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(k),i.LFG(f),i.LFG(S),i.LFG(C),i.LFG(g),i.LFG(I),i.LFG(T),i.LFG(D),i.LFG(A))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})(),O=(()=>{class t{constructor(t,e){this.translate=t,this._ref=e,this.value=""}updateValue(t,e,n){let i=e=>{this.value=void 0!==e?e:t,this.lastKey=t,this._ref.markForCheck()};if(n){let r=this.translate.getParsedResult(n,t,e);(0,s.b)(r.subscribe)?r.subscribe(i):i(r)}this.translate.get(t,e).subscribe(i)}transform(t,...e){if(!t||!t.length)return t;if(y(t,this.lastKey)&&y(e,this.lastParams))return this.value;let n;if(v(e[0])&&e.length)if("string"==typeof e[0]&&e[0].length){let t=e[0].replace(/(\')?([a-zA-Z0-9_]+)(\')?(\s)?:/g,'"$2":').replace(/:(\s)?(\')(.*?)(\')/g,':"$3"');try{n=JSON.parse(t)}catch(i){throw new SyntaxError(`Wrong parameter in TranslatePipe. Expected a valid Object, received: ${e[0]}`)}}else"object"!=typeof e[0]||Array.isArray(e[0])||(n=e[0]);return this.lastKey=t,this.lastParams=e,this.updateValue(t,n),this._dispose(),this.onTranslationChange||(this.onTranslationChange=this.translate.onTranslationChange.subscribe(e=>{this.lastKey&&e.lang===this.translate.currentLang&&(this.lastKey=null,this.updateValue(t,n,e.translations))})),this.onLangChange||(this.onLangChange=this.translate.onLangChange.subscribe(e=>{this.lastKey&&(this.lastKey=null,this.updateValue(t,n,e.translations))})),this.onDefaultLangChange||(this.onDefaultLangChange=this.translate.onDefaultLangChange.subscribe(()=>{this.lastKey&&(this.lastKey=null,this.updateValue(t,n))})),this.value}_dispose(){void 0!==this.onTranslationChange&&(this.onTranslationChange.unsubscribe(),this.onTranslationChange=void 0),void 0!==this.onLangChange&&(this.onLangChange.unsubscribe(),this.onLangChange=void 0),void 0!==this.onDefaultLangChange&&(this.onDefaultLangChange.unsubscribe(),this.onDefaultLangChange=void 0)}ngOnDestroy(){this._dispose()}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(R,16),i.Y36(i.sBO,16))},t.\u0275pipe=i.Yjl({name:"translate",type:t,pure:!1}),t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})(),P=(()=>{class t{static forRoot(e={}){return{ngModule:t,providers:[e.loader||{provide:f,useClass:m},e.compiler||{provide:S,useClass:x},e.parser||{provide:C,useClass:E},e.missingTranslationHandler||{provide:g,useClass:_},k,{provide:T,useValue:e.isolate},{provide:I,useValue:e.useDefaultLang},{provide:D,useValue:e.extend},{provide:A,useValue:e.defaultLanguage},R]}}static forChild(e={}){return{ngModule:t,providers:[e.loader||{provide:f,useClass:m},e.compiler||{provide:S,useClass:x},e.parser||{provide:C,useClass:E},e.missingTranslationHandler||{provide:g,useClass:_},{provide:T,useValue:e.isolate},{provide:I,useValue:e.useDefaultLang},{provide:D,useValue:e.extend},{provide:A,useValue:e.defaultLanguage},R]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({}),t})()},9001:(t,e,n)=>{"use strict";n.d(e,{Z:()=>i.Z});var i=n(1932);i.Z.registerVersion("firebase","9.0.2","app-compat")},6702:(t,e,n)=>{"use strict";n.r(e);var i=n(6304),r=n(1932),s=n(250),o=n(7092),a=n(4762),l=n(308),c=n(5119);const u=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},h=new s.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),d=new l.Yd("@firebase/auth");function p(t,...e){d.logLevel<=l.in.ERROR&&d.error(`Auth (${o.SDK_VERSION}): ${t}`,...e)}function f(t,...e){throw y(t,...e)}function m(t,...e){return y(t,...e)}function g(t,e,n){const i=Object.assign(Object.assign({},{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),{[e]:n});return new s.LL("auth","Firebase",i).create(e,{appName:t.name})}function _(t,e,n){if(!(e instanceof n))throw n.name!==e.constructor.name&&f(t,"argument-error"),g(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function y(t,...e){if("string"!=typeof t){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return h.create(t,...e)}function v(t,e,...n){if(!t)throw y(e,...n)}function b(t){const e="INTERNAL ASSERTION FAILED: "+t;throw p(e),new Error(e)}function w(t,e){t||b(e)}const C=new Map;function E(t){w(t instanceof Function,"Expected a class definition");let e=C.get(t);return e?(w(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,C.set(t,e),e)}function S(){var t;return"undefined"!=typeof self&&(null===(t=self.location)||void 0===t?void 0:t.href)||""}function x(){return"http:"===k()||"https:"===k()}function k(){var t;return"undefined"!=typeof self&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class T{constructor(t,e){this.shortDelay=t,this.longDelay=e,w(e>t,"Short delay should be less than long delay!"),this.isMobile=(0,s.uI)()||(0,s.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(x()||(0,s.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function I(t,e){w(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class A{static initialize(t,e,n){this.fetchImpl=t,e&&(this.headersImpl=e),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void b("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void b("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void b("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const D={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},R=new T(3e4,6e4);function O(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function P(t,e,n,i){return N.apply(this,arguments)}function N(){return(N=(0,i.Z)(function*(t,e,n,i,r={}){return F(t,r,()=>{let r={},o={};i&&("GET"===e?o=i:r={body:JSON.stringify(i)});const a=(0,s.xO)(Object.assign({key:t.config.apiKey},o)).slice(1),l=new(A.headers());return l.set("Content-Type","application/json"),l.set("X-Client-Version",t._getSdkClientVersion()),t.languageCode&&l.set("X-Firebase-Locale",t.languageCode),A.fetch()(V(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},r))})})).apply(this,arguments)}function F(t,e,n){return L.apply(this,arguments)}function L(){return(L=(0,i.Z)(function*(t,e,n){t._canInitEmulator=!1;const i=Object.assign(Object.assign({},D),e);try{const e=new U(t),r=yield Promise.race([n(),e.promise]);e.clearNetworkTimeout();const s=yield r.json();if("needConfirmation"in s)throw j(t,"account-exists-with-different-credential",s);if(r.ok&&!("errorMessage"in s))return s;{const e=r.ok?s.errorMessage:s.error.message,[n,o]=e.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw j(t,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw j(t,"email-already-in-use",s);const a=i[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(o)throw g(t,a,o);f(t,a)}}catch(r){if(r instanceof s.ZR)throw r;f(t,"network-request-failed")}})).apply(this,arguments)}function M(t,e,n,i){return B.apply(this,arguments)}function B(){return(B=(0,i.Z)(function*(t,e,n,i,r={}){const s=yield P(t,e,n,i,r);return"mfaPendingCredential"in s&&f(t,"multi-factor-auth-required",{serverResponse:s}),s})).apply(this,arguments)}function V(t,e,n,i){const r=`${e}${n}?${i}`;return t.config.emulator?I(t.config,r):`${t.config.apiScheme}://${r}`}class U{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((t,e)=>{this.timer=setTimeout(()=>e(m(this.auth,"timeout")),R.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function j(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const r=m(t,e,i);return r.customData._tokenResponse=n,r}function q(){return(q=(0,i.Z)(function*(t,e){return P(t,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function z(t,e){return H.apply(this,arguments)}function H(){return(H=(0,i.Z)(function*(t,e){return P(t,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function G(t,e){return $.apply(this,arguments)}function $(){return($=(0,i.Z)(function*(t,e){return P(t,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function Z(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch(e){}}function Y(){return(Y=(0,i.Z)(function*(t,e=!1){const n=(0,s.m9)(t),i=yield n.getIdToken(e),r=K(i);v(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const o="object"==typeof r.firebase?r.firebase:void 0,a=null==o?void 0:o.sign_in_provider;return{claims:r,token:i,authTime:Z(W(r.auth_time)),issuedAtTime:Z(W(r.iat)),expirationTime:Z(W(r.exp)),signInProvider:a||null,signInSecondFactor:(null==o?void 0:o.sign_in_second_factor)||null}})).apply(this,arguments)}function W(t){return 1e3*Number(t)}function K(t){const[e,n,i]=t.split(".");if(void 0===e||void 0===n||void 0===i)return p("JWT malformed, contained fewer than 3 sections"),null;try{const t=(0,s.tV)(n);return t?JSON.parse(t):(p("Failed to decode base64 JWT payload"),null)}catch(r){return p("Caught error parsing JWT payload as JSON",r),null}}function Q(t,e){return J.apply(this,arguments)}function J(){return(J=(0,i.Z)(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(i){throw i instanceof s.ZR&&X(i)&&t.auth.currentUser===t&&(yield t.auth.signOut()),i}})).apply(this,arguments)}function X({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}class tt{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(t){var e;if(t){const t=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),t}{this.errorBackoff=3e4;const t=(null!==(e=this.user.stsTokenManager.expirationTime)&&void 0!==e?e:0)-Date.now()-3e5;return Math.max(0,t)}}schedule(t=!1){var e=this;if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout((0,i.Z)(function*(){yield e.iteration()}),n)}iteration(){var t=this;return(0,i.Z)(function*(){try{yield t.user.getIdToken(!0)}catch(e){return void("auth/network-request-failed"===e.code&&t.schedule(!0))}t.schedule()})()}}class et{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=Z(this.lastLoginAt),this.creationTime=Z(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function nt(t){return it.apply(this,arguments)}function it(){return(it=(0,i.Z)(function*(t){var e;const n=t.auth,i=yield t.getIdToken(),r=yield Q(t,G(n,{idToken:i}));v(null==r?void 0:r.users.length,n,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const o=(null===(e=s.providerUserInfo)||void 0===e?void 0:e.length)?ot(s.providerUserInfo):[],a=st(t.providerData,o),l=!!t.isAnonymous&&!(t.email&&s.passwordHash||(null==a?void 0:a.length)),c={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new et(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(t,c)})).apply(this,arguments)}function rt(){return(rt=(0,i.Z)(function*(t){const e=(0,s.m9)(t);yield nt(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function st(t,e){return[...t.filter(t=>!e.some(e=>e.providerId===t.providerId)),...e]}function ot(t){return t.map(t=>{var{providerId:e}=t,n=(0,a._T)(t,["providerId"]);return{providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}function at(){return(at=(0,i.Z)(function*(t,e){const n=yield F(t,{},()=>{const n=(0,s.xO)({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:r}=t.config,o=V(t,i,"/v1/token",`key=${r}`);return A.fetch()(o,{method:"POST",headers:{"X-Client-Version":t._getSdkClientVersion(),"Content-Type":"application/x-www-form-urlencoded"},body:n})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}class lt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){v(t.idToken,"internal-error"),v(void 0!==t.idToken,"internal-error"),v(void 0!==t.refreshToken,"internal-error");const e="expiresIn"in t&&void 0!==t.expiresIn?Number(t.expiresIn):function(t){const e=K(t);return v(e,"internal-error"),v(void 0!==e.exp,"internal-error"),v(void 0!==e.iat,"internal-error"),Number(e.exp)-Number(e.iat)}(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}getToken(t,e=!1){var n=this;return(0,i.Z)(function*(){return v(!n.accessToken||n.refreshToken,t,"user-token-expired"),e||!n.accessToken||n.isExpired?n.refreshToken?(yield n.refresh(t,n.refreshToken),n.accessToken):null:n.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(t,e){var n=this;return(0,i.Z)(function*(){const{accessToken:i,refreshToken:r,expiresIn:s}=yield function(t,e){return at.apply(this,arguments)}(t,e);n.updateTokensAndExpiration(i,r,Number(s))})()}updateTokensAndExpiration(t,e,n){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(t,e){const{refreshToken:n,accessToken:i,expirationTime:r}=e,s=new lt;return n&&(v("string"==typeof n,"internal-error",{appName:t}),s.refreshToken=n),i&&(v("string"==typeof i,"internal-error",{appName:t}),s.accessToken=i),r&&(v("number"==typeof r,"internal-error",{appName:t}),s.expirationTime=r),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new lt,this.toJSON())}_performRefresh(){return b("not implemented")}}function ct(t,e){v("string"==typeof t||void 0===t,"internal-error",{appName:e})}class ut{constructor(t){var{uid:e,auth:n,stsTokenManager:i}=t,r=(0,a._T)(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new tt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.metadata=new et(r.createdAt||void 0,r.lastLoginAt||void 0)}getIdToken(t){var e=this;return(0,i.Z)(function*(){const n=yield Q(e,e.stsTokenManager.getToken(e.auth,t));return v(n,e.auth,"internal-error"),e.accessToken!==n&&(e.accessToken=n,yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)),n})()}getIdTokenResult(t){return function(t){return Y.apply(this,arguments)}(this,t)}reload(){return function(t){return rt.apply(this,arguments)}(this)}_assign(t){this!==t&&(v(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(t=>Object.assign({},t)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){return new ut(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(t){v(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(t,e=!1){var n=this;return(0,i.Z)(function*(){let i=!1;t.idToken&&t.idToken!==n.stsTokenManager.accessToken&&(n.stsTokenManager.updateFromServerResponse(t),i=!0),e&&(yield nt(n)),yield n.auth._persistUserIfCurrent(n),i&&n.auth._notifyListenersIfCurrent(n)})()}delete(){var t=this;return(0,i.Z)(function*(){const e=yield t.getIdToken();return yield Q(t,function(t,e){return q.apply(this,arguments)}(t.auth,{idToken:e})),t.stsTokenManager.clearRefreshToken(),t.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){var n,i,r,s,o,a,l,c;const u=null!==(n=e.displayName)&&void 0!==n?n:void 0,h=null!==(i=e.email)&&void 0!==i?i:void 0,d=null!==(r=e.phoneNumber)&&void 0!==r?r:void 0,p=null!==(s=e.photoURL)&&void 0!==s?s:void 0,f=null!==(o=e.tenantId)&&void 0!==o?o:void 0,m=null!==(a=e._redirectEventId)&&void 0!==a?a:void 0,g=null!==(l=e.createdAt)&&void 0!==l?l:void 0,_=null!==(c=e.lastLoginAt)&&void 0!==c?c:void 0,{uid:y,emailVerified:b,isAnonymous:w,providerData:C,stsTokenManager:E}=e;v(y&&E,t,"internal-error");const S=lt.fromJSON(this.name,E);v("string"==typeof y,t,"internal-error"),ct(u,t.name),ct(h,t.name),v("boolean"==typeof b,t,"internal-error"),v("boolean"==typeof w,t,"internal-error"),ct(d,t.name),ct(p,t.name),ct(f,t.name),ct(m,t.name),ct(g,t.name),ct(_,t.name);const x=new ut({uid:y,auth:t,email:h,emailVerified:b,displayName:u,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:f,stsTokenManager:S,createdAt:g,lastLoginAt:_});return C&&Array.isArray(C)&&(x.providerData=C.map(t=>Object.assign({},t))),m&&(x._redirectEventId=m),x}static _fromIdTokenResponse(t,e,n=!1){return(0,i.Z)(function*(){const i=new lt;i.updateFromServerResponse(e);const r=new ut({uid:e.localId,auth:t,stsTokenManager:i,isAnonymous:n});return yield nt(r),r})()}}const ht=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,i.Z)(function*(){return!0})()}_set(t,e){var n=this;return(0,i.Z)(function*(){n.storage[t]=e})()}_get(t){var e=this;return(0,i.Z)(function*(){const n=e.storage[t];return void 0===n?null:n})()}_remove(t){var e=this;return(0,i.Z)(function*(){delete e.storage[t]})()}_addListener(t,e){}_removeListener(t,e){}}return t.type="NONE",t})();function dt(t,e,n){return`firebase:${t}:${e}:${n}`}class pt{constructor(t,e,n){this.persistence=t,this.auth=e,this.userKey=n;const{config:i,name:r}=this.auth;this.fullUserKey=dt(this.userKey,i.apiKey,r),this.fullPersistenceKey=dt("persistence",i.apiKey,r),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}getCurrentUser(){var t=this;return(0,i.Z)(function*(){const e=yield t.persistence._get(t.fullUserKey);return e?ut._fromJSON(t.auth,e):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(t){var e=this;return(0,i.Z)(function*(){if(e.persistence===t)return;const n=yield e.getCurrentUser();return yield e.removeCurrentUser(),e.persistence=t,n?e.setCurrentUser(n):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(t,e,n="authUser"){return(0,i.Z)(function*(){if(!e.length)return new pt(E(ht),t,n);const r=(yield Promise.all(e.map(function(){var t=(0,i.Z)(function*(t){if(yield t._isAvailable())return t});return function(e){return t.apply(this,arguments)}}()))).filter(t=>t);let s=r[0]||E(ht);const o=dt(n,t.config.apiKey,t.name);let a=null;for(const n of e)try{const e=yield n._get(o);if(e){const i=ut._fromJSON(t,e);n!==s&&(a=i),s=n;break}}catch(c){}const l=r.filter(t=>t._shouldAllowMigration);return s._shouldAllowMigration&&l.length?(s=l[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(e.map(function(){var t=(0,i.Z)(function*(t){if(t!==s)try{yield t._remove(o)}catch(c){}});return function(e){return t.apply(this,arguments)}}())),new pt(s,t,n)):new pt(s,t,n)})()}}function ft(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(yt(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(mt(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(bt(e))return"Blackberry";if(wt(e))return"Webos";if(gt(e))return"Safari";if((e.includes("chrome/")||_t(e))&&!e.includes("edge/"))return"Chrome";if(vt(e))return"Android";{const e=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==e?void 0:e.length))return e[1]}return"Other"}function mt(t=(0,s.z$)()){return/firefox\//i.test(t)}function gt(t=(0,s.z$)()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function _t(t=(0,s.z$)()){return/crios\//i.test(t)}function yt(t=(0,s.z$)()){return/iemobile/i.test(t)}function vt(t=(0,s.z$)()){return/android/i.test(t)}function bt(t=(0,s.z$)()){return/blackberry/i.test(t)}function wt(t=(0,s.z$)()){return/webos/i.test(t)}function Ct(t=(0,s.z$)()){return/iphone|ipad|ipod/i.test(t)}function Et(t=(0,s.z$)()){return Ct(t)||vt(t)||wt(t)||bt(t)||/windows phone/i.test(t)||yt(t)}function St(t,e=[]){let n;switch(t){case"Browser":n=ft((0,s.z$)());break;case"Worker":n=`${ft((0,s.z$)())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${o.SDK_VERSION}/${i}`}class xt{constructor(t,e){this.app=t,this.config=e,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Tt(this),this.idTokenSubscription=new Tt(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=h,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=e.sdkClientVersion}_initializeWithPersistence(t,e){var n=this;return e&&(this._popupRedirectResolver=E(e)),this._initializationPromise=this.queue((0,i.Z)(function*(){var i;n._deleted||(n.persistenceManager=yield pt.create(n,t),n._deleted||((null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)&&(yield n._popupRedirectResolver._initialize(n)),yield n.initializeCurrentUser(e),n._deleted||(n._isInitialized=!0)))})),this._initializationPromise}_onStorageEvent(){var t=this;return(0,i.Z)(function*(){if(t._deleted)return;const e=yield t.assertedPersistence.getCurrentUser();return t.currentUser||e?t.currentUser&&e&&t.currentUser.uid===e.uid?(t._currentUser._assign(e),void(yield t.currentUser.getIdToken())):void(yield t._updateCurrentUser(e)):void 0})()}initializeCurrentUser(t){var e=this;return(0,i.Z)(function*(){var n;let i=yield e.assertedPersistence.getCurrentUser();if(t&&e.config.authDomain){yield e.getOrInitRedirectPersistenceManager();const r=null===(n=e.redirectUser)||void 0===n?void 0:n._redirectEventId,s=null==i?void 0:i._redirectEventId,o=yield e.tryRedirectSignIn(t);r&&r!==s||!(null==o?void 0:o.user)||(i=o.user)}return i?i._redirectEventId?(v(e._popupRedirectResolver,e,"argument-error"),yield e.getOrInitRedirectPersistenceManager(),e.redirectUser&&e.redirectUser._redirectEventId===i._redirectEventId?e.directlySetCurrentUser(i):e.reloadAndSetCurrentUserOrClear(i)):e.reloadAndSetCurrentUserOrClear(i):e.directlySetCurrentUser(null)})()}tryRedirectSignIn(t){var e=this;return(0,i.Z)(function*(){let n=null;try{n=yield e._popupRedirectResolver._completeRedirectFn(e,t,!0)}catch(i){yield e._setRedirectUser(null)}return n})()}reloadAndSetCurrentUserOrClear(t){var e=this;return(0,i.Z)(function*(){try{yield nt(t)}catch(n){if("auth/network-request-failed"!==n.code)return e.directlySetCurrentUser(null)}return e.directlySetCurrentUser(t)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var t=this;return(0,i.Z)(function*(){t._deleted=!0})()}updateCurrentUser(t){var e=this;return(0,i.Z)(function*(){const n=t?(0,s.m9)(t):null;return n&&v(n.auth.config.apiKey===e.config.apiKey,e,"invalid-user-token"),e._updateCurrentUser(n&&n._clone(e))})()}_updateCurrentUser(t){var e=this;return(0,i.Z)(function*(){if(!e._deleted)return t&&v(e.tenantId===t.tenantId,e,"tenant-id-mismatch"),e.queue((0,i.Z)(function*(){yield e.directlySetCurrentUser(t),e.notifyAuthListeners()}))})()}signOut(){var t=this;return(0,i.Z)(function*(){return(t.redirectPersistenceManager||t._popupRedirectResolver)&&(yield t._setRedirectUser(null)),t._updateCurrentUser(null)})()}setPersistence(t){var e=this;return this.queue((0,i.Z)(function*(){yield e.assertedPersistence.setPersistence(E(t))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new s.LL("auth","Firebase",t())}onAuthStateChanged(t,e,n){return this.registerStateListener(this.authStateSubscription,t,e,n)}onIdTokenChanged(t,e,n){return this.registerStateListener(this.idTokenSubscription,t,e,n)}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(t=this._currentUser)||void 0===t?void 0:t.toJSON()}}_setRedirectUser(t,e){var n=this;return(0,i.Z)(function*(){const i=yield n.getOrInitRedirectPersistenceManager(e);return null===t?i.removeCurrentUser():i.setCurrentUser(t)})()}getOrInitRedirectPersistenceManager(t){var e=this;return(0,i.Z)(function*(){if(!e.redirectPersistenceManager){const n=t&&E(t)||e._popupRedirectResolver;v(n,e,"argument-error"),e.redirectPersistenceManager=yield pt.create(e,[E(n._redirectPersistence)],"redirectUser"),e.redirectUser=yield e.redirectPersistenceManager.getCurrentUser()}return e.redirectPersistenceManager})()}_redirectUserForId(t){var e=this;return(0,i.Z)(function*(){var n,r;return e._isInitialized&&(yield e.queue((0,i.Z)(function*(){}))),(null===(n=e._currentUser)||void 0===n?void 0:n._redirectEventId)===t?e._currentUser:(null===(r=e.redirectUser)||void 0===r?void 0:r._redirectEventId)===t?e.redirectUser:null})()}_persistUserIfCurrent(t){var e=this;return(0,i.Z)(function*(){if(t===e.currentUser)return e.queue((0,i.Z)(function*(){return e.directlySetCurrentUser(t)}))})()}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(e=null===(t=this.currentUser)||void 0===t?void 0:t.uid)&&void 0!==e?e:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,n,i){if(this._deleted)return()=>{};const r="function"==typeof e?e:e.next.bind(e),s=this._isInitialized?Promise.resolve():this._initializationPromise;return v(s,this,"internal-error"),s.then(()=>r(this.currentUser)),"function"==typeof e?t.addObserver(e,n,i):t.addObserver(e)}directlySetCurrentUser(t){var e=this;return(0,i.Z)(function*(){e.currentUser&&e.currentUser!==t&&(e._currentUser._stopProactiveRefresh(),t&&e.isProactiveRefreshEnabled&&t._startProactiveRefresh()),e.currentUser=t,t?yield e.assertedPersistence.setCurrentUser(t):yield e.assertedPersistence.removeCurrentUser()})()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return v(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){t&&!this.frameworks.includes(t)&&(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=St(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getSdkClientVersion(){return this.clientVersion}}function kt(t){return(0,s.m9)(t)}class Tt{constructor(t){this.auth=t,this.observer=null,this.addObserver=(0,s.ne)(t=>this.observer=t)}get next(){return v(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function It(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function At(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}class Dt{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return b("not implemented")}_getIdTokenResponse(t){return b("not implemented")}_linkToIdToken(t,e){return b("not implemented")}_getReauthenticationResolver(t){return b("not implemented")}}function Rt(t,e){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,i.Z)(function*(t,e){return P(t,"POST","/v1/accounts:resetPassword",O(t,e))})).apply(this,arguments)}function Pt(t,e){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,i.Z)(function*(t,e){return P(t,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function Ft(t,e){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,i.Z)(function*(t,e){return P(t,"POST","/v1/accounts:update",O(t,e))})).apply(this,arguments)}function Mt(){return(Mt=(0,i.Z)(function*(t,e){return M(t,"POST","/v1/accounts:signInWithPassword",O(t,e))})).apply(this,arguments)}function Bt(t,e){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,i.Z)(function*(t,e){return P(t,"POST","/v1/accounts:sendOobCode",O(t,e))})).apply(this,arguments)}function Ut(t,e){return jt.apply(this,arguments)}function jt(){return(jt=(0,i.Z)(function*(t,e){return Bt(t,e)})).apply(this,arguments)}function qt(t,e){return zt.apply(this,arguments)}function zt(){return(zt=(0,i.Z)(function*(t,e){return Bt(t,e)})).apply(this,arguments)}function Ht(t,e){return Gt.apply(this,arguments)}function Gt(){return(Gt=(0,i.Z)(function*(t,e){return Bt(t,e)})).apply(this,arguments)}function $t(t,e){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,i.Z)(function*(t,e){return Bt(t,e)})).apply(this,arguments)}function Yt(){return(Yt=(0,i.Z)(function*(t,e){return M(t,"POST","/v1/accounts:signInWithEmailLink",O(t,e))})).apply(this,arguments)}function Wt(){return(Wt=(0,i.Z)(function*(t,e){return M(t,"POST","/v1/accounts:signInWithEmailLink",O(t,e))})).apply(this,arguments)}class Kt extends Dt{constructor(t,e,n,i=null){super("password",n),this._email=t,this._password=e,this._tenantId=i}static _fromEmailAndPassword(t,e){return new Kt(t,e,"password")}static _fromEmailAndCode(t,e,n=null){return new Kt(t,e,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const e="string"==typeof t?JSON.parse(t):t;if((null==e?void 0:e.email)&&(null==e?void 0:e.password)){if("password"===e.signInMethod)return this._fromEmailAndPassword(e.email,e.password);if("emailLink"===e.signInMethod)return this._fromEmailAndCode(e.email,e.password,e.tenantId)}return null}_getIdTokenResponse(t){var e=this;return(0,i.Z)(function*(){switch(e.signInMethod){case"password":return function(t,e){return Mt.apply(this,arguments)}(t,{returnSecureToken:!0,email:e._email,password:e._password});case"emailLink":return function(t,e){return Yt.apply(this,arguments)}(t,{email:e._email,oobCode:e._password});default:f(t,"internal-error")}})()}_linkToIdToken(t,e){var n=this;return(0,i.Z)(function*(){switch(n.signInMethod){case"password":return Pt(t,{idToken:e,returnSecureToken:!0,email:n._email,password:n._password});case"emailLink":return function(t,e){return Wt.apply(this,arguments)}(t,{idToken:e,email:n._email,oobCode:n._password});default:f(t,"internal-error")}})()}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}function Qt(t,e){return Jt.apply(this,arguments)}function Jt(){return(Jt=(0,i.Z)(function*(t,e){return M(t,"POST","/v1/accounts:signInWithIdp",O(t,e))})).apply(this,arguments)}class Xt extends Dt{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new Xt(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):f("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e="string"==typeof t?JSON.parse(t):t,{providerId:n,signInMethod:i}=e,r=(0,a._T)(e,["providerId","signInMethod"]);if(!n||!i)return null;const s=new Xt(n,i);return Object.assign(s,r),s}_getIdTokenResponse(t){return Qt(t,this.buildRequest())}_linkToIdToken(t,e){const n=this.buildRequest();return n.idToken=e,Qt(t,n)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,Qt(t,e)}buildRequest(){const t={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=(0,s.xO)(e)}return t}}function te(t,e){return ee.apply(this,arguments)}function ee(){return(ee=(0,i.Z)(function*(t,e){return P(t,"POST","/v1/accounts:sendVerificationCode",O(t,e))})).apply(this,arguments)}function ne(){return(ne=(0,i.Z)(function*(t,e){return M(t,"POST","/v1/accounts:signInWithPhoneNumber",O(t,e))})).apply(this,arguments)}function ie(){return(ie=(0,i.Z)(function*(t,e){const n=yield M(t,"POST","/v1/accounts:signInWithPhoneNumber",O(t,e));if(n.temporaryProof)throw j(t,"account-exists-with-different-credential",n);return n})).apply(this,arguments)}const re={USER_NOT_FOUND:"user-not-found"};function se(){return(se=(0,i.Z)(function*(t,e){return M(t,"POST","/v1/accounts:signInWithPhoneNumber",O(t,Object.assign(Object.assign({},e),{operation:"REAUTH"})),re)})).apply(this,arguments)}class oe extends Dt{constructor(t){super("phone","phone"),this.params=t}static _fromVerification(t,e){return new oe({verificationId:t,verificationCode:e})}static _fromTokenResponse(t,e){return new oe({phoneNumber:t,temporaryProof:e})}_getIdTokenResponse(t){return function(t,e){return ne.apply(this,arguments)}(t,this._makeVerificationRequest())}_linkToIdToken(t,e){return function(t,e){return ie.apply(this,arguments)}(t,Object.assign({idToken:e},this._makeVerificationRequest()))}_getReauthenticationResolver(t){return function(t,e){return se.apply(this,arguments)}(t,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:t,phoneNumber:e,verificationId:n,verificationCode:i}=this.params;return t&&e?{temporaryProof:t,phoneNumber:e}:{sessionInfo:n,code:i}}toJSON(){const t={providerId:this.providerId};return this.params.phoneNumber&&(t.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(t.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(t.verificationCode=this.params.verificationCode),this.params.verificationId&&(t.verificationId=this.params.verificationId),t}static fromJSON(t){"string"==typeof t&&(t=JSON.parse(t));const{verificationId:e,verificationCode:n,phoneNumber:i,temporaryProof:r}=t;return n||e||i||r?new oe({verificationId:e,verificationCode:n,phoneNumber:i,temporaryProof:r}):null}}class ae{constructor(t){var e,n,i,r,o,a;const l=(0,s.zd)((0,s.pd)(t)),c=null!==(e=l.apiKey)&&void 0!==e?e:null,u=null!==(n=l.oobCode)&&void 0!==n?n:null,h=function(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=l.mode)&&void 0!==i?i:null);v(c&&u&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=u,this.continueUrl=null!==(r=l.continueUrl)&&void 0!==r?r:null,this.languageCode=null!==(o=l.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(a=l.tenantId)&&void 0!==a?a:null}static parseLink(t){const e=function(t){const e=(0,s.zd)((0,s.pd)(t)).link,n=e?(0,s.zd)((0,s.pd)(e)).deep_link_id:null,i=(0,s.zd)((0,s.pd)(t)).deep_link_id;return(i?(0,s.zd)((0,s.pd)(i)).link:null)||i||n||e||t}(t);try{return new ae(e)}catch(n){return null}}}let le=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(t,e){return Kt._fromEmailAndPassword(t,e)}static credentialWithLink(t,e){const n=ae.parseLink(e);return v(n,"argument-error"),Kt._fromEmailAndCode(t,n.code,n.tenantId)}}return t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink",t})();class ce{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class ue extends ce{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class he extends ue{static credentialFromJSON(t){const e="string"==typeof t?JSON.parse(t):t;return v("providerId"in e&&"signInMethod"in e,"argument-error"),Xt._fromParams(e)}credential(t){return this._credential(t)}_credential(t){return v(t.idToken||t.accessToken,"argument-error"),Xt._fromParams(Object.assign(Object.assign({},t),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(t){return he.oauthCredentialFromTaggedObject(t)}static credentialFromError(t){return he.oauthCredentialFromTaggedObject(t.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:n,oauthTokenSecret:i,pendingToken:r,nonce:s,providerId:o}=t;if(!(n||i||e||r))return null;if(!o)return null;try{return new he(o)._credential({idToken:e,accessToken:n,rawNonce:s,pendingToken:r})}catch(a){return null}}}let de=(()=>{class t extends ue{constructor(){super("facebook.com")}static credential(e){return Xt._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return t.credentialFromTaggedObject(e)}static credentialFromError(e){return t.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return t.credential(e.oauthAccessToken)}catch(n){return null}}}return t.FACEBOOK_SIGN_IN_METHOD="facebook.com",t.PROVIDER_ID="facebook.com",t})(),pe=(()=>{class t extends ue{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Xt._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return t.credentialFromTaggedObject(e)}static credentialFromError(e){return t.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return t.credential(n,i)}catch(r){return null}}}return t.GOOGLE_SIGN_IN_METHOD="google.com",t.PROVIDER_ID="google.com",t})(),fe=(()=>{class t extends ue{constructor(){super("github.com")}static credential(e){return Xt._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return t.credentialFromTaggedObject(e)}static credentialFromError(e){return t.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return t.credential(e.oauthAccessToken)}catch(n){return null}}}return t.GITHUB_SIGN_IN_METHOD="github.com",t.PROVIDER_ID="github.com",t})();class me extends Dt{constructor(t,e){super(t,t),this.pendingToken=e}_getIdTokenResponse(t){return Qt(t,this.buildRequest())}_linkToIdToken(t,e){const n=this.buildRequest();return n.idToken=e,Qt(t,n)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,Qt(t,e)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(t){const e="string"==typeof t?JSON.parse(t):t,{providerId:n,signInMethod:i,pendingToken:r}=e;return n&&i&&r&&n===i?new me(n,r):null}static _create(t,e){return new me(t,e)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}let ge=(()=>{class t extends ue{constructor(){super("twitter.com")}static credential(e,n){return Xt._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return t.credentialFromTaggedObject(e)}static credentialFromError(e){return t.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return t.credential(n,i)}catch(r){return null}}}return t.TWITTER_SIGN_IN_METHOD="twitter.com",t.PROVIDER_ID="twitter.com",t})();function _e(t,e){return ye.apply(this,arguments)}function ye(){return(ye=(0,i.Z)(function*(t,e){return M(t,"POST","/v1/accounts:signUp",O(t,e))})).apply(this,arguments)}class ve{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static _fromIdTokenResponse(t,e,n,r=!1){return(0,i.Z)(function*(){const i=yield ut._fromIdTokenResponse(t,n,r),s=be(n);return new ve({user:i,providerId:s,_tokenResponse:n,operationType:e})})()}static _forOperation(t,e,n){return(0,i.Z)(function*(){yield t._updateTokensIfNecessary(n,!0);const i=be(n);return new ve({user:t,providerId:i,_tokenResponse:n,operationType:e})})()}}function be(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}function we(){return(we=(0,i.Z)(function*(t){var e;const n=kt(t);if(yield n._initializationPromise,null===(e=n.currentUser)||void 0===e?void 0:e.isAnonymous)return new ve({user:n.currentUser,providerId:null,operationType:"signIn"});const i=yield _e(n,{returnSecureToken:!0}),r=yield ve._fromIdTokenResponse(n,"signIn",i,!0);return yield n._updateCurrentUser(r.user),r})).apply(this,arguments)}class Ce extends s.ZR{constructor(t,e,n,i){var r;super(e.code,e.message),this.operationType=n,this.user=i,this.name="FirebaseError",Object.setPrototypeOf(this,Ce.prototype),this.appName=t.name,this.code=e.code,this.tenantId=null!==(r=t.tenantId)&&void 0!==r?r:void 0,this.serverResponse=e.customData.serverResponse}static _fromErrorAndOperation(t,e,n,i){return new Ce(t,e,n,i)}}function Ee(t,e,n,i){return("reauthenticate"===e?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(n=>{if("auth/multi-factor-auth-required"===n.code)throw Ce._fromErrorAndOperation(t,n,e,i);throw n})}function Se(t){return new Set(t.map(({providerId:t})=>t).filter(t=>!!t))}function xe(){return(xe=(0,i.Z)(function*(t,e){const n=(0,s.m9)(t);yield Ie(!0,n,e);const{providerUserInfo:i}=yield z(n.auth,{idToken:yield n.getIdToken(),deleteProvider:[e]}),r=Se(i||[]);return n.providerData=n.providerData.filter(t=>r.has(t.providerId)),r.has("phone")||(n.phoneNumber=null),yield n.auth._persistUserIfCurrent(n),n})).apply(this,arguments)}function ke(t,e){return Te.apply(this,arguments)}function Te(){return(Te=(0,i.Z)(function*(t,e,n=!1){const i=yield Q(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return ve._forOperation(t,"link",i)})).apply(this,arguments)}function Ie(t,e,n){return Ae.apply(this,arguments)}function Ae(){return(Ae=(0,i.Z)(function*(t,e,n){yield nt(e);const i=!1===t?"provider-already-linked":"no-such-provider";v(Se(e.providerData).has(n)===t,e.auth,i)})).apply(this,arguments)}function De(t,e){return Re.apply(this,arguments)}function Re(){return(Re=(0,i.Z)(function*(t,e,n=!1){const{auth:i}=t,r="reauthenticate";try{const s=yield Q(t,Ee(i,r,e,t),n);v(s.idToken,i,"internal-error");const o=K(s.idToken);v(o,i,"internal-error");const{sub:a}=o;return v(t.uid===a,i,"user-mismatch"),ve._forOperation(t,r,s)}catch(s){throw"auth/user-not-found"===(null==s?void 0:s.code)&&f(i,"user-mismatch"),s}})).apply(this,arguments)}function Oe(t,e){return Pe.apply(this,arguments)}function Pe(){return(Pe=(0,i.Z)(function*(t,e,n=!1){const i="signIn",r=yield Ee(t,i,e),s=yield ve._fromIdTokenResponse(t,i,r);return n||(yield t._updateCurrentUser(s.user)),s})).apply(this,arguments)}function Ne(t,e){return Fe.apply(this,arguments)}function Fe(){return(Fe=(0,i.Z)(function*(t,e){return Oe(kt(t),e)})).apply(this,arguments)}function Le(t,e){return Me.apply(this,arguments)}function Me(){return(Me=(0,i.Z)(function*(t,e){const n=(0,s.m9)(t);return yield Ie(!1,n,e.providerId),ke(n,e)})).apply(this,arguments)}function Be(t,e){return Ve.apply(this,arguments)}function Ve(){return(Ve=(0,i.Z)(function*(t,e){return De((0,s.m9)(t),e)})).apply(this,arguments)}function Ue(t,e){return je.apply(this,arguments)}function je(){return(je=(0,i.Z)(function*(t,e){return M(t,"POST","/v1/accounts:signInWithCustomToken",O(t,e))})).apply(this,arguments)}function qe(){return(qe=(0,i.Z)(function*(t,e){const n=kt(t),i=yield Ue(n,{token:e,returnSecureToken:!0}),r=yield ve._fromIdTokenResponse(n,"signIn",i);return yield n._updateCurrentUser(r.user),r})).apply(this,arguments)}class ze{constructor(t,e){this.factorId=t,this.uid=e.mfaEnrollmentId,this.enrollmentTime=new Date(e.enrolledAt).toUTCString(),this.displayName=e.displayName}static _fromServerResponse(t,e){return"phoneInfo"in e?He._fromServerResponse(t,e):f(t,"internal-error")}}class He extends ze{constructor(t){super("phone",t),this.phoneNumber=t.phoneInfo}static _fromServerResponse(t,e){return new He(e)}}function Ge(t,e,n){var i;v((null===(i=n.url)||void 0===i?void 0:i.length)>0,t,"invalid-continue-uri"),v(void 0===n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(v(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iosBundleId=n.iOS.bundleId),n.android&&(v(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}function $e(){return($e=(0,i.Z)(function*(t,e,n){const i=(0,s.m9)(t),r={requestType:"PASSWORD_RESET",email:e};n&&Ge(i,r,n),yield qt(i,r)})).apply(this,arguments)}function Ze(){return(Ze=(0,i.Z)(function*(t,e,n){yield Rt((0,s.m9)(t),{oobCode:e,newPassword:n})})).apply(this,arguments)}function Ye(){return(Ye=(0,i.Z)(function*(t,e){yield Ft((0,s.m9)(t),{oobCode:e})})).apply(this,arguments)}function We(t,e){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,i.Z)(function*(t,e){const n=(0,s.m9)(t),i=yield Rt(n,{oobCode:e}),r=i.requestType;switch(v(r,n,"internal-error"),r){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":v(i.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":v(i.mfaInfo,n,"internal-error");default:v(i.email,n,"internal-error")}let o=null;return i.mfaInfo&&(o=ze._fromServerResponse(kt(n),i.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:r}})).apply(this,arguments)}function Qe(){return(Qe=(0,i.Z)(function*(t,e){const{data:n}=yield We((0,s.m9)(t),e);return n.email})).apply(this,arguments)}function Je(){return(Je=(0,i.Z)(function*(t,e,n){const i=kt(t),r=yield _e(i,{returnSecureToken:!0,email:e,password:n}),s=yield ve._fromIdTokenResponse(i,"signIn",r);return yield i._updateCurrentUser(s.user),s})).apply(this,arguments)}function Xe(){return(Xe=(0,i.Z)(function*(t,e,n){const i=(0,s.m9)(t),r={requestType:"EMAIL_SIGNIN",email:e};v(n.handleCodeInApp,i,"argument-error"),n&&Ge(i,r,n),yield Ht(i,r)})).apply(this,arguments)}function tn(){return(tn=(0,i.Z)(function*(t,e,n){const i=(0,s.m9)(t),r=le.credentialWithLink(e,n||S());return v(r._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),Ne(i,r)})).apply(this,arguments)}function en(t,e){return nn.apply(this,arguments)}function nn(){return(nn=(0,i.Z)(function*(t,e){return P(t,"POST","/v1/accounts:createAuthUri",O(t,e))})).apply(this,arguments)}function rn(){return(rn=(0,i.Z)(function*(t,e){const n={identifier:e,continueUri:x()?S():"http://localhost"},{signinMethods:i}=yield en((0,s.m9)(t),n);return i||[]})).apply(this,arguments)}function sn(){return(sn=(0,i.Z)(function*(t,e){const n=(0,s.m9)(t),i={requestType:"VERIFY_EMAIL",idToken:yield t.getIdToken()};e&&Ge(n.auth,i,e);const{email:r}=yield Ut(n.auth,i);r!==t.email&&(yield t.reload())})).apply(this,arguments)}function on(){return(on=(0,i.Z)(function*(t,e,n){const i=(0,s.m9)(t),r={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield t.getIdToken(),newEmail:e};n&&Ge(i.auth,r,n);const{email:o}=yield $t(i.auth,r);o!==t.email&&(yield t.reload())})).apply(this,arguments)}function an(t,e){return ln.apply(this,arguments)}function ln(){return(ln=(0,i.Z)(function*(t,e){return P(t,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function cn(){return(cn=(0,i.Z)(function*(t,{displayName:e,photoURL:n}){if(void 0===e&&void 0===n)return;const i=(0,s.m9)(t),r={idToken:yield i.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=yield Q(i,an(i.auth,r));i.displayName=o.displayName||null,i.photoURL=o.photoUrl||null;const a=i.providerData.find(({providerId:t})=>"password"===t);a&&(a.displayName=i.displayName,a.photoURL=i.photoURL),yield i._updateTokensIfNecessary(o)})).apply(this,arguments)}function un(t,e,n){return hn.apply(this,arguments)}function hn(){return(hn=(0,i.Z)(function*(t,e,n){const{auth:i}=t,r={idToken:yield t.getIdToken(),returnSecureToken:!0};e&&(r.email=e),n&&(r.password=n);const s=yield Q(t,Pt(i,r));yield t._updateTokensIfNecessary(s,!0)})).apply(this,arguments)}class dn{constructor(t,e,n={}){this.isNewUser=t,this.providerId=e,this.profile=n}}class pn extends dn{constructor(t,e,n,i){super(t,e,n),this.username=i}}class fn extends dn{constructor(t,e){super(t,"facebook.com",e)}}class mn extends pn{constructor(t,e){super(t,"github.com",e,"string"==typeof(null==e?void 0:e.login)?null==e?void 0:e.login:null)}}class gn extends dn{constructor(t,e){super(t,"google.com",e)}}class _n extends pn{constructor(t,e,n){super(t,"twitter.com",e,n)}}function yn(t){const{user:e,_tokenResponse:n}=t;return e.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(t){var e,n;if(!t)return null;const{providerId:i}=t,r=t.rawUserInfo?JSON.parse(t.rawUserInfo):{},s=t.isNewUser||"identitytoolkit#SignupNewUserResponse"===t.kind;if(!i&&(null==t?void 0:t.idToken)){const i=null===(n=null===(e=K(t.idToken))||void 0===e?void 0:e.firebase)||void 0===n?void 0:n.sign_in_provider;if(i)return new dn(s,"anonymous"!==i&&"custom"!==i?i:null)}if(!i)return null;switch(i){case"facebook.com":return new fn(s,r);case"github.com":return new mn(s,r);case"google.com":return new gn(s,r);case"twitter.com":return new _n(s,r,t.screenName||null);case"custom":case"anonymous":return new dn(s,null);default:return new dn(s,i,r)}}(n)}class vn{constructor(t,e){this.type=t,this.credential=e}static _fromIdtoken(t){return new vn("enroll",t)}static _fromMfaPendingCredential(t){return new vn("signin",t)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(t){var e,n;if(null==t?void 0:t.multiFactorSession){if(null===(e=t.multiFactorSession)||void 0===e?void 0:e.pendingCredential)return vn._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.idToken)return vn._fromIdtoken(t.multiFactorSession.idToken)}return null}}class bn{constructor(t,e,n){this.session=t,this.hints=e,this.signInResolver=n}static _fromError(t,e){const n=kt(t),r=(e.serverResponse.mfaInfo||[]).map(t=>ze._fromServerResponse(n,t));v(e.serverResponse.mfaPendingCredential,n,"internal-error");const s=vn._fromMfaPendingCredential(e.serverResponse.mfaPendingCredential);return new bn(s,r,function(){var t=(0,i.Z)(function*(t){const i=yield t._process(n,s);delete e.serverResponse.mfaInfo,delete e.serverResponse.mfaPendingCredential;const r=Object.assign(Object.assign({},e.serverResponse),{idToken:i.idToken,refreshToken:i.refreshToken});switch(e.operationType){case"signIn":const t=yield ve._fromIdTokenResponse(n,e.operationType,r);return yield n._updateCurrentUser(t.user),t;case"reauthenticate":return v(e.user,n,"internal-error"),ve._forOperation(e.user,e.operationType,r);default:f(n,"internal-error")}});return function(e){return t.apply(this,arguments)}}())}resolveSignIn(t){var e=this;return(0,i.Z)(function*(){return e.signInResolver(t)})()}}function wn(t,e){return P(t,"POST","/v2/accounts/mfaEnrollment:start",Object.assign({tenantId:t.tenantId},e))}class Cn{constructor(t){this.user=t,this.enrolledFactors=[],t._onReload(e=>{e.mfaInfo&&(this.enrolledFactors=e.mfaInfo.map(e=>ze._fromServerResponse(t.auth,e)))})}static _fromUser(t){return new Cn(t)}getSession(){var t=this;return(0,i.Z)(function*(){return vn._fromIdtoken(yield t.user.getIdToken())})()}enroll(t,e){var n=this;return(0,i.Z)(function*(){const i=t,r=yield n.getSession(),s=yield Q(n.user,i._process(n.user.auth,r,e));return yield n.user._updateTokensIfNecessary(s),n.user.reload()})()}unenroll(t){var e=this;return(0,i.Z)(function*(){const n="string"==typeof t?t:t.uid,i=yield e.user.getIdToken(),r=yield Q(e.user,(s=e.user.auth,o={idToken:i,mfaEnrollmentId:n},P(s,"POST","/v2/accounts/mfaEnrollment:withdraw",Object.assign({tenantId:s.tenantId},o))));var s,o;e.enrolledFactors=e.enrolledFactors.filter(({uid:t})=>t!==n),yield e.user._updateTokensIfNecessary(r);try{yield e.user.reload()}catch(a){if("auth/user-token-expired"!==a.code)throw a}})()}}const En=new WeakMap,Sn="__sak";class xn{constructor(t,e){this.storage=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(Sn,"1"),this.storage.removeItem(Sn),Promise.resolve(!0)):Promise.resolve(!1)}catch(t){return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}}const kn=(()=>{class t extends xn{constructor(){super(window.localStorage,"LOCAL"),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const t=(0,s.z$)();return gt(t)||Ct(t)}()&&function(){try{return!(!window||window===window.top)}catch(t){return!1}}(),this.fallbackToPolling=Et(),this._shouldAllowMigration=!0,this.boundEventHandler=this.onStorageEvent.bind(this)}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const n=this.storage.getItem(e),i=this.localCache[e];n!==i&&t(e,i,n)}}onStorageEvent(t,e=!1){if(!t.key)return void this.forAllChangedKeys((t,e,n)=>{this.notifyListeners(t,n)});const n=t.key;if(e?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const i=this.storage.getItem(n);if(t.newValue!==i)null!==t.newValue?this.storage.setItem(n,t.newValue):this.storage.removeItem(n);else if(this.localCache[n]===t.newValue&&!e)return}const i=()=>{const t=this.storage.getItem(n);(e||this.localCache[n]!==t)&&this.notifyListeners(n,t)},r=this.storage.getItem(n);(0,s.w1)()&&10===document.documentMode&&r!==t.newValue&&t.newValue!==t.oldValue?setTimeout(i,10):i()}notifyListeners(t,e){this.localCache[t]=e;const n=this.listeners[t];if(n)for(const i of Array.from(n))i(e?JSON.parse(e):e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(t,e){var n=()=>super._set,r=this;return(0,i.Z)(function*(){yield n().call(r,t,e),r.localCache[t]=JSON.stringify(e)})()}_get(t){var e=()=>super._get,n=this;return(0,i.Z)(function*(){const i=yield e().call(n,t);return n.localCache[t]=JSON.stringify(i),i})()}_remove(t){var e=()=>super._remove,n=this;return(0,i.Z)(function*(){yield e().call(n,t),delete n.localCache[t]})()}}return t.type="LOCAL",t})(),Tn=(()=>{class t extends xn{constructor(){super(window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}return t.type="SESSION",t})();let In=(()=>{class t{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(t=>t.isListeningto(e));if(n)return n;const i=new t(e);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){var e=this;return(0,i.Z)(function*(){const n=t,{eventId:r,eventType:s,data:o}=n.data,a=e.handlersMap[s];if(!(null==a?void 0:a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const l=Array.from(a).map(function(){var t=(0,i.Z)(function*(t){return t(n.origin,o)});return function(e){return t.apply(this,arguments)}}()),c=yield function(t){return Promise.all(t.map(function(){var t=(0,i.Z)(function*(t){try{return{fulfilled:!0,value:yield t}}catch(e){return{fulfilled:!1,reason:e}}});return function(e){return t.apply(this,arguments)}}()))}(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:c})})()}_subscribe(t,e){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),e&&0!==this.handlersMap[t].size||delete this.handlersMap[t],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return t.receivers=[],t})();function An(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(10*Math.random());return t+n}class Dn{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}_send(t,e,n=50){var r=this;return(0,i.Z)(function*(){const i="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=An("",20);i.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},n);o={messageChannel:i,onMessage(t){const e=t;if(e.data.eventId===c)switch(e.data.status){case"ack":clearTimeout(u),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(e.data.response);break;default:clearTimeout(u),clearTimeout(s),l(new Error("invalid_response"))}}},r.handlers.add(o),i.port1.addEventListener("message",o.onMessage),r.target.postMessage({eventType:t,eventId:c,data:e},[i.port2])}).finally(()=>{o&&r.removeMessageHandler(o)})})()}}function Rn(){return window}function On(){return void 0!==Rn().WorkerGlobalScope&&"function"==typeof Rn().importScripts}function Pn(){return(Pn=(0,i.Z)(function*(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(t){return null}})).apply(this,arguments)}const Nn="firebaseLocalStorageDb",Fn="firebaseLocalStorage",Ln="fbase_key";class Mn{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function Bn(t,e){return t.transaction([Fn],e?"readwrite":"readonly").objectStore(Fn)}function Vn(){const t=indexedDB.open(Nn,1);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const e=t.result;try{e.createObjectStore(Fn,{keyPath:Ln})}catch(i){n(i)}}),t.addEventListener("success",(0,i.Z)(function*(){const n=t.result;n.objectStoreNames.contains(Fn)?e(n):(n.close(),yield function(){const t=indexedDB.deleteDatabase(Nn);return new Mn(t).toPromise()}(),e(yield Vn()))}))})}function Un(t,e,n){return jn.apply(this,arguments)}function jn(){return(jn=(0,i.Z)(function*(t,e,n){const i=Bn(t,!0).put({[Ln]:e,value:n});return new Mn(i).toPromise()})).apply(this,arguments)}function qn(){return(qn=(0,i.Z)(function*(t,e){const n=Bn(t,!1).get(e),i=yield new Mn(n).toPromise();return void 0===i?null:i.value})).apply(this,arguments)}function zn(t,e){const n=Bn(t,!0).delete(e);return new Mn(n).toPromise()}const Hn=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var t=this;return(0,i.Z)(function*(){return t.db||(t.db=yield Vn()),t.db})()}_withRetries(t){var e=this;return(0,i.Z)(function*(){let n=0;for(;;)try{const n=yield e._openDb();return yield t(n)}catch(i){if(n++>3)throw i;e.db&&(e.db.close(),e.db=void 0)}})()}initializeServiceWorkerMessaging(){var t=this;return(0,i.Z)(function*(){return On()?t.initializeReceiver():t.initializeSender()})()}initializeReceiver(){var t=this;return(0,i.Z)(function*(){t.receiver=In._getInstance(On()?self:null),t.receiver._subscribe("keyChanged",function(){var e=(0,i.Z)(function*(e,n){return{keyProcessed:(yield t._poll()).includes(n.key)}});return function(t,n){return e.apply(this,arguments)}}()),t.receiver._subscribe("ping",function(){var t=(0,i.Z)(function*(t,e){return["keyChanged"]});return function(e,n){return t.apply(this,arguments)}}())})()}initializeSender(){var t=this;return(0,i.Z)(function*(){var e,n;if(t.activeServiceWorker=yield function(){return Pn.apply(this,arguments)}(),!t.activeServiceWorker)return;t.sender=new Dn(t.activeServiceWorker);const i=yield t.sender._send("ping",{},800);i&&(null===(e=i[0])||void 0===e?void 0:e.fulfilled)&&(null===(n=i[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(t.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(t){var e=this;return(0,i.Z)(function*(){var n;if(e.sender&&e.activeServiceWorker&&((null===(n=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===n?void 0:n.controller)||null)===e.activeServiceWorker)try{yield e.sender._send("keyChanged",{key:t},e.serviceWorkerReceiverAvailable?800:50)}catch(n){}})()}_isAvailable(){return(0,i.Z)(function*(){try{if(!indexedDB)return!1;const t=yield Vn();return yield Un(t,Sn,"1"),yield zn(t,Sn),!0}catch(t){}return!1})()}_withPendingWrite(t){var e=this;return(0,i.Z)(function*(){e.pendingWrites++;try{yield t()}finally{e.pendingWrites--}})()}_set(t,e){var n=this;return(0,i.Z)(function*(){return n._withPendingWrite((0,i.Z)(function*(){return yield n._withRetries(n=>Un(n,t,e)),n.localCache[t]=e,n.notifyServiceWorker(t)}))})()}_get(t){var e=this;return(0,i.Z)(function*(){const n=yield e._withRetries(e=>function(t,e){return qn.apply(this,arguments)}(e,t));return e.localCache[t]=n,n})()}_remove(t){var e=this;return(0,i.Z)(function*(){return e._withPendingWrite((0,i.Z)(function*(){return yield e._withRetries(e=>zn(e,t)),delete e.localCache[t],e.notifyServiceWorker(t)}))})()}_poll(){var t=this;return(0,i.Z)(function*(){const e=yield t._withRetries(t=>{const e=Bn(t,!1).getAll();return new Mn(e).toPromise()});if(!e)return[];if(0!==t.pendingWrites)return[];const n=[],i=new Set;for(const{fbase_key:r,value:s}of e)i.add(r),JSON.stringify(t.localCache[r])!==JSON.stringify(s)&&(t.notifyListeners(r,s),n.push(r));for(const r of Object.keys(t.localCache))t.localCache[r]&&!i.has(r)&&(t.notifyListeners(r,null),n.push(r));return n})()}notifyListeners(t,e){this.localCache[t]=e;const n=this.listeners[t];if(n)for(const i of Array.from(n))i(e)}startPolling(){var t=this;this.stopPolling(),this.pollTimer=setInterval((0,i.Z)(function*(){return t._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return t.type="LOCAL",t})();function Gn(t,e){return P(t,"POST","/v2/accounts/mfaSignIn:start",Object.assign({tenantId:t.tenantId},e))}function $n(){return($n=(0,i.Z)(function*(t){return(yield P(t,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Zn(t){return new Promise((e,n)=>{const i=document.createElement("script");var r,s;i.setAttribute("src",t),i.onload=e,i.onerror=t=>{const e=m("internal-error");e.customData=t,n(e)},i.type="text/javascript",i.charset="UTF-8",(null!==(s=null===(r=document.getElementsByTagName("head"))||void 0===r?void 0:r[0])&&void 0!==s?s:document).appendChild(i)})}function Yn(t){return`__${t}${Math.floor(1e6*Math.random())}`}const Wn=1e12;class Kn{constructor(t){this.auth=t,this.counter=Wn,this._widgets=new Map}render(t,e){const n=this.counter;return this._widgets.set(n,new Qn(t,this.auth.name,e||{})),this.counter++,n}reset(t){var e;const n=t||Wn;null===(e=this._widgets.get(n))||void 0===e||e.delete(),this._widgets.delete(n)}getResponse(t){var e;return(null===(e=this._widgets.get(t||Wn))||void 0===e?void 0:e.getResponse())||""}execute(t){var e=this;return(0,i.Z)(function*(){var n;return null===(n=e._widgets.get(t||Wn))||void 0===n||n.execute(),""})()}}class Qn{constructor(t,e,n){this.params=n,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const i="string"==typeof t?document.getElementById(t):t;v(i,"argument-error",{appName:e}),this.container=i,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout(()=>{this.responseToken=function(t){const e=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let i=0;i<50;i++)e.push(n.charAt(Math.floor(Math.random()*n.length)));return e.join("")}();const{callback:t,"expired-callback":e}=this.params;if(t)try{t(this.responseToken)}catch(n){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,e)try{e()}catch(n){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Jn=Yn("rcb"),Xn=new T(3e4,6e4);class ti{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Rn().grecaptcha}load(t,e=""){return v(function(t){return t.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(t)}(e),t,"argument-error"),this.shouldResolveImmediately(e)?Promise.resolve(Rn().grecaptcha):new Promise((n,i)=>{const r=Rn().setTimeout(()=>{i(m(t,"network-request-failed"))},Xn.get());Rn()[Jn]=()=>{Rn().clearTimeout(r),delete Rn()[Jn];const s=Rn().grecaptcha;if(!s)return void i(m(t,"internal-error"));const o=s.render;s.render=(t,e)=>{const n=o(t,e);return this.counter++,n},this.hostLanguage=e,n(s)},Zn(`https://www.google.com/recaptcha/api.js??${(0,s.xO)({onload:Jn,render:"explicit",hl:e})}`).catch(()=>{clearTimeout(r),i(m(t,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(t){return!!Rn().grecaptcha&&(t===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class ei{load(t){return(0,i.Z)(function*(){return new Kn(t)})()}clearedOneInstance(){}}const ni="recaptcha",ii={theme:"light",type:"image"};class ri{constructor(t,e=Object.assign({},ii),n){this.parameters=e,this.type=ni,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=kt(n),this.isInvisible="invisible"===this.parameters.size,v("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const i="string"==typeof t?document.getElementById(t):t;v(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new ei:new ti,this.validateStartingState()}verify(){var t=this;return(0,i.Z)(function*(){t.assertNotDestroyed();const e=yield t.render(),n=t.getAssertedRecaptcha();return n.getResponse(e)||new Promise(i=>{const r=e=>{e&&(t.tokenChangeListeners.delete(r),i(e))};t.tokenChangeListeners.add(r),t.isInvisible&&n.execute(e)})})()}render(){try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(t=>{throw this.renderPromise=null,t})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(t=>{this.container.removeChild(t)})}validateStartingState(){v(!this.parameters.sitekey,this.auth,"argument-error"),v(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),v("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(t){return e=>{if(this.tokenChangeListeners.forEach(t=>t(e)),"function"==typeof t)t(e);else if("string"==typeof t){const n=Rn()[t];"function"==typeof n&&n(e)}}}assertNotDestroyed(){v(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var t=this;return(0,i.Z)(function*(){if(yield t.init(),!t.widgetId){let e=t.container;if(!t.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}t.widgetId=t.getAssertedRecaptcha().render(e,t.parameters)}return t.widgetId})()}init(){var t=this;return(0,i.Z)(function*(){v(x()&&!On(),t.auth,"internal-error"),yield function(){let t=null;return new Promise(e=>{"complete"!==document.readyState?(t=()=>e(),window.addEventListener("load",t)):e()}).catch(e=>{throw t&&window.removeEventListener("load",t),e})}(),t.recaptcha=yield t._recaptchaLoader.load(t.auth,t.auth.languageCode||void 0);const e=yield function(t){return $n.apply(this,arguments)}(t.auth);v(e,t.auth,"internal-error"),t.parameters.sitekey=e})()}getAssertedRecaptcha(){return v(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class si{constructor(t,e){this.verificationId=t,this.onConfirmation=e}confirm(t){const e=oe._fromVerification(this.verificationId,t);return this.onConfirmation(e)}}function oi(){return(oi=(0,i.Z)(function*(t,e,n){const i=kt(t),r=yield ci(i,e,(0,s.m9)(n));return new si(r,t=>Ne(i,t))})).apply(this,arguments)}function ai(){return(ai=(0,i.Z)(function*(t,e,n){const i=(0,s.m9)(t);yield Ie(!1,i,"phone");const r=yield ci(i.auth,e,(0,s.m9)(n));return new si(r,t=>Le(i,t))})).apply(this,arguments)}function li(){return(li=(0,i.Z)(function*(t,e,n){const i=(0,s.m9)(t),r=yield ci(i.auth,e,(0,s.m9)(n));return new si(r,t=>Be(i,t))})).apply(this,arguments)}function ci(t,e,n){return ui.apply(this,arguments)}function ui(){return(ui=(0,i.Z)(function*(t,e,n){var i;const r=yield n.verify();try{let s;if(v("string"==typeof r,t,"argument-error"),v(n.type===ni,t,"argument-error"),s="string"==typeof e?{phoneNumber:e}:e,"session"in s){const e=s.session;if("phoneNumber"in s)return v("enroll"===e.type,t,"internal-error"),(yield wn(t,{idToken:e.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:r}})).phoneSessionInfo.sessionInfo;{v("signin"===e.type,t,"internal-error");const n=(null===(i=s.multiFactorHint)||void 0===i?void 0:i.uid)||s.multiFactorUid;return v(n,t,"missing-multi-factor-info"),(yield Gn(t,{mfaPendingCredential:e.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:r}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:e}=yield te(t,{phoneNumber:s.phoneNumber,recaptchaToken:r});return e}}finally{n._reset()}})).apply(this,arguments)}function hi(){return(hi=(0,i.Z)(function*(t,e){yield ke((0,s.m9)(t),e)})).apply(this,arguments)}let di=(()=>{class t{constructor(e){this.providerId=t.PROVIDER_ID,this.auth=kt(e)}verifyPhoneNumber(t,e){return ci(this.auth,t,(0,s.m9)(e))}static credential(t,e){return oe._fromVerification(t,e)}static credentialFromResult(e){return t.credentialFromTaggedObject(e)}static credentialFromError(e){return t.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{phoneNumber:e,temporaryProof:n}=t;return e&&n?oe._fromTokenResponse(e,n):null}}return t.PROVIDER_ID="phone",t.PHONE_SIGN_IN_METHOD="phone",t})();function pi(t,e){return e?E(e):(v(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class fi extends Dt{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Qt(t,this._buildIdpRequest())}_linkToIdToken(t,e){return Qt(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return Qt(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function mi(t){return Oe(t.auth,new fi(t),t.bypassAuthState)}function gi(t){const{auth:e,user:n}=t;return v(n,e,"internal-error"),De(n,new fi(t),t.bypassAuthState)}function _i(t){return yi.apply(this,arguments)}function yi(){return(yi=(0,i.Z)(function*(t){const{auth:e,user:n}=t;return v(n,e,"internal-error"),ke(n,new fi(t),t.bypassAuthState)})).apply(this,arguments)}class vi{constructor(t,e,n,i,r=!1){this.auth=t,this.resolver=n,this.user=i,this.bypassAuthState=r,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){var t=this;return new Promise(function(){var e=(0,i.Z)(function*(e,n){t.pendingPromise={resolve:e,reject:n};try{t.eventManager=yield t.resolver._initialize(t.auth),yield t.onExecution(),t.eventManager.registerConsumer(t)}catch(i){t.reject(i)}});return function(t,n){return e.apply(this,arguments)}}())}onAuthEvent(t){var e=this;return(0,i.Z)(function*(){const{urlResponse:n,sessionId:i,postBody:r,tenantId:s,error:o,type:a}=t;if(o)return void e.reject(o);const l={auth:e.auth,requestUri:n,sessionId:i,tenantId:s||void 0,postBody:r||void 0,user:e.user,bypassAuthState:e.bypassAuthState};try{e.resolve(yield e.getIdpTask(a)(l))}catch(c){e.reject(c)}})()}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return mi;case"linkViaPopup":case"linkViaRedirect":return _i;case"reauthViaPopup":case"reauthViaRedirect":return gi;default:f(this.auth,"internal-error")}}resolve(t){w(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){w(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const bi=new T(2e3,1e4);function wi(){return(wi=(0,i.Z)(function*(t,e,n){const i=kt(t);_(t,e,ce);const r=pi(i,n);return new Si(i,"signInViaPopup",e,r).executeNotNull()})).apply(this,arguments)}function Ci(){return(Ci=(0,i.Z)(function*(t,e,n){const i=(0,s.m9)(t);_(i.auth,e,ce);const r=pi(i.auth,n);return new Si(i.auth,"reauthViaPopup",e,r,i).executeNotNull()})).apply(this,arguments)}function Ei(){return(Ei=(0,i.Z)(function*(t,e,n){const i=(0,s.m9)(t);_(i.auth,e,ce);const r=pi(i.auth,n);return new Si(i.auth,"linkViaPopup",e,r,i).executeNotNull()})).apply(this,arguments)}let Si=(()=>{class t extends vi{constructor(e,n,i,r,s){super(e,n,r,s),this.provider=i,this.authWindow=null,this.pollId=null,t.currentPopupAction&&t.currentPopupAction.cancel(),t.currentPopupAction=this}executeNotNull(){var t=this;return(0,i.Z)(function*(){const e=yield t.execute();return v(e,t.auth,"internal-error"),e})()}onExecution(){var t=this;return(0,i.Z)(function*(){w(1===t.filter.length,"Popup operations only handle one event");const e=An();t.authWindow=yield t.resolver._openPopup(t.auth,t.provider,t.filter[0],e),t.authWindow.associatedEvent=e,t.resolver._originValidation(t.auth).catch(e=>{t.reject(e)}),t.resolver._isIframeWebStorageSupported(t.auth,e=>{e||t.reject(m(t.auth,"web-storage-unsupported"))}),t.pollUserCancellation()})()}get eventId(){var t;return(null===(t=this.authWindow)||void 0===t?void 0:t.associatedEvent)||null}cancel(){this.reject(m(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,t.currentPopupAction=null}pollUserCancellation(){const t=()=>{var e,n;this.pollId=(null===(n=null===(e=this.authWindow)||void 0===e?void 0:e.window)||void 0===n?void 0:n.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(m(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(t,bi.get())};t()}}return t.currentPopupAction=null,t})();const xi=new Map;class ki extends vi{constructor(t,e,n=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,n),this.eventId=null}execute(){var t=()=>super.execute,e=this;return(0,i.Z)(function*(){let n=xi.get(e.auth._key());if(!n){try{const i=(yield function(t,e){return Ti.apply(this,arguments)}(e.resolver,e.auth))?yield t().call(e):null;n=()=>Promise.resolve(i)}catch(i){n=()=>Promise.reject(i)}xi.set(e.auth._key(),n)}return n()})()}onAuthEvent(t){var e=()=>super.onAuthEvent,n=this;return(0,i.Z)(function*(){if("signInViaRedirect"===t.type)return e().call(n,t);if("unknown"!==t.type){if(t.eventId){const i=yield n.auth._redirectUserForId(t.eventId);if(i)return n.user=i,e().call(n,t);n.resolve(null)}}else n.resolve(null)})()}onExecution(){return(0,i.Z)(function*(){})()}cleanUp(){}}function Ti(){return(Ti=(0,i.Z)(function*(t,e){const n=Ri(e),i="true"===(yield Di(t)._get(n));return yield Di(t)._remove(n),i})).apply(this,arguments)}function Ii(t,e){return Ai.apply(this,arguments)}function Ai(){return(Ai=(0,i.Z)(function*(t,e){return Di(t)._set(Ri(e),"true")})).apply(this,arguments)}function Di(t){return E(t._redirectPersistence)}function Ri(t){return dt("pendingRedirect",t.config.apiKey,t.name)}function Oi(){return(Oi=(0,i.Z)(function*(t,e,n){const i=kt(t);_(t,e,ce);const r=pi(i,n);return yield Ii(r,i),r._openRedirect(i,e,"signInViaRedirect")})).apply(this,arguments)}function Pi(){return(Pi=(0,i.Z)(function*(t,e,n){const i=(0,s.m9)(t);_(i.auth,e,ce);const r=pi(i.auth,n);yield Ii(r,i.auth);const o=yield Bi(i);return r._openRedirect(i.auth,e,"reauthViaRedirect",o)})).apply(this,arguments)}function Ni(){return(Ni=(0,i.Z)(function*(t,e,n){const i=(0,s.m9)(t);_(i.auth,e,ce);const r=pi(i.auth,n);yield Ie(!1,i,e.providerId),yield Ii(r,i.auth);const o=yield Bi(i);return r._openRedirect(i.auth,e,"linkViaRedirect",o)})).apply(this,arguments)}function Fi(){return(Fi=(0,i.Z)(function*(t,e){return yield kt(t)._initializationPromise,Li(t,e,!1)})).apply(this,arguments)}function Li(t,e){return Mi.apply(this,arguments)}function Mi(){return(Mi=(0,i.Z)(function*(t,e,n=!1){const i=kt(t),r=pi(i,e),s=new ki(i,r,n),o=yield s.execute();return o&&!n&&(delete o.user._redirectEventId,yield i._persistUserIfCurrent(o.user),yield i._setRedirectUser(null,e)),o})).apply(this,arguments)}function Bi(t){return Vi.apply(this,arguments)}function Vi(){return(Vi=(0,i.Z)(function*(t){const e=An(`${t.uid}:::`);return t._redirectEventId=e,yield t.auth._setRedirectUser(t),yield t.auth._persistUserIfCurrent(t),e})).apply(this,arguments)}class Ui{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(t,n)&&(e=!0,this.sendToConsumer(t,n),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!function(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return qi(t);default:return!1}}(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){var n;if(t.error&&!qi(t)){const i=(null===(n=t.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";e.onError(m(this.auth,i))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const n=null===e.eventId||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&n}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ji(t))}saveEventToCache(t){this.cachedEventUids.add(ji(t)),this.lastProcessedEventTime=Date.now()}}function ji(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(t=>t).join("-")}function qi({type:t,error:e}){return"unknown"===t&&"auth/no-auth-event"===(null==e?void 0:e.code)}function zi(t){return Hi.apply(this,arguments)}function Hi(){return(Hi=(0,i.Z)(function*(t,e={}){return P(t,"GET","/v1/projects",e)})).apply(this,arguments)}const Gi=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,$i=/^https?/;function Zi(){return(Zi=(0,i.Z)(function*(t){if(t.config.emulator)return;const{authorizedDomains:e}=yield zi(t);for(const i of e)try{if(Yi(i))return}catch(n){}f(t,"unauthorized-domain")})).apply(this,arguments)}function Yi(t){const e=S(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const r=new URL(t);return""===r.hostname&&""===i?"chrome-extension:"===n&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===n&&r.hostname===i}if(!$i.test(n))return!1;if(Gi.test(t))return i===t;const r=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}const Wi=new T(3e4,6e4);function Ki(){const t=Rn().___jsl;if(null==t?void 0:t.H)for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}let Qi=null;function Ji(t){return Qi=Qi||function(t){return new Promise((e,n)=>{var i,r,s;function o(){Ki(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Ki(),n(m(t,"network-request-failed"))},timeout:Wi.get()})}if(null===(r=null===(i=Rn().gapi)||void 0===i?void 0:i.iframes)||void 0===r?void 0:r.Iframe)e(gapi.iframes.getContext());else{if(!(null===(s=Rn().gapi)||void 0===s?void 0:s.load)){const e=Yn("iframefcb");return Rn()[e]=()=>{gapi.load?o():n(m(t,"network-request-failed"))},Zn(`https://apis.google.com/js/api.js?onload=${e}`)}o()}}).catch(t=>{throw Qi=null,t})}(t),Qi}const Xi=new T(5e3,15e3),tr={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},er=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function nr(t){const e=t.config;v(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?I(e,"emulator/auth/iframe"):`https://${t.config.authDomain}/__/auth/iframe`,i={apiKey:e.apiKey,appName:t.name,v:o.SDK_VERSION},r=er.get(t.config.apiHost);r&&(i.eid=r);const a=t._getFrameworks();return a.length&&(i.fw=a.join(",")),`${n}?${(0,s.xO)(i).slice(1)}`}function ir(){return(ir=(0,i.Z)(function*(t){const e=yield Ji(t),n=Rn().gapi;return v(n,t,"internal-error"),e.open({where:document.body,url:nr(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:tr,dontclear:!0},e=>new Promise(function(){var n=(0,i.Z)(function*(n,i){yield e.restyle({setHideOnLeave:!1});const r=m(t,"network-request-failed"),s=Rn().setTimeout(()=>{i(r)},Xi.get());function o(){Rn().clearTimeout(s),n(e)}e.ping(o).then(o,()=>{i(r)})});return function(t,e){return n.apply(this,arguments)}}()))})).apply(this,arguments)}const rr={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class sr{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(t){}}}function or(t,e,n,i,r,a){v(t.config.authDomain,t,"auth-domain-config-required"),v(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:o.SDK_VERSION,eventId:r};if(e instanceof ce){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",(0,s.xb)(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[t,e]of Object.entries(a||{}))l[t]=e}if(e instanceof ue){const t=e.getScopes().filter(t=>""!==t);t.length>0&&(l.scopes=t.join(","))}t.tenantId&&(l.tid=t.tenantId);const c=l;for(const s of Object.keys(c))void 0===c[s]&&delete c[s];return`${function({config:t}){return t.emulator?I(t,"emulator/auth/handler"):`https://${t.authDomain}/__/auth/handler`}(t)}?${(0,s.xO)(c).slice(1)}`}const ar="webStorageSupport";class lr extends class{constructor(t){this.factorId=t}_process(t,e,n){switch(e.type){case"enroll":return this._finalizeEnroll(t,e.credential,n);case"signin":return this._finalizeSignIn(t,e.credential);default:return b("unexpected MultiFactorSessionType")}}}{constructor(t){super("phone"),this.credential=t}static _fromCredential(t){return new lr(t)}_finalizeEnroll(t,e,n){return function(t,e){return P(t,"POST","/v2/accounts/mfaEnrollment:finalize",Object.assign({tenantId:t.tenantId},e))}(t,{idToken:e,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(t,e){return function(t,e){return P(t,"POST","/v2/accounts/mfaSignIn:finalize",Object.assign({tenantId:t.tenantId},e))}(t,{mfaPendingCredential:e,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}var cr;class ur{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),(null===(t=this.auth.currentUser)||void 0===t?void 0:t.uid)||null}getToken(t){var e=this;return(0,i.Z)(function*(){return e.assertAuthConfigured(),yield e.auth._initializationPromise,e.auth.currentUser?{accessToken:yield e.auth.currentUser.getIdToken(t)}:null})()}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(e=>{var n;t((null===(n=e)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){v(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function hr(){return window}function dr(){return(dr=(0,i.Z)(function*(t,e,n){var i;const{BuildInfo:r}=hr();w(e.sessionId,"AuthEvent did not contain a session ID");const s=yield mr(e.sessionId),o={};return Ct()?o.ibi=r.packageName:vt()?o.apn=r.packageName:f(t,"operation-not-supported-in-this-environment"),r.displayName&&(o.appDisplayName=r.displayName),o.sessionId=s,or(t,n,e.type,void 0,null!==(i=e.eventId)&&void 0!==i?i:void 0,o)})).apply(this,arguments)}function pr(){return(pr=(0,i.Z)(function*(t){const{BuildInfo:e}=hr(),n={};Ct()?n.iosBundleId=e.packageName:vt()?n.androidPackageName=e.packageName:f(t,"operation-not-supported-in-this-environment"),yield zi(t,n)})).apply(this,arguments)}function fr(){return(fr=(0,i.Z)(function*(t,e,n){const{cordova:i}=hr();let r=()=>{};try{yield new Promise((s,o)=>{let a=null;function l(){var t;s();const e=null===(t=i.plugins.browsertab)||void 0===t?void 0:t.close;"function"==typeof e&&e(),"function"==typeof(null==n?void 0:n.close)&&n.close()}function c(){a||(a=window.setTimeout(()=>{o(m(t,"redirect-cancelled-by-user"))},2e3))}function u(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}e.addPassiveListener(l),document.addEventListener("resume",c,!1),vt()&&document.addEventListener("visibilitychange",u,!1),r=()=>{e.removePassiveListener(l),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",u,!1),a&&window.clearTimeout(a)}})}finally{r()}})).apply(this,arguments)}function mr(t){return gr.apply(this,arguments)}function gr(){return(gr=(0,i.Z)(function*(t){const e=_r(t),n=yield crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(n)).map(t=>t.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function _r(t){if(w(/[0-9a-zA-Z]+/.test(t),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(t);const e=new ArrayBuffer(t.length),n=new Uint8Array(e);for(let i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n}cr="Browser",(0,o._registerComponent)(new c.wA("auth",(t,{options:e})=>{const n=t.getProvider("app").getImmediate(),{apiKey:i,authDomain:r}=n.options;return(t=>{v(i&&!i.includes(":"),"invalid-api-key",{appName:t.name}),v(!(null==r?void 0:r.includes(":")),"argument-error",{appName:t.name});const n={apiKey:i,authDomain:r,clientPlatform:cr,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:St(cr)},s=new xt(t,n);return function(t,e){const n=(null==e?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(E);(null==e?void 0:e.errorMap)&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,null==e?void 0:e.popupRedirectResolver)}(s,e),s})(n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider("auth-internal").initialize()})),(0,o._registerComponent)(new c.wA("auth-internal",t=>{return e=kt(t.getProvider("auth").getImmediate()),new ur(e);var e},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,o.registerVersion)("@firebase/auth","0.17.2",void 0);class yr extends Ui{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(t=>{this.resolveInialized=t})}addPassiveListener(t){this.passiveListeners.add(t)}removePassiveListener(t){this.passiveListeners.delete(t)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(t){return this.resolveInialized(),this.passiveListeners.forEach(e=>e(t)),super.onEvent(t)}initialized(){var t=this;return(0,i.Z)(function*(){yield t.initPromise})()}}function vr(t){return br.apply(this,arguments)}function br(){return(br=(0,i.Z)(function*(t){const e=yield Cr()._get(Er(t));return e&&(yield Cr()._remove(Er(t))),e})).apply(this,arguments)}function wr(){const t=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<20;n++){const n=Math.floor(Math.random()*e.length);t.push(e.charAt(n))}return t.join("")}function Cr(){return E(kn)}function Er(t){return dt("authEvent",t.config.apiKey,t.name)}function Sr(t){if(!(null==t?void 0:t.includes("?")))return{};const[e,...n]=t.split("?");return(0,s.zd)(n.join("?"))}function xr(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:m("no-auth-event")}}function kr(){var t;return(null===(t=null===self||void 0===self?void 0:self.location)||void 0===t?void 0:t.protocol)||null}function Tr(t=(0,s.z$)()){return!("file:"!==kr()&&"ionic:"!==kr()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function Ir(){try{const t=self.localStorage,e=An();if(t)return t.setItem(e,"1"),t.removeItem(e),!function(t=(0,s.z$)()){return(0,s.w1)()&&11===(null===document||void 0===document?void 0:document.documentMode)||function(t=(0,s.z$)()){return/Edge\/\d+/.test(t)}(t)}()||(0,s.hl)()}catch(t){return Ar()&&(0,s.hl)()}return!1}function Ar(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Dr(){return("http:"===kr()||"https:"===kr()||(0,s.ru)()||Tr())&&!((0,s.b$)()||(0,s.UG)())&&Ir()&&!Ar()}function Rr(){return Tr()&&"undefined"!=typeof document}function Or(){return(Or=(0,i.Z)(function*(){return!!Rr()&&new Promise(t=>{const e=setTimeout(()=>{t(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(e),t(!0)})})})).apply(this,arguments)}const Pr={LOCAL:"local",NONE:"none",SESSION:"session"},Nr=v,Fr="persistence";function Lr(t){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,i.Z)(function*(t){yield t._initializationPromise;const e=Br(),n=dt(Fr,t.config.apiKey,t.name);(null==e?void 0:e.sessionStorage)&&e.sessionStorage.setItem(n,t._getPersistence())})).apply(this,arguments)}function Br(){return"undefined"!=typeof window?window:null}const Vr=v;class Ur{constructor(){this.browserResolver=E(class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Tn,this._completeRedirectFn=Li}_openPopup(t,e,n,r){var o=this;return(0,i.Z)(function*(){var i;w(null===(i=o.eventManagers[t._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");const a=or(t,e,n,S(),r);return function(t,e,n,i=500,r=600){const o=Math.max((window.screen.availHeight-r)/2,0).toString(),a=Math.max((window.screen.availWidth-i)/2,0).toString();let l="";const c=Object.assign(Object.assign({},rr),{width:i.toString(),height:r.toString(),top:o,left:a}),u=(0,s.z$)().toLowerCase();n&&(l=_t(u)?"_blank":n),mt(u)&&(e=e||"http://localhost",c.scrollbars="yes");const h=Object.entries(c).reduce((t,[e,n])=>`${t}${e}=${n},`,"");if(function(t=(0,s.z$)()){var e;return Ct(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(u)&&"_self"!==l)return function(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}(e||"",l),new sr(null);const d=window.open(e||"",l,h);v(d,t,"popup-blocked");try{d.focus()}catch(p){}return new sr(d)}(t,a,An())})()}_openRedirect(t,e,n,r){var s=this;return(0,i.Z)(function*(){var i;return yield s._originValidation(t),i=or(t,e,n,S(),r),Rn().location.href=i,new Promise(()=>{})})()}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:t,promise:n}=this.eventManagers[e];return t?Promise.resolve(t):(w(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(t);return this.eventManagers[e]={promise:n},n}initAndGetManager(t){var e=this;return(0,i.Z)(function*(){const n=yield function(t){return ir.apply(this,arguments)}(t),i=new Ui(t);return n.register("authEvent",e=>(v(null==e?void 0:e.authEvent,t,"invalid-auth-event"),{status:i.onEvent(e.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),e.eventManagers[t._key()]={manager:i},e.iframes[t._key()]=n,i})()}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(ar,{type:ar},n=>{var i;const r=null===(i=null==n?void 0:n[0])||void 0===i?void 0:i.webStorageSupport;void 0!==r&&e(!!r),f(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=function(t){return Zi.apply(this,arguments)}(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return Et()||gt()||Ct()}}),this.cordovaResolver=E(class{constructor(){this._redirectPersistence=Tn,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Li}_initialize(t){var e=this;return(0,i.Z)(function*(){const n=t._key();let i=e.eventManagers.get(n);return i||(i=new yr(t),e.eventManagers.set(n,i),e.attachCallbackListeners(t,i)),i})()}_openPopup(t){f(t,"operation-not-supported-in-this-environment")}_openRedirect(t,e,n,r){var o=this;return(0,i.Z)(function*(){!function(t){var e,n,i,r,s,o,a,l,c,u;const h=hr();v("function"==typeof(null===(e=null==h?void 0:h.universalLinks)||void 0===e?void 0:e.subscribe),t,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),v(void 0!==(null===(n=null==h?void 0:h.BuildInfo)||void 0===n?void 0:n.packageName),t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),v("function"==typeof(null===(s=null===(r=null===(i=null==h?void 0:h.cordova)||void 0===i?void 0:i.plugins)||void 0===r?void 0:r.browsertab)||void 0===s?void 0:s.openUrl),t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),v("function"==typeof(null===(l=null===(a=null===(o=null==h?void 0:h.cordova)||void 0===o?void 0:o.plugins)||void 0===a?void 0:a.browsertab)||void 0===l?void 0:l.isAvailable),t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),v("function"==typeof(null===(u=null===(c=null==h?void 0:h.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===u?void 0:u.open),t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(t);const i=yield o._initialize(t);yield i.initialized(),i.resetRedirect(),xi.clear(),yield o._originValidation(t);const a=function(t,e,n=null){return{type:e,eventId:n,urlResponse:null,sessionId:wr(),postBody:null,tenantId:t.tenantId,error:m(t,"no-auth-event")}}(t,n,r);yield function(t,e){return Cr()._set(Er(t),e)}(t,a);const l=yield function(t,e,n){return dr.apply(this,arguments)}(t,a,e),c=yield function(t){const{cordova:e}=hr();return new Promise(n=>{e.plugins.browsertab.isAvailable(i=>{let r=null;i?e.plugins.browsertab.openUrl(t):r=e.InAppBrowser.open(t,function(t=(0,s.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(t)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(t)}()?"_blank":"_system","location=yes"),n(r)})})}(l);return function(t,e,n){return fr.apply(this,arguments)}(t,i,c)})()}_isIframeWebStorageSupported(t,e){throw new Error("Method not implemented.")}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=function(t){return pr.apply(this,arguments)}(t)),this.originValidationPromises[e]}attachCallbackListeners(t,e){const{universalLinks:n,handleOpenURL:r,BuildInfo:s}=hr(),o=setTimeout((0,i.Z)(function*(){yield vr(t),e.onEvent(xr())}),500),a=function(){var n=(0,i.Z)(function*(n){clearTimeout(o);const i=yield vr(t);let r=null;i&&(null==n?void 0:n.url)&&(r=function(t,e){var n,i;const r=function(t){const e=Sr(t),n=e.link?decodeURIComponent(e.link):void 0,i=Sr(n).link,r=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return Sr(r).link||r||i||n||t}(e);if(r.includes("/__/auth/callback")){const e=Sr(r),s=e.firebaseError?function(t){try{return JSON.parse(t)}catch(e){return null}}(decodeURIComponent(e.firebaseError)):null,o=null===(i=null===(n=null==s?void 0:s.code)||void 0===n?void 0:n.split("auth/"))||void 0===i?void 0:i[1],a=o?m(o):null;return a?{type:t.type,eventId:t.eventId,tenantId:t.tenantId,error:a,urlResponse:null,sessionId:null,postBody:null}:{type:t.type,eventId:t.eventId,tenantId:t.tenantId,sessionId:t.sessionId,urlResponse:r,postBody:null}}return null}(i,n.url)),e.onEvent(r||xr())});return function(t){return n.apply(this,arguments)}}();void 0!==n&&"function"==typeof n.subscribe&&n.subscribe(null,a);const l=r,c=`${s.packageName.toLowerCase()}://`;hr().handleOpenURL=function(){var t=(0,i.Z)(function*(t){if(t.toLowerCase().startsWith(c)&&a({url:t}),"function"==typeof l)try{l(t)}catch(e){console.error(e)}});return function(e){return t.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=Tn,this._completeRedirectFn=Li}_initialize(t){var e=this;return(0,i.Z)(function*(){return yield e.selectUnderlyingResolver(),e.assertedUnderlyingResolver._initialize(t)})()}_openPopup(t,e,n,r){var s=this;return(0,i.Z)(function*(){return yield s.selectUnderlyingResolver(),s.assertedUnderlyingResolver._openPopup(t,e,n,r)})()}_openRedirect(t,e,n,r){var s=this;return(0,i.Z)(function*(){return yield s.selectUnderlyingResolver(),s.assertedUnderlyingResolver._openRedirect(t,e,n,r)})()}_isIframeWebStorageSupported(t,e){this.assertedUnderlyingResolver._isIframeWebStorageSupported(t,e)}_originValidation(t){return this.assertedUnderlyingResolver._originValidation(t)}get _shouldInitProactively(){return Rr()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Vr(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var t=this;return(0,i.Z)(function*(){if(t.underlyingResolver)return;const e=yield function(){return Or.apply(this,arguments)}();t.underlyingResolver=e?t.cordovaResolver:t.browserResolver})()}}function jr(t){return t.unwrap()}function qr(t){return Hr(t)}function zr(t,e){var n;const i=null===(n=e.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===e.code)e.resolver=new Wr(t,function(t,e){var n;const i=(0,s.m9)(t),r=e;return v(e.operationType,i,"argument-error"),v(null===(n=r.serverResponse)||void 0===n?void 0:n.mfaPendingCredential,i,"argument-error"),bn._fromError(i,r)}(t,e));else if(i){const t=Hr(e),n=e;t&&(n.credential=t,n.tenantId=i.tenantId||void 0,n.email=i.email||void 0,n.phoneNumber=i.phoneNumber||void 0)}}function Hr(t){const{_tokenResponse:e}=t instanceof s.ZR?t.customData:t;if(!e)return null;if(!(t instanceof s.ZR)&&"temporaryProof"in e&&"phoneNumber"in e)return di.credentialFromResult(t);const n=e.providerId;if(!n||"password"===n)return null;let i;switch(n){case"google.com":i=pe;break;case"facebook.com":i=de;break;case"github.com":i=fe;break;case"twitter.com":i=ge;break;default:const{oauthIdToken:t,oauthAccessToken:r,oauthTokenSecret:s,pendingToken:o,nonce:a}=e;return r||s||t||o?o?n.startsWith("saml.")?me._create(n,o):Xt._fromParams({providerId:n,signInMethod:n,pendingToken:o,idToken:t,accessToken:r}):new he(n).credential({idToken:t,accessToken:r,rawNonce:a}):null}return t instanceof s.ZR?i.credentialFromError(t):i.credentialFromResult(t)}function Gr(t,e){return $r.apply(this,arguments)}function $r(){return($r=(0,i.Z)(function*(t,e){let n;try{n=yield e}catch(o){throw o instanceof s.ZR&&zr(t,o),o}const{operationType:i,user:r}=n;return{operationType:i,credential:qr(n),additionalUserInfo:yn(n),user:Kr.getOrCreate(r)}})).apply(this,arguments)}function Zr(t,e){return Yr.apply(this,arguments)}function Yr(){return(Yr=(0,i.Z)(function*(t,e){const n=yield e;return{verificationId:n.verificationId,confirm:e=>Gr(t,n.confirm(e))}})).apply(this,arguments)}class Wr{constructor(t,e){this.resolver=e,this.auth=t.wrapped()}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(t){return Gr(jr(this.auth),this.resolver.resolveSignIn(t))}}let Kr=(()=>{class t{constructor(t){this._delegate=t,this.multiFactor=function(t){const e=(0,s.m9)(t);return En.has(e)||En.set(e,Cn._fromUser(e)),En.get(e)}(t)}static getOrCreate(e){return t.USER_MAP.has(e)||t.USER_MAP.set(e,new t(e)),t.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(t){return this._delegate.getIdTokenResult(t)}getIdToken(t){return this._delegate.getIdToken(t)}linkAndRetrieveDataWithCredential(t){return this.linkWithCredential(t)}linkWithCredential(t){var e=this;return(0,i.Z)(function*(){return Gr(e.auth,Le(e._delegate,t))})()}linkWithPhoneNumber(t,e){var n=this;return(0,i.Z)(function*(){return Zr(n.auth,function(t,e,n){return ai.apply(this,arguments)}(n._delegate,t,e))})()}linkWithPopup(t){var e=this;return(0,i.Z)(function*(){return Gr(e.auth,function(t,e,n){return Ei.apply(this,arguments)}(e._delegate,t,Ur))})()}linkWithRedirect(t){var e=this;return(0,i.Z)(function*(){return yield Lr(kt(e.auth)),function(t,e,n){return function(t,e,n){return Ni.apply(this,arguments)}(t,e,n)}(e._delegate,t,Ur)})()}reauthenticateAndRetrieveDataWithCredential(t){return this.reauthenticateWithCredential(t)}reauthenticateWithCredential(t){var e=this;return(0,i.Z)(function*(){return Gr(e.auth,Be(e._delegate,t))})()}reauthenticateWithPhoneNumber(t,e){return Zr(this.auth,function(t,e,n){return li.apply(this,arguments)}(this._delegate,t,e))}reauthenticateWithPopup(t){return Gr(this.auth,function(t,e,n){return Ci.apply(this,arguments)}(this._delegate,t,Ur))}reauthenticateWithRedirect(t){var e=this;return(0,i.Z)(function*(){return yield Lr(kt(e.auth)),function(t,e,n){return function(t,e,n){return Pi.apply(this,arguments)}(t,e,n)}(e._delegate,t,Ur)})()}sendEmailVerification(t){return function(t,e){return sn.apply(this,arguments)}(this._delegate,t)}unlink(t){var e=this;return(0,i.Z)(function*(){return yield function(t,e){return xe.apply(this,arguments)}(e._delegate,t),e})()}updateEmail(t){return function(t,e){return un((0,s.m9)(t),e,null)}(this._delegate,t)}updatePassword(t){return function(t,e){return un((0,s.m9)(t),null,e)}(this._delegate,t)}updatePhoneNumber(t){return function(t,e){return hi.apply(this,arguments)}(this._delegate,t)}updateProfile(t){return function(t,e){return cn.apply(this,arguments)}(this._delegate,t)}verifyBeforeUpdateEmail(t,e){return function(t,e,n){return on.apply(this,arguments)}(this._delegate,t,e)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}return t.USER_MAP=new WeakMap,t})();const Qr=v;let Jr=(()=>{class t{constructor(t,e){if(this.app=t,e.isInitialized())return this._delegate=e.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:n}=t.options;Qr(n,"invalid-api-key",{appName:t.name});let i=[ht];if("undefined"!=typeof window){i=function(t,e){const n=Br();if(!(null==n?void 0:n.sessionStorage))return[];const i=dt(Fr,t,e);switch(n.sessionStorage.getItem(i)){case Pr.NONE:return[ht];case Pr.LOCAL:return[Hn,Tn];case Pr.SESSION:return[Tn];default:return[]}}(n,t.name);for(const t of[Hn,kn,Tn])i.includes(t)||i.push(t)}Qr(n,"invalid-api-key",{appName:t.name});const r="undefined"!=typeof window?Ur:void 0;this._delegate=e.initialize({options:{persistence:i,popupRedirectResolver:r}}),this._delegate._updateErrorMap(u),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Kr.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(t){this._delegate.languageCode=t}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(t){this._delegate.tenantId=t}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(t,e){!function(t,e,n){const i=kt(t);v(i._canInitEmulator,i,"emulator-config-failed"),v(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const r=!!(null==n?void 0:n.disableWarnings),s=It(e),{host:o,port:a}=function(t){const e=It(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const t=r[1];return{host:t,port:At(i.substr(t.length+1))}}{const[t,e]=i.split(":");return{host:t,port:At(e)}}}(e);i.config.emulator={url:`${s}//${o}${null===a?"":`:${a}`}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})}),function(t){function e(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"==typeof window||"undefined"==typeof document||t||("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}(r)}(this._delegate,t,e)}applyActionCode(t){return function(t,e){return Ye.apply(this,arguments)}(this._delegate,t)}checkActionCode(t){return We(this._delegate,t)}confirmPasswordReset(t,e){return function(t,e,n){return Ze.apply(this,arguments)}(this._delegate,t,e)}createUserWithEmailAndPassword(t,e){var n=this;return(0,i.Z)(function*(){return Gr(n._delegate,function(t,e,n){return Je.apply(this,arguments)}(n._delegate,t,e))})()}fetchProvidersForEmail(t){return this.fetchSignInMethodsForEmail(t)}fetchSignInMethodsForEmail(t){return function(t,e){return rn.apply(this,arguments)}(this._delegate,t)}isSignInWithEmailLink(t){return function(t,e){const n=ae.parseLink(e);return"EMAIL_SIGNIN"===(null==n?void 0:n.operation)}(0,t)}getRedirectResult(){var t=this;return(0,i.Z)(function*(){Qr(Dr(),t._delegate,"operation-not-supported-in-this-environment");const e=yield function(t,e){return Fi.apply(this,arguments)}(t._delegate,Ur);return e?Gr(t._delegate,Promise.resolve(e)):{credential:null,user:null}})()}addFrameworkForLogging(t){!function(t,e){kt(t)._logFramework(e)}(this._delegate,t)}onAuthStateChanged(t,e,n){const{next:i,error:r,complete:s}=Xr(t,e,n);return this._delegate.onAuthStateChanged(i,r,s)}onIdTokenChanged(t,e,n){const{next:i,error:r,complete:s}=Xr(t,e,n);return this._delegate.onIdTokenChanged(i,r,s)}sendSignInLinkToEmail(t,e){return function(t,e,n){return Xe.apply(this,arguments)}(this._delegate,t,e)}sendPasswordResetEmail(t,e){return function(t,e,n){return $e.apply(this,arguments)}(this._delegate,t,e||void 0)}setPersistence(t){var e=this;return(0,i.Z)(function*(){let n;switch(function(t,e){Nr(Object.values(Pr).includes(e),t,"invalid-persistence-type"),(0,s.b$)()?Nr(e!==Pr.SESSION,t,"unsupported-persistence-type"):(0,s.UG)()?Nr(e===Pr.NONE,t,"unsupported-persistence-type"):Ar()?Nr(e===Pr.NONE||e===Pr.LOCAL&&(0,s.hl)(),t,"unsupported-persistence-type"):Nr(e===Pr.NONE||Ir(),t,"unsupported-persistence-type")}(e._delegate,t),t){case Pr.SESSION:n=Tn;break;case Pr.LOCAL:n=(yield E(Hn)._isAvailable())?Hn:kn;break;case Pr.NONE:n=ht;break;default:return f("argument-error",{appName:e._delegate.name})}return e._delegate.setPersistence(n)})()}signInAndRetrieveDataWithCredential(t){return this.signInWithCredential(t)}signInAnonymously(){return Gr(this._delegate,function(t){return we.apply(this,arguments)}(this._delegate))}signInWithCredential(t){return Gr(this._delegate,Ne(this._delegate,t))}signInWithCustomToken(t){return Gr(this._delegate,function(t,e){return qe.apply(this,arguments)}(this._delegate,t))}signInWithEmailAndPassword(t,e){return Gr(this._delegate,function(t,e,n){return Ne((0,s.m9)(t),le.credential(e,n))}(this._delegate,t,e))}signInWithEmailLink(t,e){return Gr(this._delegate,function(t,e,n){return tn.apply(this,arguments)}(this._delegate,t,e))}signInWithPhoneNumber(t,e){return Zr(this._delegate,function(t,e,n){return oi.apply(this,arguments)}(this._delegate,t,e))}signInWithPopup(t){var e=this;return(0,i.Z)(function*(){return Qr(Dr(),e._delegate,"operation-not-supported-in-this-environment"),Gr(e._delegate,function(t,e,n){return wi.apply(this,arguments)}(e._delegate,t,Ur))})()}signInWithRedirect(t){var e=this;return(0,i.Z)(function*(){return Qr(Dr(),e._delegate,"operation-not-supported-in-this-environment"),yield Lr(e._delegate),function(t,e,n){return function(t,e,n){return Oi.apply(this,arguments)}(t,e,n)}(e._delegate,t,Ur)})()}updateCurrentUser(t){return this._delegate.updateCurrentUser(t)}verifyPasswordResetCode(t){return function(t,e){return Qe.apply(this,arguments)}(this._delegate,t)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return t.Persistence=Pr,t})();function Xr(t,e,n){let i=t;"function"!=typeof t&&({next:i,error:e,complete:n}=t);const r=i;return{next:t=>r(t&&Kr.getOrCreate(t)),error:e,complete:n}}let ts=(()=>{class t{constructor(){this.providerId="phone",this._delegate=new di(jr(r.Z.auth()))}static credential(t,e){return di.credential(t,e)}verifyPhoneNumber(t,e){return this._delegate.verifyPhoneNumber(t,e)}unwrap(){return this._delegate}}return t.PHONE_SIGN_IN_METHOD=di.PHONE_SIGN_IN_METHOD,t.PROVIDER_ID=di.PROVIDER_ID,t})();const es=v;var ns;(ns=r.Z).INTERNAL.registerComponent(new c.wA("auth-compat",t=>{const e=t.getProvider("app-compat").getImmediate(),n=t.getProvider("auth");return new Jr(e,n)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:le,FacebookAuthProvider:de,GithubAuthProvider:fe,GoogleAuthProvider:pe,OAuthProvider:he,PhoneAuthProvider:ts,PhoneMultiFactorGenerator:class{constructor(){}static assertion(t){return lr._fromCredential(t)}},RecaptchaVerifier:class{constructor(t,e,n=r.Z.app()){var i;es(null===(i=n.options)||void 0===i?void 0:i.apiKey,"invalid-api-key",{appName:n.name}),this._delegate=new ri(t,e,n.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}},TwitterAuthProvider:ge,Auth:Jr,AuthCredential:Dt,Error:s.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),ns.registerVersion("@firebase/auth-compat","0.1.2")},2087:function(t,e){!function(t){"use strict";function e(t){return Array.prototype.slice.call(t)}function n(t){return new Promise(function(e,n){t.onsuccess=function(){e(t.result)},t.onerror=function(){n(t.error)}})}function i(t,e,i){var r,s=new Promise(function(s,o){n(r=t[e].apply(t,i)).then(s,o)});return s.request=r,s}function r(t,e,n){var r=i(t,e,n);return r.then(function(t){if(t)return new u(t,r.request)})}function s(t,e,n){n.forEach(function(n){Object.defineProperty(t.prototype,n,{get:function(){return this[e][n]},set:function(t){this[e][n]=t}})})}function o(t,e,n,r){r.forEach(function(r){r in n.prototype&&(t.prototype[r]=function(){return i(this[e],r,arguments)})})}function a(t,e,n,i){i.forEach(function(i){i in n.prototype&&(t.prototype[i]=function(){return this[e][i].apply(this[e],arguments)})})}function l(t,e,n,i){i.forEach(function(i){i in n.prototype&&(t.prototype[i]=function(){return r(this[e],i,arguments)})})}function c(t){this._index=t}function u(t,e){this._cursor=t,this._request=e}function h(t){this._store=t}function d(t){this._tx=t,this.complete=new Promise(function(e,n){t.oncomplete=function(){e()},t.onerror=function(){n(t.error)},t.onabort=function(){n(t.error)}})}function p(t,e,n){this._db=t,this.oldVersion=e,this.transaction=new d(n)}function f(t){this._db=t}s(c,"_index",["name","keyPath","multiEntry","unique"]),o(c,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),l(c,"_index",IDBIndex,["openCursor","openKeyCursor"]),s(u,"_cursor",["direction","key","primaryKey","value"]),o(u,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(t){t in IDBCursor.prototype&&(u.prototype[t]=function(){var e=this,i=arguments;return Promise.resolve().then(function(){return e._cursor[t].apply(e._cursor,i),n(e._request).then(function(t){if(t)return new u(t,e._request)})})})}),h.prototype.createIndex=function(){return new c(this._store.createIndex.apply(this._store,arguments))},h.prototype.index=function(){return new c(this._store.index.apply(this._store,arguments))},s(h,"_store",["name","keyPath","indexNames","autoIncrement"]),o(h,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),l(h,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),a(h,"_store",IDBObjectStore,["deleteIndex"]),d.prototype.objectStore=function(){return new h(this._tx.objectStore.apply(this._tx,arguments))},s(d,"_tx",["objectStoreNames","mode"]),a(d,"_tx",IDBTransaction,["abort"]),p.prototype.createObjectStore=function(){return new h(this._db.createObjectStore.apply(this._db,arguments))},s(p,"_db",["name","version","objectStoreNames"]),a(p,"_db",IDBDatabase,["deleteObjectStore","close"]),f.prototype.transaction=function(){return new d(this._db.transaction.apply(this._db,arguments))},s(f,"_db",["name","version","objectStoreNames"]),a(f,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(t){[h,c].forEach(function(n){t in n.prototype&&(n.prototype[t.replace("open","iterate")]=function(){var n=e(arguments),i=n[n.length-1],r=this._store||this._index,s=r[t].apply(r,n.slice(0,-1));s.onsuccess=function(){i(s.result)}})})}),[c,h].forEach(function(t){t.prototype.getAll||(t.prototype.getAll=function(t,e){var n=this,i=[];return new Promise(function(r){n.iterateCursor(t,function(t){t?(i.push(t.value),void 0===e||i.length!=e?t.continue():r(i)):r(i)})})})}),t.openDb=function(t,e,n){var r=i(indexedDB,"open",[t,e]),s=r.request;return s&&(s.onupgradeneeded=function(t){n&&n(new p(s.result,t.oldVersion,s.transaction))}),r.then(function(t){return new f(t)})},t.deleteDb=function(t){return i(indexedDB,"deleteDatabase",[t])},Object.defineProperty(t,"__esModule",{value:!0})}(e)},8512:(t,e,n)=>{"use strict";n.d(e,{X:()=>s});var i=n(5959),r=n(3895);class s extends i.xQ{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new r.N;return this._value}next(t){super.next(this._value=t)}}},8318:(t,e,n)=>{"use strict";n.d(e,{y:()=>c});var i=n(6673),r=n(5331),s=n(7498),o=n(6197),a=n(3392),l=n(1484);let c=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:o}=this,a=function(t,e,n){if(t){if(t instanceof i.L)return t;if(t[r.b])return t[r.b]()}return t||e||n?new i.L(t,e,n):new i.L(s.c)}(t,e,n);if(a.add(o?o.call(a,this.source):this.source||l.v.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),l.v.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(t){try{return this._subscribe(t)}catch(e){l.v.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:r}=t;if(e||r)return!1;t=n&&n instanceof i.L?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=u(e))((e,n)=>{let i;i=this.subscribe(e=>{try{t(e)}catch(r){n(r),i&&i.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[o.L](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?a.y:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=u(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function u(t){if(t||(t=l.v.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},7498:(t,e,n)=>{"use strict";n.d(e,{c:()=>s});var i=n(1484),r=n(4294);const s={closed:!0,next(t){},error(t){if(i.v.useDeprecatedSynchronousErrorHandling)throw t;(0,r.z)(t)},complete(){}}},9829:(t,e,n)=>{"use strict";n.d(e,{L:()=>r});var i=n(6673);class r extends i.L{notifyNext(t,e,n,i,r){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}},5959:(t,e,n)=>{"use strict";n.d(e,{Yc:()=>c,xQ:()=>u});var i=n(8318),r=n(6673),s=n(7570),o=n(3895),a=n(9291),l=n(5331);class c extends r.L{constructor(t){super(t),this.destination=t}}let u=(()=>{class t extends i.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[l.b](){return new c(this)}lift(t){const e=new h(this,this);return e.operator=t,e}next(t){if(this.closed)throw new o.N;if(!this.isStopped){const{observers:e}=this,n=e.length,i=e.slice();for(let r=0;r<n;r++)i[r].next(t)}}error(t){if(this.closed)throw new o.N;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,i=e.slice();for(let r=0;r<n;r++)i[r].error(t);this.observers.length=0}complete(){if(this.closed)throw new o.N;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let i=0;i<e;i++)n[i].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new o.N;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new o.N;return this.hasError?(t.error(this.thrownError),s.w.EMPTY):this.isStopped?(t.complete(),s.w.EMPTY):(this.observers.push(t),new a.W(this,t))}asObservable(){const t=new i.y;return t.source=this,t}}return t.create=(t,e)=>new h(t,e),t})();class h extends u{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):s.w.EMPTY}}},9291:(t,e,n)=>{"use strict";n.d(e,{W:()=>r});var i=n(7570);class r extends i.w{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},6673:(t,e,n)=>{"use strict";n.d(e,{L:()=>c});var i=n(5024),r=n(7498),s=n(7570),o=n(5331),a=n(1484),l=n(4294);class c extends s.w{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=r.c;break;case 1:if(!t){this.destination=r.c;break}if("object"==typeof t){t instanceof c?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new u(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new u(this,t,e,n)}}[o.b](){return this}static create(t,e,n){const i=new c(t,e,n);return i.syncErrorThrowable=!1,i}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class u extends c{constructor(t,e,n,s){let o;super(),this._parentSubscriber=t;let a=this;(0,i.m)(e)?o=e:e&&(o=e.next,n=e.error,s=e.complete,e!==r.c&&(a=Object.create(e),(0,i.m)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=o,this._error=n,this._complete=s}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;a.v.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=a.v;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):(0,l.z)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;(0,l.z)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);a.v.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),a.v.useDeprecatedSynchronousErrorHandling)throw n;(0,l.z)(n)}}__tryOrSetError(t,e,n){if(!a.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(i){return a.v.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=i,t.syncErrorThrown=!0,!0):((0,l.z)(i),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},7570:(t,e,n)=>{"use strict";n.d(e,{w:()=>a});var i=n(8470),r=n(2056),s=n(5024);const o=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let a=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:a,_unsubscribe:c,_subscriptions:u}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if((0,s.m)(c)){a&&(this._unsubscribe=void 0);try{c.call(this)}catch(h){e=h instanceof o?l(h.errors):[h]}}if((0,i.k)(u)){let t=-1,n=u.length;for(;++t<n;){const n=u[t];if((0,r.K)(n))try{n.unsubscribe()}catch(h){e=e||[],h instanceof o?e=e.concat(l(h.errors)):e.push(h)}}}if(e)throw new o(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:i}=n;if(null===i)n._parentOrParents=this;else if(i instanceof t){if(i===this)return n;n._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return n;i.push(this)}const r=this._subscriptions;return null===r?this._subscriptions=[n]:r.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var e;return t.EMPTY=((e=new t).closed=!0,e),t})();function l(t){return t.reduce((t,e)=>t.concat(e instanceof o?e.errors:e),[])}},1484:(t,e,n)=>{"use strict";n.d(e,{v:()=>r});let i=!1;const r={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else i&&console.log("RxJS: Back to a better error behavior. Thank you. <3");i=t},get useDeprecatedSynchronousErrorHandling(){return i}}},6882:(t,e,n)=>{"use strict";n.d(e,{IY:()=>o,Ds:()=>a,ft:()=>l});var i=n(6673),r=n(8318),s=n(6015);class o extends i.L{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class a extends i.L{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function l(t,e){if(e.closed)return;if(t instanceof r.y)return t.subscribe(e);let n;try{n=(0,s.s)(t)(e)}catch(i){e.error(i)}return n}},2875:(t,e,n)=>{"use strict";n.d(e,{c:()=>a,N:()=>l});var i=n(5959),r=n(8318),s=n(7570),o=n(1564);class a extends r.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new s.w,t.add(this.source.subscribe(new c(this.getSubject(),this))),t.closed&&(this._connection=null,t=s.w.EMPTY)),t}refCount(){return(0,o.x)()(this)}}const l=(()=>{const t=a.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class c extends i.Yc{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}},1305:(t,e,n)=>{"use strict";n.d(e,{aj:()=>c});var i=n(6163),r=n(8470),s=n(9829),o=n(7e3),a=n(9342);const l={};function c(...t){let e,n;return(0,i.K)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&(0,r.k)(t[0])&&(t=t[0]),(0,a.n)(t,n).lift(new u(e))}class u{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new h(t,this.resultSelector))}}class h extends s.L{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(l),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++)this.add((0,o.D)(this,t[n],void 0,n))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n){const i=this.values,r=this.toRespond?i[n]===l?--this.toRespond:this.toRespond:0;i[n]=e,0===r&&(this.resultSelector?this._tryResultSelector(i):this.destination.next(i.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},7930:(t,e,n)=>{"use strict";n.d(e,{z:()=>s});var i=n(878),r=n(7471);function s(...t){return(0,r.J)(1)((0,i.of)(...t))}},1450:(t,e,n)=>{"use strict";n.d(e,{P:()=>o});var i=n(8318),r=n(9764),s=n(653);function o(t){return new i.y(e=>{let n;try{n=t()}catch(i){return void e.error(i)}return(n?(0,r.D)(n):(0,s.c)()).subscribe(e)})}},653:(t,e,n)=>{"use strict";n.d(e,{E:()=>r,c:()=>s});var i=n(8318);const r=new i.y(t=>t.complete());function s(t){return t?function(t){return new i.y(e=>t.schedule(()=>e.complete()))}(t):r}},3148:(t,e,n)=>{"use strict";n.d(e,{D:()=>l});var i=n(8318),r=n(8470),s=n(9996),o=n(2056),a=n(9764);function l(...t){if(1===t.length){const e=t[0];if((0,r.k)(e))return c(e,null);if((0,o.K)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return c(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return c(t=1===t.length&&(0,r.k)(t[0])?t[0]:t,null).pipe((0,s.U)(t=>e(...t)))}return c(t,null)}function c(t,e){return new i.y(n=>{const i=t.length;if(0===i)return void n.complete();const r=new Array(i);let s=0,o=0;for(let l=0;l<i;l++){const c=(0,a.D)(t[l]);let u=!1;n.add(c.subscribe({next:t=>{u||(u=!0,o++),r[l]=t},error:t=>n.error(t),complete:()=>{s++,s!==i&&u||(o===i&&n.next(e?e.reduce((t,e,n)=>(t[e]=r[n],t),{}):r),n.complete())}}))}})}},9764:(t,e,n)=>{"use strict";n.d(e,{D:()=>h});var i=n(8318),r=n(6015),s=n(7570),o=n(6197),a=n(2570),l=n(5686),c=n(5168),u=n(9653);function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[o.L]}(t))return function(t,e){return new i.y(n=>{const i=new s.w;return i.add(e.schedule(()=>{const r=t[o.L]();i.add(r.subscribe({next(t){i.add(e.schedule(()=>n.next(t)))},error(t){i.add(e.schedule(()=>n.error(t)))},complete(){i.add(e.schedule(()=>n.complete()))}}))})),i})}(t,e);if((0,c.t)(t))return function(t,e){return new i.y(n=>{const i=new s.w;return i.add(e.schedule(()=>t.then(t=>{i.add(e.schedule(()=>{n.next(t),i.add(e.schedule(()=>n.complete()))}))},t=>{i.add(e.schedule(()=>n.error(t)))}))),i})}(t,e);if((0,u.z)(t))return(0,a.r)(t,e);if(function(t){return t&&"function"==typeof t[l.hZ]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new i.y(n=>{const i=new s.w;let r;return i.add(()=>{r&&"function"==typeof r.return&&r.return()}),i.add(e.schedule(()=>{r=t[l.hZ](),i.add(e.schedule(function(){if(n.closed)return;let t,e;try{const n=r.next();t=n.value,e=n.done}catch(i){return void n.error(i)}e?n.complete():(n.next(t),this.schedule())}))})),i})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof i.y?t:new i.y((0,r.s)(t))}},9342:(t,e,n)=>{"use strict";n.d(e,{n:()=>o});var i=n(8318),r=n(625),s=n(2570);function o(t,e){return e?(0,s.r)(t,e):new i.y((0,r.V)(t))}},7254:(t,e,n)=>{"use strict";n.d(e,{R:()=>a});var i=n(8318),r=n(8470),s=n(5024),o=n(9996);function a(t,e,n,c){return(0,s.m)(n)&&(c=n,n=void 0),c?a(t,e,n).pipe((0,o.U)(t=>(0,r.k)(t)?c(...t):c(t))):new i.y(i=>{l(t,e,function(t){i.next(arguments.length>1?Array.prototype.slice.call(arguments):t)},i,n)})}function l(t,e,n,i,r){let s;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(t)){const i=t;t.addEventListener(e,n,r),s=()=>i.removeEventListener(e,n,r)}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(t)){const i=t;t.on(e,n),s=()=>i.off(e,n)}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(t)){const i=t;t.addListener(e,n),s=()=>i.removeListener(e,n)}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(let s=0,o=t.length;s<o;s++)l(t[s],e,n,i,r)}i.add(s)}},1906:(t,e,n)=>{"use strict";n.d(e,{T:()=>a});var i=n(8318),r=n(6163),s=n(7471),o=n(9342);function a(...t){let e=Number.POSITIVE_INFINITY,n=null,a=t[t.length-1];return(0,r.K)(a)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof a&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof i.y?t[0]:(0,s.J)(e)((0,o.n)(t,n))}},878:(t,e,n)=>{"use strict";n.d(e,{of:()=>o});var i=n(6163),r=n(9342),s=n(2570);function o(...t){let e=t[t.length-1];return(0,i.K)(e)?(t.pop(),(0,s.r)(t,e)):(0,r.n)(t)}},1225:(t,e,n)=>{"use strict";n.d(e,{_:()=>r});var i=n(8318);function r(t,e){return new i.y(e?n=>e.schedule(s,0,{error:t,subscriber:n}):e=>e.error(t))}function s({error:t,subscriber:e}){e.error(t)}},1110:(t,e,n)=>{"use strict";n.d(e,{H:()=>a});var i=n(8318),r=n(8569),s=n(2293),o=n(6163);function a(t=0,e,n){let a=-1;return(0,s.k)(e)?a=Number(e)<1?1:Number(e):(0,o.K)(e)&&(n=e),(0,o.K)(n)||(n=r.P),new i.y(e=>{const i=(0,s.k)(t)?t:+t-n.now();return n.schedule(l,i,{index:0,period:a,subscriber:e})})}function l(t){const{index:e,period:n,subscriber:i}=t;if(i.next(e),!i.closed){if(-1===n)return i.complete();t.index=e+1,this.schedule(t,n)}}},810:(t,e,n)=>{"use strict";n.d(e,{e:()=>l});var i=n(8569),r=n(6882);class s{constructor(t){this.durationSelector=t}call(t,e){return e.subscribe(new o(t,this.durationSelector))}}class o extends r.Ds{constructor(t,e){super(t),this.durationSelector=e,this.hasValue=!1}_next(t){if(this.value=t,this.hasValue=!0,!this.throttled){let n;try{const{durationSelector:e}=this;n=e(t)}catch(e){return this.destination.error(e)}const i=(0,r.ft)(n,new r.IY(this));!i||i.closed?this.clearThrottle():this.add(this.throttled=i)}}clearThrottle(){const{value:t,hasValue:e,throttled:n}=this;n&&(this.remove(n),this.throttled=void 0,n.unsubscribe()),e&&(this.value=void 0,this.hasValue=!1,this.destination.next(t))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}var a=n(1110);function l(t,e=i.P){return n=()=>(0,a.H)(t,e),function(t){return t.lift(new s(n))};var n}},7727:(t,e,n)=>{"use strict";n.d(e,{K:()=>r});var i=n(6882);function r(t){return function(e){const n=new s(t),i=e.lift(n);return n.caught=i}}class s{constructor(t){this.selector=t}call(t,e){return e.subscribe(new o(t,this.selector,this.caught))}}class o extends i.Ds{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new i.IY(this);this.add(r);const s=(0,i.ft)(n,r);s!==r&&this.add(s)}}}},436:(t,e,n)=>{"use strict";n.d(e,{b:()=>r});var i=n(3982);function r(t,e){return(0,i.zg)(t,e,1)}},7701:(t,e,n)=>{"use strict";n.d(e,{b:()=>s});var i=n(6673),r=n(8569);function s(t,e=r.P){return n=>n.lift(new o(t,e))}class o{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new a(t,this.dueTime,this.scheduler))}}class a extends i.L{constructor(t,e,n){super(t),this.dueTime=e,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(l,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function l(t){t.debouncedNext()}},7768:(t,e,n)=>{"use strict";n.d(e,{d:()=>r});var i=n(6673);function r(t=null){return e=>e.lift(new s(t))}class s{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new o(t,this.defaultValue))}}class o extends i.L{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}},8720:(t,e,n)=>{"use strict";n.d(e,{x:()=>r});var i=n(6673);function r(t,e){return n=>n.lift(new s(t,e))}class s{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new o(t,this.compare,this.keySelector))}}class o extends i.L{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(i){return this.destination.error(i)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(i){return this.destination.error(i)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}},3835:(t,e,n)=>{"use strict";n.d(e,{h:()=>r});var i=n(6673);function r(t,e){return function(n){return n.lift(new s(t,e))}}class s{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new o(t,this.predicate,this.thisArg))}}class o extends i.L{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}},1520:(t,e,n)=>{"use strict";n.d(e,{x:()=>s});var i=n(6673),r=n(7570);function s(t){return e=>e.lift(new o(t))}class o{constructor(t){this.callback=t}call(t,e){return e.subscribe(new a(t,this.callback))}}class a extends i.L{constructor(t,e){super(t),this.add(new r.w(e))}}},3530:(t,e,n)=>{"use strict";n.d(e,{P:()=>c});var i=n(9665),r=n(3835),s=n(611),o=n(7768),a=n(790),l=n(3392);function c(t,e){const n=arguments.length>=2;return c=>c.pipe(t?(0,r.h)((e,n)=>t(e,n,c)):l.y,(0,s.q)(1),n?(0,o.d)(e):(0,a.T)(()=>new i.K))}},9996:(t,e,n)=>{"use strict";n.d(e,{U:()=>r});var i=n(6673);function r(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new s(t,e))}}class s{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new o(t,this.project,this.thisArg))}}class o extends i.L{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},7471:(t,e,n)=>{"use strict";n.d(e,{J:()=>s});var i=n(3982),r=n(3392);function s(t=Number.POSITIVE_INFINITY){return(0,i.zg)(r.y,t)}},3982:(t,e,n)=>{"use strict";n.d(e,{zg:()=>o});var i=n(9996),r=n(9764),s=n(6882);function o(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?s=>s.pipe(o((n,s)=>(0,r.D)(t(n,s)).pipe((0,i.U)((t,i)=>e(n,t,s,i))),n)):("number"==typeof e&&(n=e),e=>e.lift(new a(t,n)))}class a{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new l(t,this.project,this.concurrent))}}class l extends s.Ds{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(i){return void this.destination.error(i)}this.active++,this._innerSub(e)}_innerSub(t){const e=new s.IY(this),n=this.destination;n.add(e);const i=(0,s.ft)(t,e);i!==e&&n.add(i)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},9971:(t,e,n)=>{"use strict";n.d(e,{ht:()=>u,QV:()=>l});var i=n(6673),r=n(653),s=n(878),o=n(1225);let a=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return(0,s.of)(this.value);case"E":return(0,o._)(this.error);case"C":return(0,r.c)()}throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})();function l(t,e=0){return function(n){return n.lift(new c(t,e))}}class c{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new u(t,this.scheduler,this.delay))}}class u extends i.L{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(u.dispatch,this.delay,new h(t,this.destination)))}_next(t){this.scheduleMessage(a.createNext(t))}_error(t){this.scheduleMessage(a.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(a.createComplete()),this.unsubscribe()}}class h{constructor(t,e){this.notification=t,this.destination=e}}},2855:(t,e,n)=>{"use strict";n.d(e,{G:()=>r});var i=n(6673);function r(){return t=>t.lift(new s)}class s{call(t,e){return e.subscribe(new o(t))}}class o extends i.L{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}},1564:(t,e,n)=>{"use strict";n.d(e,{x:()=>r});var i=n(6673);function r(){return function(t){return t.lift(new s(t))}}class s{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const i=new o(t,n),r=e.subscribe(i);return i.closed||(i.connection=n.connect()),r}}class o extends i.L{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,i=t._connection;this.connection=null,!i||n&&i!==n||i.unsubscribe()}}},2023:(t,e,n)=>{"use strict";n.d(e,{R:()=>r});var i=n(6673);function r(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(i){return i.lift(new s(t,e,n))}}class s{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new o(t,this.accumulator,this.seed,this.hasSeed))}}class o extends i.L{constructor(t,e,n,i){super(t),this.accumulator=e,this._seed=n,this.hasSeed=i,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(i){this.destination.error(i)}this.seed=n,this.destination.next(n)}}},1055:(t,e,n)=>{"use strict";n.d(e,{B:()=>a});var i=n(2875),r=n(1564),s=n(5959);function o(){return new s.xQ}function a(){return t=>{return(0,r.x)()((e=o,function(t){let n;n="function"==typeof e?e:function(){return e};const r=Object.create(t,i.N);return r.source=t,r.subjectFactory=n,r})(t));var e}}},5096:(t,e,n)=>{"use strict";n.d(e,{d:()=>h});var i=n(5959),r=n(8489),s=n(7570),o=n(9971),a=n(3895),l=n(9291);class c extends i.xQ{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new u(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),i=this.scheduler,r=n.length;let c;if(this.closed)throw new a.N;if(this.isStopped||this.hasError?c=s.w.EMPTY:(this.observers.push(t),c=new l.W(this,t)),i&&t.add(t=new o.ht(t,i)),e)for(let s=0;s<r&&!t.closed;s++)t.next(n[s]);else for(let s=0;s<r&&!t.closed;s++)t.next(n[s].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),c}_getNow(){return(this.scheduler||r.c).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,i=this._events,r=i.length;let s=0;for(;s<r&&!(t-i[s].time<n);)s++;return r>e&&(s=Math.max(s,r-e)),s>0&&i.splice(0,s),i}}class u{constructor(t,e){this.time=t,this.value=e}}function h(t,e,n){let i;return i=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:i}){let r,s,o=0,a=!1,l=!1;return function(u){let h;o++,!r||a?(a=!1,r=new c(t,e,i),h=r.subscribe(this),s=u.subscribe({next(t){r.next(t)},error(t){a=!0,r.error(t)},complete(){l=!0,s=void 0,r.complete()}}),l&&(s=void 0)):h=r.subscribe(this),this.add(()=>{o--,h.unsubscribe(),h=void 0,s&&!l&&n&&0===o&&(s.unsubscribe(),s=void 0,r=void 0)})}}(i))}},4698:(t,e,n)=>{"use strict";n.d(e,{T:()=>r});var i=n(6673);function r(t){return e=>e.lift(new s(t))}class s{constructor(t){this.total=t}call(t,e){return e.subscribe(new o(t,this.total))}}class o extends i.L{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){++this.count>this.total&&this.destination.next(t)}}},6238:(t,e,n)=>{"use strict";n.d(e,{O:()=>s});var i=n(7930),r=n(6163);function s(...t){const e=t[t.length-1];return(0,r.K)(e)?(t.pop(),n=>(0,i.z)(t,n,e)):e=>(0,i.z)(t,e)}},3482:(t,e,n)=>{"use strict";n.d(e,{R:()=>a});var i=n(8318),r=n(2709),s=n(2293);class o extends i.y{constructor(t,e=0,n=r.e){super(),this.source=t,this.delayTime=e,this.scheduler=n,(!(0,s.k)(e)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=r.e)}static create(t,e=0,n=r.e){return new o(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(o.dispatch,this.delayTime,{source:this.source,subscriber:t})}}function a(t,e=0){return function(n){return n.lift(new l(t,e))}}class l{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new o(e,this.delay,this.scheduler).subscribe(t)}}},4689:(t,e,n)=>{"use strict";n.d(e,{w:()=>o});var i=n(9996),r=n(9764),s=n(6882);function o(t,e){return"function"==typeof e?n=>n.pipe(o((n,s)=>(0,r.D)(t(n,s)).pipe((0,i.U)((t,i)=>e(n,t,s,i))))):e=>e.lift(new a(t))}class a{constructor(t){this.project=t}call(t,e){return e.subscribe(new l(t,this.project))}}class l extends s.Ds{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(i){return void this.destination.error(i)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const n=new s.IY(this),i=this.destination;i.add(n),this.innerSubscription=(0,s.ft)(t,n),this.innerSubscription!==n&&i.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}},3853:(t,e,n)=>{"use strict";n.d(e,{c:()=>r});var i=n(4689);function r(t,e){return e?(0,i.w)(()=>t,e):(0,i.w)(()=>t)}},611:(t,e,n)=>{"use strict";n.d(e,{q:()=>o});var i=n(6673),r=n(8402),s=n(653);function o(t){return e=>0===t?(0,s.c)():e.lift(new a(t))}class a{constructor(t){if(this.total=t,this.total<0)throw new r.W}call(t,e){return e.subscribe(new l(t,this.total))}}class l extends i.L{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}},5416:(t,e,n)=>{"use strict";n.d(e,{R:()=>r});var i=n(6882);function r(t){return e=>e.lift(new s(t))}class s{constructor(t){this.notifier=t}call(t,e){const n=new o(t),r=(0,i.ft)(this.notifier,new i.IY(n));return r&&!n.seenValue?(n.add(r),e.subscribe(n)):n}}class o extends i.Ds{constructor(t){super(t),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}},6599:(t,e,n)=>{"use strict";n.d(e,{b:()=>o});var i=n(6673);function r(){}var s=n(5024);function o(t,e,n){return function(i){return i.lift(new a(t,e,n))}}class a{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new l(t,this.nextOrObserver,this.error,this.complete))}}class l extends i.L{constructor(t,e,n,i){super(t),this._tapNext=r,this._tapError=r,this._tapComplete=r,this._tapError=n||r,this._tapComplete=i||r,(0,s.m)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||r,this._tapError=e.error||r,this._tapComplete=e.complete||r)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}},790:(t,e,n)=>{"use strict";n.d(e,{T:()=>s});var i=n(9665),r=n(6673);function s(t=l){return e=>e.lift(new o(t))}class o{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new a(t,this.errorFactory))}}class a extends r.L{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}}function l(){return new i.K}},2570:(t,e,n)=>{"use strict";n.d(e,{r:()=>s});var i=n(8318),r=n(7570);function s(t,e){return new i.y(n=>{const i=new r.w;let s=0;return i.add(e.schedule(function(){s!==t.length?(n.next(t[s++]),n.closed||i.add(this.schedule())):n.complete()})),i})}},8277:(t,e,n)=>{"use strict";n.d(e,{o:()=>s});var i=n(7570);class r extends i.w{constructor(t,e){super()}schedule(t,e=0){return this}}class s extends r{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,i=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(i,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(i,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n,i=!1;try{this.work(t)}catch(r){i=!0,n=!!r&&r||new Error(r)}if(i)return this.unsubscribe(),n}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,i=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==i&&n.splice(i,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},1098:(t,e,n)=>{"use strict";n.d(e,{v:()=>r});let i=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class r extends i{constructor(t,e=i.now){super(t,()=>r.delegate&&r.delegate!==this?r.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return r.delegate&&r.delegate!==this?r.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},2709:(t,e,n)=>{"use strict";n.d(e,{e:()=>p,E:()=>d});let i=1;const r=(()=>Promise.resolve())(),s={};function o(t){return t in s&&(delete s[t],!0)}const a={setImmediate(t){const e=i++;return s[e]=!0,r.then(()=>o(e)&&t()),e},clearImmediate(t){o(t)}};var l=n(8277);class c extends l.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=a.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(a.clearImmediate(e),t.scheduled=void 0)}}var u=n(1098);class h extends u.v{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,i=-1,r=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++i<r&&(t=e.shift()));if(this.active=!1,n){for(;++i<r&&(t=e.shift());)t.unsubscribe();throw n}}}const d=new h(c),p=d},8569:(t,e,n)=>{"use strict";n.d(e,{z:()=>r,P:()=>s});var i=n(8277);const r=new(n(1098).v)(i.o),s=r},8489:(t,e,n)=>{"use strict";n.d(e,{c:()=>l,N:()=>a});var i=n(8277);class r extends i.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}var s=n(1098);class o extends s.v{}const a=new o(r),l=a},5686:(t,e,n)=>{"use strict";function i(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,{hZ:()=>r});const r=i()},6197:(t,e,n)=>{"use strict";n.d(e,{L:()=>i});const i=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},5331:(t,e,n)=>{"use strict";n.d(e,{b:()=>i});const i=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())()},8402:(t,e,n)=>{"use strict";n.d(e,{W:()=>i});const i=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})()},9665:(t,e,n)=>{"use strict";n.d(e,{K:()=>i});const i=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})()},3895:(t,e,n)=>{"use strict";n.d(e,{N:()=>i});const i=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},4294:(t,e,n)=>{"use strict";function i(t){setTimeout(()=>{throw t},0)}n.d(e,{z:()=>i})},3392:(t,e,n)=>{"use strict";function i(t){return t}n.d(e,{y:()=>i})},8470:(t,e,n)=>{"use strict";n.d(e,{k:()=>i});const i=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))()},9653:(t,e,n)=>{"use strict";n.d(e,{z:()=>i});const i=t=>t&&"number"==typeof t.length&&"function"!=typeof t},5024:(t,e,n)=>{"use strict";function i(t){return"function"==typeof t}n.d(e,{m:()=>i})},2293:(t,e,n)=>{"use strict";n.d(e,{k:()=>r});var i=n(8470);function r(t){return!(0,i.k)(t)&&t-parseFloat(t)+1>=0}},2056:(t,e,n)=>{"use strict";function i(t){return null!==t&&"object"==typeof t}n.d(e,{K:()=>i})},4710:(t,e,n)=>{"use strict";n.d(e,{b:()=>r});var i=n(8318);function r(t){return!!t&&(t instanceof i.y||"function"==typeof t.lift&&"function"==typeof t.subscribe)}},5168:(t,e,n)=>{"use strict";function i(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,{t:()=>i})},6163:(t,e,n)=>{"use strict";function i(t){return t&&"function"==typeof t.schedule}n.d(e,{K:()=>i})},6015:(t,e,n)=>{"use strict";n.d(e,{s:()=>u});var i=n(625),r=n(4294),s=n(5686),o=n(6197),a=n(9653),l=n(5168),c=n(2056);const u=t=>{if(t&&"function"==typeof t[o.L])return u=t,t=>{const e=u[o.L]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if((0,a.z)(t))return(0,i.V)(t);if((0,l.t)(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,r.z),t);if(t&&"function"==typeof t[s.hZ])return e=t,t=>{const n=e[s.hZ]();for(;;){let e;try{e=n.next()}catch(i){return t.error(i),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=(0,c.K)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,u}},625:(t,e,n)=>{"use strict";n.d(e,{V:()=>i});const i=t=>e=>{for(let n=0,i=t.length;n<i&&!e.closed;n++)e.next(t[n]);e.complete()}},7e3:(t,e,n)=>{"use strict";n.d(e,{D:()=>a});var i=n(6673);class r extends i.L{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var s=n(6015),o=n(8318);function a(t,e,n,i,a=new r(t,n,i)){if(!a.closed)return e instanceof o.y?e.subscribe(a):(0,s.s)(e)(a)}},8426:(t,e,n)=>{"use strict";n.d(e,{b:()=>Qm,p:()=>Km});var i=n(9624),r=n(5366),s=n(7672);let o=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-loader"]],decls:2,vars:0,consts:[[1,"main-loader","row-center","col-center"]],template:function(t,e){1&t&&(r.TgZ(0,"div",0),r._UZ(1,"mat-spinner"),r.qZA())},directives:[s.$g],styles:[""]}),t})();var a=n(8230),l=n(766),c=n(2935);let u=(()=>{class t{constructor(t,e,n,i){this.loaderService=t,this.router=e,this.cdr=n,this.dialog=i,this.loader=null,this.loaderService.detect$().subscribe(t=>{var e;console.log(t),!t&&this.loader&&(this.loaderService.hide(),null===(e=this.loader)||void 0===e||e.close(),this.loader=null),t&&(this.loader=this.dialog.open(o))}),this.router.navigateByUrl("/dashboard")}ngOnDestroy(){localStorage.clear()}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(a.D),r.Y36(l.F0),r.Y36(r.sBO),r.Y36(c.uw))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-root"]],decls:2,vars:0,consts:[[1,"container"]],template:function(t,e){1&t&&(r.TgZ(0,"div",0),r._UZ(1,"router-outlet"),r.qZA())},directives:[l.lC],styles:[""]}),t})();var h=n(9748),d=n(529),p=n(6599),f=n(3796);let m=(()=>{class t{constructor(t,e){this.router=t,this.authService=e}canLoad(t,e){return this.isAuth$()}canActivateChild(t,e){return this.isAuth$()}isAuth$(){return this.authService.isLogin$().pipe((0,p.b)(t=>{t||this.router.navigateByUrl("login")}))}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(l.F0),r.LFG(f.e))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var g=n(9996);let _=(()=>{class t{constructor(t,e){this.authService=t,this.router=e}canLoad(t,e){return this.isNoAuth$()}canActivateChild(t,e){return this.isNoAuth$()}isNoAuth$(){return this.authService.isLogin$().pipe((0,g.U)(t=>(t&&this.router.navigateByUrl("dashboard"),!t)))}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(f.e),r.LFG(l.F0))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const y=[{path:"",component:u,children:[{path:"",redirectTo:"login",pathMatch:"full"},{path:"login",loadChildren:()=>Promise.all([n.e(592),n.e(71)]).then(n.bind(n,8071)).then(t=>t.AuthModule),canLoad:[_],canActivateChild:[_]},{path:"dashboard",loadChildren:()=>Promise.all([n.e(592),n.e(964)]).then(n.bind(n,964)).then(t=>t.DashboardModule),canLoad:[m],canActivateChild:[m]}]}];let v=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[l.Bz.forRoot(y)]]}),t})();var b=n(2693),w=n(1041),C=n(6136),E=n(4007),S=n(1116),x=n(8569),k=n(8318),T=n(9764),I=n(878),A=n(5271),D=n(6238),R=n(2855),O=n(2023),P=n(8720),N=n(3835),F=(n(6702),n(1932)),L=n(6304),M=n(7092),B=n(5119),V=n(308),U=n(250),j=function(t,e){return(j=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function q(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var z,H="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},G=G||{},$=H||self;function Z(){}function Y(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function W(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var K="closure_uid_"+(1e9*Math.random()>>>0),Q=0;function J(t,e,n){return t.call.apply(t.bind,arguments)}function X(t,e,n){if(!t)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,i),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function tt(t,e,n){return(tt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?J:X).apply(null,arguments)}function et(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function nt(t,e){function n(){}n.prototype=e.prototype,t.Z=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Vb=function(t,n,i){for(var r=Array(arguments.length-2),s=2;s<arguments.length;s++)r[s-2]=arguments[s];return e.prototype[n].apply(t,r)}}function it(){this.s=this.s,this.o=this.o}var rt={};it.prototype.s=!1,it.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var t=function(t){return Object.prototype.hasOwnProperty.call(t,K)&&t[K]||(t[K]=++Q)}(this);delete rt[t]}},it.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var st=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},ot=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var i=t.length,r="string"==typeof t?t.split(""):t,s=0;s<i;s++)s in r&&e.call(n,r[s],s,t)};function at(t){return Array.prototype.concat.apply([],arguments)}function lt(t){var e=t.length;if(0<e){for(var n=Array(e),i=0;i<e;i++)n[i]=t[i];return n}return[]}function ct(t){return/^[\s\xa0]*$/.test(t)}var ut,ht=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function dt(t,e){return-1!=t.indexOf(e)}function pt(t,e){return t<e?-1:t>e?1:0}t:{var ft=$.navigator;if(ft){var mt=ft.userAgent;if(mt){ut=mt;break t}}ut=""}function gt(t,e,n){for(var i in t)e.call(n,t[i],i,t)}function _t(t){var e={};for(var n in t)e[n]=t[n];return e}var yt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function vt(t,e){for(var n,i,r=1;r<arguments.length;r++){for(n in i=arguments[r])t[n]=i[n];for(var s=0;s<yt.length;s++)n=yt[s],Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}}function bt(t){return bt[" "](t),t}bt[" "]=Z;var wt,Ct,Et=dt(ut,"Opera"),St=dt(ut,"Trident")||dt(ut,"MSIE"),xt=dt(ut,"Edge"),kt=xt||St,Tt=dt(ut,"Gecko")&&!(dt(ut.toLowerCase(),"webkit")&&!dt(ut,"Edge"))&&!(dt(ut,"Trident")||dt(ut,"MSIE"))&&!dt(ut,"Edge"),It=dt(ut.toLowerCase(),"webkit")&&!dt(ut,"Edge");function At(){var t=$.document;return t?t.documentMode:void 0}t:{var Dt="",Rt=(Ct=ut,Tt?/rv:([^\);]+)(\)|;)/.exec(Ct):xt?/Edge\/([\d\.]+)/.exec(Ct):St?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Ct):It?/WebKit\/(\S+)/.exec(Ct):Et?/(?:Version)[ \/]?(\S+)/.exec(Ct):void 0);if(Rt&&(Dt=Rt?Rt[1]:""),St){var Ot=At();if(null!=Ot&&Ot>parseFloat(Dt)){wt=String(Ot);break t}}wt=Dt}var Pt={};var Nt=$.document&&St&&(At()||parseInt(wt,10))||void 0,Ft=function(){if(!$.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{$.addEventListener("test",Z,e),$.removeEventListener("test",Z,e)}catch(n){}return t}();function Lt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}function Mt(t,e){if(Lt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,i=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(Tt){t:{try{bt(e.nodeName);var r=!0;break t}catch(s){}r=!1}r||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Bt[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Mt.Z.h.call(this)}}Lt.prototype.h=function(){this.defaultPrevented=!0},nt(Mt,Lt);var Bt={2:"touch",3:"pen",4:"mouse"};Mt.prototype.h=function(){Mt.Z.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Vt="closure_listenable_"+(1e6*Math.random()|0),Ut=0;function jt(t,e,n,i,r){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!i,this.ia=r,this.key=++Ut,this.ca=this.fa=!1}function qt(t){t.ca=!0,t.listener=null,t.proxy=null,t.src=null,t.ia=null}function zt(t){this.src=t,this.g={},this.h=0}function Ht(t,e){var n=e.type;if(n in t.g){var i,r=t.g[n],s=st(r,e);(i=0<=s)&&Array.prototype.splice.call(r,s,1),i&&(qt(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function Gt(t,e,n,i){for(var r=0;r<t.length;++r){var s=t[r];if(!s.ca&&s.listener==e&&s.capture==!!n&&s.ia==i)return r}return-1}zt.prototype.add=function(t,e,n,i,r){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var o=Gt(t,e,i,r);return-1<o?(e=t[o],n||(e.fa=!1)):((e=new jt(e,this.src,s,!!i,r)).fa=n,t.push(e)),e};var $t="closure_lm_"+(1e6*Math.random()|0),Zt={};function Yt(t,e,n,i,r){if(i&&i.once)return Kt(t,e,n,i,r);if(Array.isArray(e)){for(var s=0;s<e.length;s++)Yt(t,e[s],n,i,r);return null}return n=ie(n),t&&t[Vt]?t.N(e,n,W(i)?!!i.capture:!!i,r):Wt(t,e,n,!1,i,r)}function Wt(t,e,n,i,r,s){if(!e)throw Error("Invalid event type");var o=W(r)?!!r.capture:!!r,a=ee(t);if(a||(t[$t]=a=new zt(t)),(n=a.add(e,n,i,o,s)).proxy)return n;if(i=function(){var t=te;return function e(n){return t.call(e.src,e.listener,n)}}(),n.proxy=i,i.src=t,i.listener=n,t.addEventListener)Ft||(r=o),void 0===r&&(r=!1),t.addEventListener(e.toString(),i,r);else if(t.attachEvent)t.attachEvent(Xt(e.toString()),i);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(i)}return n}function Kt(t,e,n,i,r){if(Array.isArray(e)){for(var s=0;s<e.length;s++)Kt(t,e[s],n,i,r);return null}return n=ie(n),t&&t[Vt]?t.O(e,n,W(i)?!!i.capture:!!i,r):Wt(t,e,n,!0,i,r)}function Qt(t,e,n,i,r){if(Array.isArray(e))for(var s=0;s<e.length;s++)Qt(t,e[s],n,i,r);else i=W(i)?!!i.capture:!!i,n=ie(n),t&&t[Vt]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=Gt(s=t.g[e],n,i,r))&&(qt(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.g[e],t.h--))):t&&(t=ee(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Gt(e,n,i,r)),(n=-1<t?e[t]:null)&&Jt(n))}function Jt(t){if("number"!=typeof t&&t&&!t.ca){var e=t.src;if(e&&e[Vt])Ht(e.i,t);else{var n=t.type,i=t.proxy;e.removeEventListener?e.removeEventListener(n,i,t.capture):e.detachEvent?e.detachEvent(Xt(n),i):e.addListener&&e.removeListener&&e.removeListener(i),(n=ee(e))?(Ht(n,t),0==n.h&&(n.src=null,e[$t]=null)):qt(t)}}}function Xt(t){return t in Zt?Zt[t]:Zt[t]="on"+t}function te(t,e){if(t.ca)t=!0;else{e=new Mt(e,this);var n=t.listener,i=t.ia||t.src;t.fa&&Jt(t),t=n.call(i,e)}return t}function ee(t){return(t=t[$t])instanceof zt?t:null}var ne="__closure_events_fn_"+(1e9*Math.random()>>>0);function ie(t){return"function"==typeof t?t:(t[ne]||(t[ne]=function(e){return t.handleEvent(e)}),t[ne])}function re(){it.call(this),this.i=new zt(this),this.P=this,this.I=null}function se(t,e){var n,i=t.I;if(i)for(n=[];i;i=i.I)n.push(i);if(t=t.P,i=e.type||e,"string"==typeof e)e=new Lt(e,t);else if(e instanceof Lt)e.target=e.target||t;else{var r=e;vt(e=new Lt(i,t),r)}if(r=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];r=oe(o,i,!0,e)&&r}if(r=oe(o=e.g=t,i,!0,e)&&r,r=oe(o,i,!1,e)&&r,n)for(s=0;s<n.length;s++)r=oe(o=e.g=n[s],i,!1,e)&&r}function oe(t,e,n,i){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var r=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.ca&&o.capture==n){var a=o.listener,l=o.ia||o.src;o.fa&&Ht(t.i,o),r=!1!==a.call(l,i)&&r}}return r&&!i.defaultPrevented}nt(re,it),re.prototype[Vt]=!0,re.prototype.removeEventListener=function(t,e,n,i){Qt(this,t,e,n,i)},re.prototype.M=function(){if(re.Z.M.call(this),this.i){var t,e=this.i;for(t in e.g){for(var n=e.g[t],i=0;i<n.length;i++)qt(n[i]);delete e.g[t],e.h--}}this.I=null},re.prototype.N=function(t,e,n,i){return this.i.add(String(t),e,!1,n,i)},re.prototype.O=function(t,e,n,i){return this.i.add(String(t),e,!0,n,i)};var ae=$.JSON.stringify;function le(){var t=ge,e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var ce,ue=function(){function t(){this.h=this.g=null}return t.prototype.add=function(t,e){var n=he.get();n.set(t,e),this.h?this.h.next=n:this.g=n,this.h=n},t}(),he=new(function(){function t(t,e){this.i=t,this.j=e,this.h=0,this.g=null}return t.prototype.get=function(){var t;return 0<this.h?(this.h--,this.g=(t=this.g).next,t.next=null):t=this.i(),t},t}())(function(){return new de},function(t){return t.reset()}),de=function(){function t(){this.next=this.g=this.h=null}return t.prototype.set=function(t,e){this.h=t,this.g=e,this.next=null},t.prototype.reset=function(){this.next=this.g=this.h=null},t}();function pe(t){$.setTimeout(function(){throw t},0)}function fe(t,e){ce||function(){var t=$.Promise.resolve(void 0);ce=function(){t.then(_e)}}(),me||(ce(),me=!0),ge.add(t,e)}var me=!1,ge=new ue;function _e(){for(var t;t=le();){try{t.h.call(t.g)}catch(n){pe(n)}var e=he;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}me=!1}function ye(t,e){re.call(this),this.h=t||1,this.g=e||$,this.j=tt(this.kb,this),this.l=Date.now()}function ve(t){t.da=!1,t.S&&(t.g.clearTimeout(t.S),t.S=null)}function be(t,e,n){if("function"==typeof t)n&&(t=tt(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=tt(t.handleEvent,t)}return 2147483647<Number(e)?-1:$.setTimeout(t,e||0)}function we(t){t.g=be(function(){t.g=null,t.i&&(t.i=!1,we(t))},t.j);var e=t.h;t.h=null,t.m.apply(null,e)}nt(ye,re),(z=ye.prototype).da=!1,z.S=null,z.kb=function(){if(this.da){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-t):(this.S&&(this.g.clearTimeout(this.S),this.S=null),se(this,"tick"),this.da&&(ve(this),this.start()))}},z.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},z.M=function(){ye.Z.M.call(this),ve(this),delete this.g};var Ce=function(t){function e(e,n){var i=t.call(this)||this;return i.m=e,i.j=n,i.h=null,i.i=!1,i.g=null,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}j(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.l=function(t){this.h=arguments,this.g?this.i=!0:we(this)},e.prototype.M=function(){t.prototype.M.call(this),this.g&&($.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},e}(it);function Ee(t){it.call(this),this.h=t,this.g={}}nt(Ee,it);var Se=[];function xe(t,e,n,i){Array.isArray(n)||(n&&(Se[0]=n.toString()),n=Se);for(var r=0;r<n.length;r++){var s=Yt(e,n[r],i||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function ke(t){gt(t.g,function(t,e){this.g.hasOwnProperty(e)&&Jt(t)},t),t.g={}}function Te(){this.g=!0}function Ie(t,e,n,i){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var i=n[t];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<r.length;o++)r[o]=""}}}return ae(n)}catch(a){return e}}(t,n)+(i?" "+i:"")})}Ee.prototype.M=function(){Ee.Z.M.call(this),ke(this)},Ee.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Te.prototype.Aa=function(){this.g=!1},Te.prototype.info=function(){};var Ae={},De=null;function Re(){return De=De||new re}function Oe(t){Lt.call(this,Ae.Ma,t)}function Pe(t){var e=Re();se(e,new Oe(e,t))}function Ne(t,e){Lt.call(this,Ae.STAT_EVENT,t),this.stat=e}function Fe(t){var e=Re();se(e,new Ne(e,t))}function Le(t,e){Lt.call(this,Ae.Na,t),this.size=e}function Me(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return $.setTimeout(function(){t()},e)}Ae.Ma="serverreachability",nt(Oe,Lt),Ae.STAT_EVENT="statevent",nt(Ne,Lt),Ae.Na="timingevent",nt(Le,Lt);var Be={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Ve={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Ue(){}function je(){}Ue.prototype.h=null;var qe,ze={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function He(){Lt.call(this,"d")}function Ge(){Lt.call(this,"c")}function $e(){}function Ze(t,e,n,i){this.l=t,this.j=e,this.m=n,this.X=i||1,this.V=new Ee(this),this.P=We,this.W=new ye(t=kt?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Ye}function Ye(){this.i=null,this.g="",this.h=!1}nt(He,Lt),nt(Ge,Lt),nt($e,Ue),$e.prototype.g=function(){return new XMLHttpRequest},$e.prototype.i=function(){return{}},qe=new $e;var We=45e3,Ke={},Qe={};function Je(t,e,n){t.K=1,t.v=Cn(gn(e)),t.s=n,t.U=!0,Xe(t,null)}function Xe(t,e){t.F=Date.now(),rn(t),t.A=gn(t.v);var n=t.A,i=t.X;Array.isArray(i)||(i=[String(i)]),Fn(n.h,"t",i),t.C=0,n=t.l.H,t.h=new Ye,t.g=Li(t.l,n?e:null,!t.s),0<t.O&&(t.L=new Ce(tt(t.Ia,t,t.g),t.O)),xe(t.V,t.g,"readystatechange",t.gb),e=t.H?_t(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.s,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),Pe(1),function(t,e,n,i,r,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var h=u.split("_");o=2<=h.length&&"type"==h[1]?o+(u+"=")+c+"&":o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+"\n"+n+"\n"+o})}(t.j,t.u,t.A,t.m,t.X,t.s)}function tn(t){return!!t.g&&"GET"==t.u&&2!=t.K&&t.l.Ba}function en(t,e,n){for(var i,r=!0;!t.I&&t.C<n.length;){if((i=nn(t,n))==Qe){4==e&&(t.o=4,Fe(14),r=!1),Ie(t.j,t.m,null,"[Incomplete Response]");break}if(i==Ke){t.o=4,Fe(15),Ie(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}Ie(t.j,t.m,i,null),cn(t,i)}tn(t)&&i!=Qe&&i!=Ke&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,Fe(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.aa&&(t.aa=!0,(e=t.l).g==t&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Ii(e),e.L=!0,Fe(11))):(Ie(t.j,t.m,n,"[Invalid Chunked Response]"),ln(t),an(t))}function nn(t,e){var n=t.C,i=e.indexOf("\n",n);return-1==i?Qe:(n=Number(e.substring(n,i)),isNaN(n)?Ke:(i+=1)+n>e.length?Qe:(e=e.substr(i,n),t.C=i+n,e))}function rn(t){t.Y=Date.now()+t.P,sn(t,t.P)}function sn(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=Me(tt(t.eb,t),e)}function on(t){t.B&&($.clearTimeout(t.B),t.B=null)}function an(t){0==t.l.G||t.I||Ri(t.l,t)}function ln(t){on(t);var e=t.L;e&&"function"==typeof e.na&&e.na(),t.L=null,ve(t.W),ke(t.V),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function cn(t,e){try{var n=t.l;if(0!=n.G&&(n.g==t||qn(n.i,t)))if(n.I=t.N,!t.J&&qn(n.i,t)&&3==n.G){try{var i=n.Ca.g.parse(e)}catch(s){i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){t:if(!n.u){if(n.g){if(!(n.g.F+3e3<t.F))break t;Di(n),vi(n)}Ti(n),Fe(18)}}else n.ta=r[1],0<n.ta-n.U&&37500>r[2]&&n.N&&0==n.A&&!n.v&&(n.v=Me(tt(n.ab,n),6e3));if(1>=jn(n.i)&&n.ka){try{n.ka()}catch(s){}n.ka=void 0}}else Pi(n,11)}else if((t.J||n.g==t)&&Di(n),!ct(e))for(r=n.Ca.g.parse(e),e=0;e<r.length;e++){var s=r[e];if(n.U=s[0],s=s[1],2==n.G)if("c"==s[0]){n.J=s[1],n.la=s[2];var o=s[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var a=s[4];null!=a&&(n.za=a,n.h.info("SVER="+n.za));var l=s[5];null!=l&&"number"==typeof l&&0<l&&(n.K=i=1.5*l,n.h.info("backChannelRequestTimeoutMs_="+i)),i=n;var c=t.g;if(c){var u=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(u){var h=i.i;!h.g&&(dt(u,"spdy")||dt(u,"quic")||dt(u,"h2"))&&(h.j=h.l,h.g=new Set,h.h&&(zn(h,h.h),h.h=null))}if(i.D){var d=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;d&&(i.sa=d,wn(i.F,i.D,d))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-t.F,n.h.info("Handshake RTT: "+n.O+"ms"));var p=t;if((i=n).oa=Fi(i,i.H?i.la:null,i.W),p.J){Hn(i.i,p);var f=p,m=i.K;m&&f.setTimeout(m),f.B&&(on(f),rn(f)),i.g=p}else ki(i);0<n.l.length&&Ci(n)}else"stop"!=s[0]&&"close"!=s[0]||Pi(n,7);else 3==n.G&&("stop"==s[0]||"close"==s[0]?"stop"==s[0]?Pi(n,7):yi(n):"noop"!=s[0]&&n.j&&n.j.wa(s),n.A=0)}Pe(4)}catch(s){}}function un(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Y(t)||"string"==typeof t)ot(t,e,void 0);else{if(t.T&&"function"==typeof t.T)var n=t.T();else if(t.R&&"function"==typeof t.R)n=void 0;else if(Y(t)||"string"==typeof t){n=[];for(var i=t.length,r=0;r<i;r++)n.push(r)}else for(r in n=[],i=0,t)n[i++]=r;r=(i=function(t){if(t.R&&"function"==typeof t.R)return t.R();if("string"==typeof t)return t.split("");if(Y(t)){for(var e=[],n=t.length,i=0;i<n;i++)e.push(t[i]);return e}for(i in e=[],n=0,t)e[n++]=t[i];return e}(t)).length;for(var s=0;s<r;s++)e.call(void 0,i[s],n&&n[s],t)}}function hn(t,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var i=0;i<n;i+=2)this.set(arguments[i],arguments[i+1])}else if(t)if(t instanceof hn)for(n=t.T(),i=0;i<n.length;i++)this.set(n[i],t.get(n[i]));else for(i in t)this.set(i,t[i])}function dn(t){if(t.i!=t.g.length){for(var e=0,n=0;e<t.g.length;){var i=t.g[e];pn(t.h,i)&&(t.g[n++]=i),e++}t.g.length=n}if(t.i!=t.g.length){var r={};for(n=e=0;e<t.g.length;)pn(r,i=t.g[e])||(t.g[n++]=i,r[i]=1),e++;t.g.length=n}}function pn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(z=Ze.prototype).setTimeout=function(t){this.P=t},z.gb=function(t){t=t.target;var e=this.L;e&&3==pi(t)?e.l():this.Ia(t)},z.Ia=function(t){try{if(t==this.g)t:{var e=pi(this.g),n=this.g.Da(),i=this.g.ba();if(!(3>e)&&(3!=e||kt||this.g&&(this.h.h||this.g.ga()||fi(this.g)))){this.I||4!=e||7==n||Pe(8==n||0>=i?3:2),on(this);var r=this.g.ba();this.N=r;e:if(tn(this)){var s=fi(this.g);t="";var o=s.length,a=4==pi(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){ln(this),an(this);var l="";break e}this.h.i=new $.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,t+=this.h.i.decode(s[n],{stream:a&&n==o-1});s.splice(0,o),this.h.g+=t,this.C=0,l=this.h.g}else l=this.g.ga();if(this.i=200==r,function(t,e,n,i,r,s,o){t.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.X,e,r),this.i){if(this.$&&!this.J){e:{if(this.g){var c,u=this.g;if((c=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ct(c)){var h=c;break e}}h=null}if(!(r=h)){this.i=!1,this.o=3,Fe(12),ln(this),an(this);break t}Ie(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,cn(this,r)}this.U?(en(this,e,l),kt&&this.i&&3==e&&(xe(this.V,this.W,"tick",this.fb),this.W.start())):(Ie(this.j,this.m,l,null),cn(this,l)),4==e&&ln(this),this.i&&!this.I&&(4==e?Ri(this.l,this):(this.i=!1,rn(this)))}else 400==r&&0<l.indexOf("Unknown SID")?(this.o=3,Fe(12)):(this.o=0,Fe(13)),ln(this),an(this)}}}catch(e){}},z.fb=function(){if(this.g){var t=pi(this.g),e=this.g.ga();this.C<e.length&&(on(this),en(this,t,e),this.i&&4!=t&&rn(this))}},z.cancel=function(){this.I=!0,ln(this)},z.eb=function(){this.B=null;var t=Date.now();0<=t-this.Y?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Pe(3),Fe(17)),ln(this),this.o=2,an(this)):sn(this,this.Y-t)},(z=hn.prototype).R=function(){dn(this);for(var t=[],e=0;e<this.g.length;e++)t.push(this.h[this.g[e]]);return t},z.T=function(){return dn(this),this.g.concat()},z.get=function(t,e){return pn(this.h,t)?this.h[t]:e},z.set=function(t,e){pn(this.h,t)||(this.i++,this.g.push(t)),this.h[t]=e},z.forEach=function(t,e){for(var n=this.T(),i=0;i<n.length;i++){var r=n[i],s=this.get(r);t.call(e,s,r,this)}};var fn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function mn(t,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,t instanceof mn){this.g=void 0!==e?e:t.g,_n(this,t.j),this.s=t.s,yn(this,t.i),vn(this,t.m),this.l=t.l,e=t.h;var n=new Rn;n.i=e.i,e.g&&(n.g=new hn(e.g),n.h=e.h),bn(this,n),this.o=t.o}else t&&(n=String(t).match(fn))?(this.g=!!e,_n(this,n[1]||"",!0),this.s=En(n[2]||""),yn(this,n[3]||"",!0),vn(this,n[4]),this.l=En(n[5]||"",!0),bn(this,n[6]||"",!0),this.o=En(n[7]||"")):(this.g=!!e,this.h=new Rn(null,this.g))}function gn(t){return new mn(t)}function _n(t,e,n){t.j=n?En(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function yn(t,e,n){t.i=n?En(e,!0):e}function vn(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function bn(t,e,n){e instanceof Rn?(t.h=e,function(t,e){e&&!t.j&&(On(t),t.i=null,t.g.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(Pn(this,e),Fn(this,n,t))},t)),t.j=e}(t.h,t.g)):(n||(e=Sn(e,An)),t.h=new Rn(e,t.g))}function wn(t,e,n){t.h.set(e,n)}function Cn(t){return wn(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function En(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Sn(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,xn),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function xn(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}mn.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Sn(e,kn,!0),":");var n=this.i;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(Sn(e,kn,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&t.push("/"),t.push(Sn(n,"/"==n.charAt(0)?In:Tn,!0))),(n=this.h.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Sn(n,Dn)),t.join("")};var kn=/[#\/\?@]/g,Tn=/[#\?:]/g,In=/[#\?]/g,An=/[#\?@]/g,Dn=/#/g;function Rn(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function On(t){t.g||(t.g=new hn,t.h=0,t.i&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var i=t[n].indexOf("="),r=null;if(0<=i){var s=t[n].substring(0,i);r=t[n].substring(i+1)}else s=t[n];e(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function Pn(t,e){On(t),e=Ln(t,e),pn(t.g.h,e)&&(t.i=null,t.h-=t.g.get(e).length,pn((t=t.g).h,e)&&(delete t.h[e],t.i--,t.g.length>2*t.i&&dn(t)))}function Nn(t,e){return On(t),e=Ln(t,e),pn(t.g.h,e)}function Fn(t,e,n){Pn(t,e),0<n.length&&(t.i=null,t.g.set(Ln(t,e),lt(n)),t.h+=n.length)}function Ln(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}(z=Rn.prototype).add=function(t,e){On(this),this.i=null,t=Ln(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},z.forEach=function(t,e){On(this),this.g.forEach(function(n,i){ot(n,function(n){t.call(e,n,i,this)},this)},this)},z.T=function(){On(this);for(var t=this.g.R(),e=this.g.T(),n=[],i=0;i<e.length;i++)for(var r=t[i],s=0;s<r.length;s++)n.push(e[i]);return n},z.R=function(t){On(this);var e=[];if("string"==typeof t)Nn(this,t)&&(e=at(e,this.g.get(Ln(this,t))));else{t=this.g.R();for(var n=0;n<t.length;n++)e=at(e,t[n])}return e},z.set=function(t,e){return On(this),this.i=null,Nn(this,t=Ln(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},z.get=function(t,e){return t&&0<(t=this.R(t)).length?String(t[0]):e},z.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],e=this.g.T(),n=0;n<e.length;n++){var i=e[n],r=encodeURIComponent(String(i));i=this.R(i);for(var s=0;s<i.length;s++){var o=r;""!==i[s]&&(o+="="+encodeURIComponent(String(i[s]))),t.push(o)}}return this.i=t.join("&")};var Mn=function(){return function(t,e){this.h=t,this.g=e}}();function Bn(t){this.l=t||Vn,t=$.PerformanceNavigationTiming?0<(t=$.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!($.g&&$.g.Ea&&$.g.Ea()&&$.g.Ea().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Vn=10;function Un(t){return!!t.h||!!t.g&&t.g.size>=t.j}function jn(t){return t.h?1:t.g?t.g.size:0}function qn(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function zn(t,e){t.g?t.g.add(e):t.h=e}function Hn(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function Gn(t){var e,n;if(null!=t.h)return t.i.concat(t.h.D);if(null!=t.g&&0!==t.g.size){var i=t.i;try{for(var r=q(t.g.values()),s=r.next();!s.done;s=r.next())i=i.concat(s.value.D)}catch(o){e={error:o}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return i}return lt(t.i)}function $n(){}function Zn(){this.g=new $n}function Yn(t,e,n){var i=n||"";try{un(t,function(t,n){var r=t;W(t)&&(r=ae(t)),e.push(i+n+"="+encodeURIComponent(r))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function Wn(t,e,n,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch(s){}}function Kn(t){this.l=t.$b||null,this.j=t.ib||!1}function Qn(t,e){re.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=Jn,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Bn.prototype.cancel=function(){var t,e;if(this.i=Gn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var n=q(this.g.values()),i=n.next();!i.done;i=n.next())i.value.cancel()}catch(r){t={error:r}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.g.clear()}},$n.prototype.stringify=function(t){return $.JSON.stringify(t,void 0)},$n.prototype.parse=function(t){return $.JSON.parse(t,void 0)},nt(Kn,Ue),Kn.prototype.g=function(){return new Qn(this.l,this.j)},Kn.prototype.i=function(t){return function(){return t}}({}),nt(Qn,re);var Jn=0;function Xn(t){t.j.read().then(t.Sa.bind(t)).catch(t.ha.bind(t))}function ti(t){t.readyState=4,t.l=null,t.j=null,t.A=null,ei(t)}function ei(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(z=Qn.prototype).open=function(t,e){if(this.readyState!=Jn)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,ei(this)},z.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||$).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},z.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ti(this)),this.readyState=Jn},z.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,ei(this)),this.g&&(this.readyState=3,ei(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==$.ReadableStream&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Xn(this)}else t.text().then(this.Ua.bind(this),this.ha.bind(this))},z.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?ti(this):ei(this),3==this.readyState&&Xn(this)}},z.Ua=function(t){this.g&&(this.response=this.responseText=t,ti(this))},z.Ta=function(t){this.g&&(this.response=t,ti(this))},z.ha=function(){this.g&&ti(this)},z.setRequestHeader=function(t,e){this.v.append(t,e)},z.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},z.getAllResponseHeaders=function(){if(!this.h)return"";for(var t=[],e=this.h.entries(),n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(Qn.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var ni=$.JSON.parse;function ii(t){re.call(this),this.headers=new hn,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=ri,this.K=this.L=!1}nt(ii,re);var ri="",si=/^https?$/i,oi=["POST","PUT"];function ai(t){return"content-type"==t.toLowerCase()}function li(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,ci(t),hi(t)}function ci(t){t.D||(t.D=!0,se(t,"complete"),se(t,"error"))}function ui(t){if(t.h&&void 0!==G&&(!t.C[1]||4!=pi(t)||2!=t.ba()))if(t.v&&4==pi(t))be(t.Fa,0,t);else if(se(t,"readystatechange"),4==pi(t)){t.h=!1;try{var e,n=t.ba();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var i=!0;break t;default:i=!1}if(!(e=i)){var r;if(r=0===n){var s=String(t.H).match(fn)[1]||null;if(!s&&$.self&&$.self.location){var o=$.self.location.protocol;s=o.substr(0,o.length-1)}r=!si.test(s?s.toLowerCase():"")}e=r}if(e)se(t,"complete"),se(t,"success");else{t.m=6;try{var a=2<pi(t)?t.g.statusText:""}catch(l){a=""}t.j=a+" ["+t.ba()+"]",ci(t)}}finally{hi(t)}}}function hi(t,e){if(t.g){di(t);var n=t.g,i=t.C[0]?Z:null;t.g=null,t.C=null,e||se(t,"ready");try{n.onreadystatechange=i}catch(r){}}}function di(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&($.clearTimeout(t.A),t.A=null)}function pi(t){return t.g?t.g.readyState:0}function fi(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case ri:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch(e){return null}}function mi(t,e,n){t:{for(i in n){var i=!1;break t}i=!0}i||(n=function(t){var e="";return gt(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):wn(t,e,n))}function gi(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function _i(t){this.za=0,this.l=[],this.h=new Te,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=gi("failFast",!1,t),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=gi("baseRetryDelayMs",5e3,t),this.$a=gi("retryDelaySeedMs",1e4,t),this.Ya=gi("forwardChannelMaxRetries",2,t),this.ra=gi("forwardChannelRequestTimeoutMs",2e4,t),this.qa=t&&t.xmlHttpFactory||void 0,this.Ba=t&&t.Yb||!1,this.K=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.J="",this.i=new Bn(t&&t.concurrentRequestLimit),this.Ca=new Zn,this.ja=t&&t.fastHandshake||!1,this.Ra=t&&t.Wb||!1,t&&t.Aa&&this.h.Aa(),t&&t.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&t&&t.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!t||!1!==t.Xb}function yi(t){if(bi(t),3==t.G){var e=t.V++,n=gn(t.F);wn(n,"SID",t.J),wn(n,"RID",e),wn(n,"TYPE","terminate"),Si(t,n),(e=new Ze(t,t.h,e,void 0)).K=2,e.v=Cn(gn(n)),n=!1,$.navigator&&$.navigator.sendBeacon&&(n=$.navigator.sendBeacon(e.v.toString(),"")),!n&&$.Image&&((new Image).src=e.v,n=!0),n||(e.g=Li(e.l,null),e.g.ea(e.v)),e.F=Date.now(),rn(e)}Ni(t)}function vi(t){t.g&&(Ii(t),t.g.cancel(),t.g=null)}function bi(t){vi(t),t.u&&($.clearTimeout(t.u),t.u=null),Di(t),t.i.cancel(),t.m&&("number"==typeof t.m&&$.clearTimeout(t.m),t.m=null)}function wi(t,e){t.l.push(new Mn(t.Za++,e)),3==t.G&&Ci(t)}function Ci(t){Un(t.i)||t.m||(t.m=!0,fe(t.Ha,t),t.C=0)}function Ei(t,e){var n;n=e?e.m:t.V++;var i=gn(t.F);wn(i,"SID",t.J),wn(i,"RID",n),wn(i,"AID",t.U),Si(t,i),t.o&&t.s&&mi(i,t.o,t.s),n=new Ze(t,t.h,n,t.C+1),null===t.o&&(n.H=t.s),e&&(t.l=e.D.concat(t.l)),e=xi(t,n,1e3),n.setTimeout(Math.round(.5*t.ra)+Math.round(.5*t.ra*Math.random())),zn(t.i,n),Je(n,i,e)}function Si(t,e){t.j&&un({},function(t,n){wn(e,n,t)})}function xi(t,e,n){n=Math.min(t.l.length,n);var i=t.j?tt(t.j.Oa,t.j,t):null;t:for(var r=t.l,s=-1;;){var o=["count="+n];-1==s?0<n?o.push("ofs="+(s=r[0].h)):s=0:o.push("ofs="+s);for(var a=!0,l=0;l<n;l++){var c=r[l].h,u=r[l].g;if(0>(c-=s))s=Math.max(0,r[l].h-100),a=!1;else try{Yn(u,o,"req"+c+"_")}catch(dr){i&&i(u)}}if(a){i=o.join("&");break t}}return t=t.l.splice(0,n),e.D=t,i}function ki(t){t.g||t.u||(t.Y=1,fe(t.Ga,t),t.A=0)}function Ti(t){return!(t.g||t.u||3<=t.A||(t.Y++,t.u=Me(tt(t.Ga,t),Oi(t,t.A)),t.A++,0))}function Ii(t){null!=t.B&&($.clearTimeout(t.B),t.B=null)}function Ai(t){t.g=new Ze(t,t.h,"rpc",t.Y),null===t.o&&(t.g.H=t.s),t.g.O=0;var e=gn(t.oa);wn(e,"RID","rpc"),wn(e,"SID",t.J),wn(e,"CI",t.N?"0":"1"),wn(e,"AID",t.U),Si(t,e),wn(e,"TYPE","xmlhttp"),t.o&&t.s&&mi(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.la,n.K=1,n.v=Cn(gn(e)),n.s=null,n.U=!0,Xe(n,t)}function Di(t){null!=t.v&&($.clearTimeout(t.v),t.v=null)}function Ri(t,e){var n=null;if(t.g==e){Di(t),Ii(t),t.g=null;var i=2}else{if(!qn(t.i,e))return;n=e.D,Hn(t.i,e),i=1}if(t.I=e.N,0!=t.G)if(e.i)if(1==i){n=e.s?e.s.length:0,e=Date.now()-e.F;var r=t.C;se(i=Re(),new Le(i,n,e,r)),Ci(t)}else ki(t);else if(3==(r=e.o)||0==r&&0<t.I||!(1==i&&function(t,e){return!(jn(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.l=e.D.concat(t.l),0):1==t.G||2==t.G||t.C>=(t.Xa?0:t.Ya)||(t.m=Me(tt(t.Ha,t,e),Oi(t,t.C)),t.C++,0)))}(t,e)||2==i&&Ti(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),r){case 1:Pi(t,5);break;case 4:Pi(t,10);break;case 3:Pi(t,6);break;default:Pi(t,2)}}function Oi(t,e){var n=t.Pa+Math.floor(Math.random()*t.$a);return t.j||(n*=2),n*e}function Pi(t,e){if(t.h.info("Error code "+e),2==e){var n=null;t.j&&(n=null);var i=tt(t.jb,t);n||(n=new mn("//www.google.com/images/cleardot.gif"),$.location&&"http"==$.location.protocol||_n(n,"https"),Cn(n)),function(t,e){var n=new Te;if($.Image){var i=new Image;i.onload=et(Wn,n,i,"TestLoadImage: loaded",!0,e),i.onerror=et(Wn,n,i,"TestLoadImage: error",!1,e),i.onabort=et(Wn,n,i,"TestLoadImage: abort",!1,e),i.ontimeout=et(Wn,n,i,"TestLoadImage: timeout",!1,e),$.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=t}else e(!1)}(n.toString(),i)}else Fe(2);t.G=0,t.j&&t.j.va(e),Ni(t),bi(t)}function Ni(t){t.G=0,t.I=-1,t.j&&(0==Gn(t.i).length&&0==t.l.length||(t.i.i.length=0,lt(t.l),t.l.length=0),t.j.ua())}function Fi(t,e,n){var i=function(t){return t instanceof mn?gn(t):new mn(t,void 0)}(n);if(""!=i.i)e&&yn(i,e+"."+i.i),vn(i,i.m);else{var r=$.location;i=function(t,e,n,i){var r=new mn(null,void 0);return t&&_n(r,t),e&&yn(r,e),n&&vn(r,n),i&&(r.l=i),r}(r.protocol,e?e+"."+r.hostname:r.hostname,+r.port,n)}return t.aa&&gt(t.aa,function(t,e){wn(i,e,t)}),n=t.sa,(e=t.D)&&n&&wn(i,e,n),wn(i,"VER",t.ma),Si(t,i),i}function Li(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new ii(n&&t.Ba&&!t.qa?new Kn({ib:!0}):t.qa)).L=t.H,e}function Mi(){}function Bi(){if(St&&!(10<=Number(Nt)))throw Error("Environmental error: no available transport.")}function Vi(t,e){re.call(this),this.g=new _i(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.P=t,(t=e&&e.httpHeadersOverwriteParam)&&!ct(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!ct(e)&&(this.g.D=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new qi(this)}function Ui(t){He.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function ji(){Ge.call(this),this.status=1}function qi(t){this.g=t}(z=ii.prototype).ea=function(t,e,n,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():qe.g(),this.C=function(t){return t.h||(t.h=t.i())}(this.u?this.u:qe),this.g.onreadystatechange=tt(this.Fa,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(s){return void li(this,s)}t=n||"";var r=new hn(this.headers);i&&un(i,function(t,e){r.set(e,t)}),i=function(t){t:{for(var e=ai,n=t.length,i="string"==typeof t?t.split(""):t,r=0;r<n;r++)if(r in i&&e.call(void 0,i[r],r,t)){e=r;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(r.T()),n=$.FormData&&t instanceof $.FormData,!(0<=st(oi,e))||i||n||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),r.forEach(function(t,e){this.g.setRequestHeader(e,t)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{di(this),0<this.B&&((this.K=function(t){return St&&function(){return t=Pt,Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=function(){for(var t=0,e=ht(String(wt)).split("."),n=ht("9").split("."),i=Math.max(e.length,n.length),r=0;0==t&&r<i;r++){var s=e[r]||"",o=n[r]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==s[0].length&&0==o[0].length)break;t=pt(0==s[1].length?0:parseInt(s[1],10),0==o[1].length?0:parseInt(o[1],10))||pt(0==s[2].length,0==o[2].length)||pt(s[2],o[2]),s=s[3],o=o[3]}while(0==t)}return 0<=t}();var t}()&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=tt(this.pa,this)):this.A=be(this.pa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){li(this,s)}},z.pa=function(){void 0!==G&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,se(this,"timeout"),this.abort(8))},z.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,se(this,"complete"),se(this,"abort"),hi(this))},z.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),hi(this,!0)),ii.Z.M.call(this)},z.Fa=function(){this.s||(this.F||this.v||this.l?ui(this):this.cb())},z.cb=function(){ui(this)},z.ba=function(){try{return 2<pi(this)?this.g.status:-1}catch(Ct){return-1}},z.ga=function(){try{return this.g?this.g.responseText:""}catch(Ct){return""}},z.Qa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),ni(e)}},z.Da=function(){return this.m},z.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(z=_i.prototype).ma=8,z.G=1,z.hb=function(t){try{this.h.info("Origin Trials invoked: "+t)}catch(e){}},z.Ha=function(t){if(this.m)if(this.m=null,1==this.G){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;var e=new Ze(this,this.h,t,void 0),n=this.s;if(this.P&&(n?vt(n=_t(n),this.P):n=this.P),null===this.o&&(e.H=n),this.ja)t:{for(var i=0,r=0;r<this.l.length;r++){var s=this.l[r];if(void 0===(s="__data__"in s.g&&"string"==typeof(s=s.g.__data__)?s.length:void 0))break;if(4096<(i+=s)){i=r;break t}if(4096===i||r===this.l.length-1){i=r+1;break t}}i=1e3}else i=1e3;i=xi(this,e,i),wn(r=gn(this.F),"RID",t),wn(r,"CVER",22),this.D&&wn(r,"X-HTTP-Session-Id",this.D),Si(this,r),this.o&&n&&mi(r,this.o,n),zn(this.i,e),this.Ra&&wn(r,"TYPE","init"),this.ja?(wn(r,"$req",i),wn(r,"SID","null"),e.$=!0,Je(e,r,null)):Je(e,r,i),this.G=2}}else 3==this.G&&(t?Ei(this,t):0==this.l.length||Un(this.i)||Ei(this))},z.Ga=function(){if(this.u=null,Ai(this),this.$&&!(this.L||null==this.g||0>=this.O)){var t=2*this.O;this.h.info("BP detection timer enabled: "+t),this.B=Me(tt(this.bb,this),t)}},z.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Fe(10),vi(this),Ai(this))},z.ab=function(){null!=this.v&&(this.v=null,vi(this),Ti(this),Fe(19))},z.jb=function(t){t?(this.h.info("Successfully pinged google.com"),Fe(2)):(this.h.info("Failed to ping google.com"),Fe(1))},(z=Mi.prototype).xa=function(){},z.wa=function(){},z.va=function(){},z.ua=function(){},z.Oa=function(){},Bi.prototype.g=function(t,e){return new Vi(t,e)},nt(Vi,re),Vi.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;t.Wa&&(t.h.info("Origin Trials enabled."),fe(tt(t.hb,t,e))),Fe(0),t.W=e,t.aa=n||{},t.N=t.X,t.F=Fi(t,null,t.W),Ci(t)},Vi.prototype.close=function(){yi(this.g)},Vi.prototype.u=function(t){if("string"==typeof t){var e={};e.__data__=t,wi(this.g,e)}else this.v?((e={}).__data__=ae(t),wi(this.g,e)):wi(this.g,t)},Vi.prototype.M=function(){this.g.j=null,delete this.j,yi(this.g),delete this.g,Vi.Z.M.call(this)},nt(Ui,He),nt(ji,Ge),nt(qi,Mi),qi.prototype.xa=function(){se(this.g,"a")},qi.prototype.wa=function(t){se(this.g,new Ui(t))},qi.prototype.va=function(t){se(this.g,new ji(t))},qi.prototype.ua=function(){se(this.g,"b")},Bi.prototype.createWebChannel=Bi.prototype.g,Vi.prototype.send=Vi.prototype.u,Vi.prototype.open=Vi.prototype.m,Vi.prototype.close=Vi.prototype.close,Be.NO_ERROR=0,Be.TIMEOUT=8,Be.HTTP_ERROR=6,Ve.COMPLETE="complete",je.EventType=ze,ze.OPEN="a",ze.CLOSE="b",ze.ERROR="c",ze.MESSAGE="d",re.prototype.listen=re.prototype.N,ii.prototype.listenOnce=ii.prototype.O,ii.prototype.getLastError=ii.prototype.La,ii.prototype.getLastErrorCode=ii.prototype.Da,ii.prototype.getStatus=ii.prototype.ba,ii.prototype.getResponseJson=ii.prototype.Qa,ii.prototype.getResponseText=ii.prototype.ga,ii.prototype.send=ii.prototype.ea;var zi=Be,Hi=Ve,Gi=Ae,$i=Kn,Zi=je,Yi=ii;class Wi{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Wi.UNAUTHENTICATED=new Wi(null),Wi.GOOGLE_CREDENTIALS=new Wi("google-credentials-uid"),Wi.FIRST_PARTY=new Wi("first-party-uid"),Wi.MOCK_USER=new Wi("mock-user");let Ki="9.0.2";const Qi=new V.Yd("@firebase/firestore");function Ji(){return Qi.logLevel}function Xi(t,...e){if(Qi.logLevel<=V.in.DEBUG){const n=e.map(nr);Qi.debug(`Firestore (${Ki}): ${t}`,...n)}}function tr(t,...e){if(Qi.logLevel<=V.in.ERROR){const n=e.map(nr);Qi.error(`Firestore (${Ki}): ${t}`,...n)}}function er(t,...e){if(Qi.logLevel<=V.in.WARN){const n=e.map(nr);Qi.warn(`Firestore (${Ki}): ${t}`,...n)}}function nr(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(e){return t}}function ir(t="Unexpected state"){const e=`FIRESTORE (${Ki}) INTERNAL ASSERTION FAILED: `+t;throw tr(e),new Error(e)}function rr(t,e){t||ir()}function sr(t,e){return t}const or={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ar extends Error{constructor(t,e){super(e),this.code=t,this.message=e,this.name="FirebaseError",this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class lr{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class cr{constructor(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization=`Bearer ${t}`}}class ur{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(Wi.UNAUTHENTICATED))}shutdown(){}}class hr{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class dr{constructor(t){this.t=t,this.currentUser=Wi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){var n=this;let i=this.i;const r=t=>this.i!==i?(i=this.i,e(t)):Promise.resolve();let s=new lr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new lr,t.enqueueRetryable(()=>r(this.currentUser))};const o=()=>{const e=s;t.enqueueRetryable((0,L.Z)(function*(){yield e.promise,yield r(n.currentUser)}))},a=t=>{Xi("FirebaseCredentialsProvider","Auth detected"),this.auth=t,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(t=>a(t)),setTimeout(()=>{if(!this.auth){const t=this.t.getImmediate({optional:!0});t?a(t):(Xi("FirebaseCredentialsProvider","Auth not yet detected"),s.resolve(),s=new lr)}},0),o()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(e=>this.i!==t?(Xi("FirebaseCredentialsProvider","getToken aborted due to token change."),this.getToken()):e?(rr("string"==typeof e.accessToken),new cr(e.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return rr(null===t||"string"==typeof t),new Wi(t)}}class pr{constructor(t,e,n){this.h=t,this.l=e,this.m=n,this.type="FirstParty",this.user=Wi.FIRST_PARTY}get authHeaders(){const t={"X-Goog-AuthUser":this.l},e=this.h.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),this.m&&(t["X-Goog-Iam-Authorization-Token"]=this.m),t}}class fr{constructor(t,e,n){this.h=t,this.l=e,this.m=n}getToken(){return Promise.resolve(new pr(this.h,this.l,this.m))}start(t,e){t.enqueueRetryable(()=>e(Wi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class mr{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=t=>this.g(t),this.p=t=>e.writeSequenceNumber(t))}g(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.p&&this.p(t),t}}function gr(t){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}mr.T=-1;class _r{static I(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length;let n="";for(;n.length<20;){const i=gr(40);for(let r=0;r<i.length;++r)n.length<20&&i[r]<e&&(n+=t.charAt(i[r]%t.length))}return n}}function yr(t,e){return t<e?-1:t>e?1:0}function vr(t,e,n){return t.length===e.length&&t.every((t,i)=>n(t,e[i]))}function br(t){return t+"\0"}class wr{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new ar(or.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new ar(or.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new ar(or.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ar(or.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return wr.fromMillis(Date.now())}static fromDate(t){return wr.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),n=Math.floor(1e6*(t-1e3*e));return new wr(e,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?yr(this.nanoseconds,t.nanoseconds):yr(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Cr{constructor(t){this.timestamp=t}static fromTimestamp(t){return new Cr(t)}static min(){return new Cr(new wr(0,0))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function Er(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Sr(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function xr(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class kr{constructor(t,e,n){void 0===e?e=0:e>t.length&&ir(),void 0===n?n=t.length-e:n>t.length-e&&ir(),this.segments=t,this.offset=e,this.len=n}get length(){return this.len}isEqual(t){return 0===kr.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof kr?t.forEach(t=>{e.push(t)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const n=Math.min(t.length,e.length);for(let i=0;i<n;i++){const n=t.get(i),r=e.get(i);if(n<r)return-1;if(n>r)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class Tr extends kr{construct(t,e,n){return new Tr(t,e,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const n of t){if(n.indexOf("//")>=0)throw new ar(or.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);e.push(...n.split("/").filter(t=>t.length>0))}return new Tr(e)}static emptyPath(){return new Tr([])}}const Ir=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ar extends kr{construct(t,e,n){return new Ar(t,e,n)}static isValidIdentifier(t){return Ir.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ar.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Ar(["__name__"])}static fromServerFormat(t){const e=[];let n="",i=0;const r=()=>{if(0===n.length)throw new ar(or.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(n),n=""};let s=!1;for(;i<t.length;){const e=t[i];if("\\"===e){if(i+1===t.length)throw new ar(or.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const e=t[i+1];if("\\"!==e&&"."!==e&&"`"!==e)throw new ar(or.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);n+=e,i+=2}else"`"===e?(s=!s,i++):"."!==e||s?(n+=e,i++):(r(),i++)}if(r(),s)throw new ar(or.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ar(e)}static emptyPath(){return new Ar([])}}class Dr{constructor(t){this.fields=t,t.sort(Ar.comparator)}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return vr(this.fields,t.fields,(t,e)=>t.isEqual(e))}}let Rr=(()=>{class t{constructor(t){this.binaryString=t}static fromBase64String(e){const n=atob(e);return new t(n)}static fromUint8Array(e){const n=function(t){let e="";for(let n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e);return new t(n)}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return yr(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}return t.EMPTY_BYTE_STRING=new t(""),t})();const Or=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Pr(t){if(rr(!!t),"string"==typeof t){let e=0;const n=Or.exec(t);if(rr(!!n),n[1]){let t=n[1];t=(t+"000000000").substr(0,9),e=Number(t)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Nr(t.seconds),nanos:Nr(t.nanos)}}function Nr(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Fr(t){return"string"==typeof t?Rr.fromBase64String(t):Rr.fromUint8Array(t)}function Lr(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Mr(t){const e=t.mapValue.fields.__previous_value__;return Lr(e)?Mr(e):e}function Br(t){const e=Pr(t.mapValue.fields.__local_write_time__.timestampValue);return new wr(e.seconds,e.nanos)}function Vr(t){return null==t}function Ur(t){return 0===t&&1/t==-1/0}function jr(t){return"number"==typeof t&&Number.isInteger(t)&&!Ur(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}class qr{constructor(t){this.path=t}static fromPath(t){return new qr(Tr.fromString(t))}static fromName(t){return new qr(Tr.fromString(t).popFirst(5))}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}isEqual(t){return null!==t&&0===Tr.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return Tr.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new qr(new Tr(t.slice()))}}function zr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Lr(t)?4:10:ir()}function Hr(t,e){const n=zr(t);if(n!==zr(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Br(t).isEqual(Br(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;const n=Pr(t.timestampValue),i=Pr(e.timestampValue);return n.seconds===i.seconds&&n.nanos===i.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return Fr(t.bytesValue).isEqual(Fr(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return Nr(t.geoPointValue.latitude)===Nr(e.geoPointValue.latitude)&&Nr(t.geoPointValue.longitude)===Nr(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return Nr(t.integerValue)===Nr(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){const n=Nr(t.doubleValue),i=Nr(e.doubleValue);return n===i?Ur(n)===Ur(i):isNaN(n)&&isNaN(i)}return!1}(t,e);case 9:return vr(t.arrayValue.values||[],e.arrayValue.values||[],Hr);case 10:return function(t,e){const n=t.mapValue.fields||{},i=e.mapValue.fields||{};if(Er(n)!==Er(i))return!1;for(const r in n)if(n.hasOwnProperty(r)&&(void 0===i[r]||!Hr(n[r],i[r])))return!1;return!0}(t,e);default:return ir()}}function Gr(t,e){return void 0!==(t.values||[]).find(t=>Hr(t,e))}function $r(t,e){const n=zr(t),i=zr(e);if(n!==i)return yr(n,i);switch(n){case 0:return 0;case 1:return yr(t.booleanValue,e.booleanValue);case 2:return function(t,e){const n=Nr(t.integerValue||t.doubleValue),i=Nr(e.integerValue||e.doubleValue);return n<i?-1:n>i?1:n===i?0:isNaN(n)?isNaN(i)?0:-1:1}(t,e);case 3:return Zr(t.timestampValue,e.timestampValue);case 4:return Zr(Br(t),Br(e));case 5:return yr(t.stringValue,e.stringValue);case 6:return function(t,e){const n=Fr(t),i=Fr(e);return n.compareTo(i)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){const n=t.split("/"),i=e.split("/");for(let r=0;r<n.length&&r<i.length;r++){const t=yr(n[r],i[r]);if(0!==t)return t}return yr(n.length,i.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){const n=yr(Nr(t.latitude),Nr(e.latitude));return 0!==n?n:yr(Nr(t.longitude),Nr(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){const n=t.values||[],i=e.values||[];for(let r=0;r<n.length&&r<i.length;++r){const t=$r(n[r],i[r]);if(t)return t}return yr(n.length,i.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){const n=t.fields||{},i=Object.keys(n),r=e.fields||{},s=Object.keys(r);i.sort(),s.sort();for(let o=0;o<i.length&&o<s.length;++o){const t=yr(i[o],s[o]);if(0!==t)return t;const e=$r(n[i[o]],r[s[o]]);if(0!==e)return e}return yr(i.length,s.length)}(t.mapValue,e.mapValue);default:throw ir()}}function Zr(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return yr(t,e);const n=Pr(t),i=Pr(e),r=yr(n.seconds,i.seconds);return 0!==r?r:yr(n.nanos,i.nanos)}function Yr(t){return Wr(t)}function Wr(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){const e=Pr(t);return`time(${e.seconds},${e.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Fr(t.bytesValue).toBase64():"referenceValue"in t?qr.fromName(t.referenceValue).toString():"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(t){let e="[",n=!0;for(const i of t.values||[])n?n=!1:e+=",",e+=Wr(i);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){const e=Object.keys(t.fields||{}).sort();let n="{",i=!0;for(const r of e)i?i=!1:n+=",",n+=`${r}:${Wr(t.fields[r])}`;return n+"}"}(t.mapValue):ir();var e}function Kr(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Qr(t){return!!t&&"integerValue"in t}function Jr(t){return!!t&&"arrayValue"in t}function Xr(t){return!!t&&"nullValue"in t}function ts(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function es(t){return!!t&&"mapValue"in t}function ns(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Sr(t.mapValue.fields,(t,n)=>e.mapValue.fields[t]=ns(n)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ns(t.arrayValue.values[n]);return e}return Object.assign({},t)}class is{constructor(t){this.value=t}static empty(){return new is({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let n=0;n<t.length-1;++n)if(e=(e.mapValue.fields||{})[t.get(n)],!es(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=ns(e)}setAll(t){let e=Ar.emptyPath(),n={},i=[];t.forEach((t,r)=>{if(!e.isImmediateParentOf(r)){const t=this.getFieldsMap(e);this.applyChanges(t,n,i),n={},i=[],e=r.popLast()}t?n[r.lastSegment()]=ns(t):i.push(r.lastSegment())});const r=this.getFieldsMap(e);this.applyChanges(r,n,i)}delete(t){const e=this.field(t.popLast());es(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Hr(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let n=0;n<t.length;++n){let i=e.mapValue.fields[t.get(n)];es(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},e.mapValue.fields[t.get(n)]=i),e=i}return e.mapValue.fields}applyChanges(t,e,n){Sr(e,(e,n)=>t[e]=n);for(const i of n)delete t[i]}clone(){return new is(ns(this.value))}}function rs(t){const e=[];return Sr(t.fields,(t,n)=>{const i=new Ar([t]);if(es(n)){const t=rs(n.mapValue).fields;if(0===t.length)e.push(i);else for(const n of t)e.push(i.child(n))}else e.push(i)}),new Dr(e)}class ss{constructor(t,e,n,i,r){this.key=t,this.documentType=e,this.version=n,this.data=i,this.documentState=r}static newInvalidDocument(t){return new ss(t,0,Cr.min(),is.empty(),0)}static newFoundDocument(t,e,n){return new ss(t,1,e,n,0)}static newNoDocument(t,e){return new ss(t,2,e,is.empty(),0)}static newUnknownDocument(t,e){return new ss(t,3,e,is.empty(),2)}convertToFoundDocument(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=is.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=is.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof ss&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}clone(){return new ss(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class os{constructor(t,e=null,n=[],i=[],r=null,s=null,o=null){this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=i,this.limit=r,this.startAt=s,this.endAt=o,this.A=null}}function as(t,e=null,n=[],i=[],r=null,s=null,o=null){return new os(t,e,n,i,r,s,o)}function ls(t){const e=sr(t);if(null===e.A){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(t=>function(t){return t.field.canonicalString()+t.op.toString()+Yr(t.value)}(t)).join(","),t+="|ob:",t+=e.orderBy.map(t=>function(t){return t.field.canonicalString()+t.dir}(t)).join(","),Vr(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=ws(e.startAt)),e.endAt&&(t+="|ub:",t+=ws(e.endAt)),e.A=t}return e.A}function cs(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!Es(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if((n=t.filters[r]).op!==(i=e.filters[r]).op||!n.field.isEqual(i.field)||!Hr(n.value,i.value))return!1;var n,i;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!xs(t.startAt,e.startAt)&&xs(t.endAt,e.endAt)}function us(t){return qr.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class hs extends class{}{constructor(t,e,n){super(),this.field=t,this.op=e,this.value=n}static create(t,e,n){return t.isKeyField()?"in"===e||"not-in"===e?this.R(t,e,n):new ds(t,e,n):"array-contains"===e?new gs(t,n):"in"===e?new _s(t,n):"not-in"===e?new ys(t,n):"array-contains-any"===e?new vs(t,n):new hs(t,e,n)}static R(t,e,n){return"in"===e?new ps(t,n):new fs(t,n)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.P($r(e,this.value)):null!==e&&zr(this.value)===zr(e)&&this.P($r(e,this.value))}P(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return ir()}}v(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class ds extends hs{constructor(t,e,n){super(t,e,n),this.key=qr.fromName(n.referenceValue)}matches(t){const e=qr.comparator(t.key,this.key);return this.P(e)}}class ps extends hs{constructor(t,e){super(t,"in",e),this.keys=ms(0,e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class fs extends hs{constructor(t,e){super(t,"not-in",e),this.keys=ms(0,e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function ms(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(t=>qr.fromName(t.referenceValue))}class gs extends hs{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return Jr(e)&&Gr(e.arrayValue,this.value)}}class _s extends hs{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&Gr(this.value.arrayValue,e)}}class ys extends hs{constructor(t,e){super(t,"not-in",e)}matches(t){if(Gr(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!Gr(this.value.arrayValue,e)}}class vs extends hs{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!Jr(e)||!e.arrayValue.values)&&e.arrayValue.values.some(t=>Gr(this.value.arrayValue,t))}}class bs{constructor(t,e){this.position=t,this.before=e}}function ws(t){return`${t.before?"b":"a"}:${t.position.map(t=>Yr(t)).join(",")}`}class Cs{constructor(t,e="asc"){this.field=t,this.dir=e}}function Es(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function Ss(t,e,n){let i=0;for(let r=0;r<t.position.length;r++){const s=e[r],o=t.position[r];if(i=s.field.isKeyField()?qr.comparator(qr.fromName(o.referenceValue),n.key):$r(o,n.data.field(s.field)),"desc"===s.dir&&(i*=-1),0!==i)break}return t.before?i<=0:i<0}function xs(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Hr(t.position[n],e.position[n]))return!1;return!0}class ks{constructor(t,e=null,n=[],i=[],r=null,s="F",o=null,a=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=i,this.limit=r,this.limitType=s,this.startAt=o,this.endAt=a,this.V=null,this.S=null}}function Ts(t,e,n,i,r,s,o,a){return new ks(t,e,n,i,r,s,o,a)}function Is(t){return new ks(t)}function As(t){return!Vr(t.limit)&&"F"===t.limitType}function Ds(t){return!Vr(t.limit)&&"L"===t.limitType}function Rs(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Os(t){for(const e of t.filters)if(e.v())return e.field;return null}function Ps(t){return null!==t.collectionGroup}function Ns(t){const e=sr(t);if(null===e.V){e.V=[];const t=Os(e),n=Rs(e);if(null!==t&&null===n)t.isKeyField()||e.V.push(new Cs(t)),e.V.push(new Cs(Ar.keyField(),"asc"));else{let t=!1;for(const n of e.explicitOrderBy)e.V.push(n),n.field.isKeyField()&&(t=!0);if(!t){const t=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.V.push(new Cs(Ar.keyField(),t))}}}return e.V}function Fs(t){const e=sr(t);if(!e.S)if("F"===e.limitType)e.S=as(e.path,e.collectionGroup,Ns(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const r of Ns(e))t.push(new Cs(r.field,"desc"===r.dir?"asc":"desc"));const n=e.endAt?new bs(e.endAt.position,!e.endAt.before):null,i=e.startAt?new bs(e.startAt.position,!e.startAt.before):null;e.S=as(e.path,e.collectionGroup,t,e.filters,e.limit,n,i)}return e.S}function Ls(t,e,n){return new ks(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ms(t,e){return cs(Fs(t),Fs(e))&&t.limitType===e.limitType}function Bs(t){return`${ls(Fs(t))}|lt:${t.limitType}`}function Vs(t){return`Query(target=${function(t){let e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=`, filters: [${t.filters.map(t=>{return`${(e=t).field.canonicalString()} ${e.op} ${Yr(e.value)}`;var e}).join(", ")}]`),Vr(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=`, orderBy: [${t.orderBy.map(t=>function(t){return`${t.field.canonicalString()} (${t.dir})`}(t)).join(", ")}]`),t.startAt&&(e+=", startAt: "+ws(t.startAt)),t.endAt&&(e+=", endAt: "+ws(t.endAt)),`Target(${e})`}(Fs(t))}; limitType=${t.limitType})`}function Us(t,e){return e.isFoundDocument()&&function(t,e){const n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):qr.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(const n of t.explicitOrderBy)if(!n.field.isKeyField()&&null===e.data.field(n.field))return!1;return!0}(t,e)&&function(t,e){for(const n of t.filters)if(!n.matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!Ss(t.startAt,Ns(t),e)||t.endAt&&Ss(t.endAt,Ns(t),e))}(t,e)}function js(t){return(e,n)=>{let i=!1;for(const r of Ns(t)){const t=qs(r,e,n);if(0!==t)return t;i=i||r.field.isKeyField()}return 0}}function qs(t,e,n){const i=t.field.isKeyField()?qr.comparator(e.key,n.key):function(t,e,n){const i=e.data.field(t),r=n.data.field(t);return null!==i&&null!==r?$r(i,r):ir()}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return ir()}}function zs(t,e){if(t.D){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ur(e)?"-0":e}}function Hs(t){return{integerValue:""+t}}function Gs(t,e){return jr(e)?Hs(e):zs(t,e)}class $s{constructor(){this._=void 0}}function Zs(t,e,n){return t instanceof Ks?function(t,e){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof Qs?Js(t,e):t instanceof Xs?to(t,e):function(t,e){const n=Ws(t,e),i=no(n)+no(t.C);return Qr(n)&&Qr(t.C)?Hs(i):zs(t.N,i)}(t,e)}function Ys(t,e,n){return t instanceof Qs?Js(t,e):t instanceof Xs?to(t,e):n}function Ws(t,e){return t instanceof eo?Qr(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}class Ks extends $s{}class Qs extends $s{constructor(t){super(),this.elements=t}}function Js(t,e){const n=io(e);for(const i of t.elements)n.some(t=>Hr(t,i))||n.push(i);return{arrayValue:{values:n}}}class Xs extends $s{constructor(t){super(),this.elements=t}}function to(t,e){let n=io(e);for(const i of t.elements)n=n.filter(t=>!Hr(t,i));return{arrayValue:{values:n}}}class eo extends $s{constructor(t,e){super(),this.N=t,this.C=e}}function no(t){return Nr(t.integerValue||t.doubleValue)}function io(t){return Jr(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class ro{constructor(t,e){this.field=t,this.transform=e}}class so{constructor(t,e){this.version=t,this.transformResults=e}}class oo{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new oo}static exists(t){return new oo(void 0,t)}static updateTime(t){return new oo(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function ao(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class lo{}function co(t,e,n){t instanceof mo?function(t,e,n){const i=t.value.clone(),r=yo(t.fieldTransforms,e,n.transformResults);i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(t,e,n):t instanceof go?function(t,e,n){if(!ao(t.precondition,e))return void e.convertToUnknownDocument(n.version);const i=yo(t.fieldTransforms,e,n.transformResults),r=e.data;r.setAll(_o(t)),r.setAll(i),e.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(t,e,n):function(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,n)}function uo(t,e,n){t instanceof mo?function(t,e,n){if(!ao(t.precondition,e))return;const i=t.value.clone(),r=vo(t.fieldTransforms,n,e);i.setAll(r),e.convertToFoundDocument(fo(e),i).setHasLocalMutations()}(t,e,n):t instanceof go?function(t,e,n){if(!ao(t.precondition,e))return;const i=vo(t.fieldTransforms,n,e),r=e.data;r.setAll(_o(t)),r.setAll(i),e.convertToFoundDocument(fo(e),r).setHasLocalMutations()}(t,e,n):function(t,e){ao(t.precondition,e)&&e.convertToNoDocument(Cr.min())}(t,e)}function ho(t,e){let n=null;for(const i of t.fieldTransforms){const t=e.data.field(i.field),r=Ws(i.transform,t||null);null!=r&&(null==n&&(n=is.empty()),n.set(i.field,r))}return n||null}function po(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&vr(t,e,(t,e)=>function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof Qs&&e instanceof Qs||t instanceof Xs&&e instanceof Xs?vr(t.elements,e.elements,Hr):t instanceof eo&&e instanceof eo?Hr(t.C,e.C):t instanceof Ks&&e instanceof Ks}(t.transform,e.transform)}(t,e))}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function fo(t){return t.isFoundDocument()?t.version:Cr.min()}class mo extends lo{constructor(t,e,n,i=[]){super(),this.key=t,this.value=e,this.precondition=n,this.fieldTransforms=i,this.type=0}}class go extends lo{constructor(t,e,n,i,r=[]){super(),this.key=t,this.data=e,this.fieldMask=n,this.precondition=i,this.fieldTransforms=r,this.type=1}}function _o(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}}),e}function yo(t,e,n){const i=new Map;rr(t.length===n.length);for(let r=0;r<n.length;r++){const s=t[r],o=s.transform,a=e.data.field(s.field);i.set(s.field,Ys(o,a,n[r]))}return i}function vo(t,e,n){const i=new Map;for(const r of t){const t=r.transform,s=n.data.field(r.field);i.set(r.field,Zs(t,s,e))}return i}class bo extends lo{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}}class wo extends lo{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}}class Co{constructor(t){this.count=t}}var Eo,So;function xo(t){switch(t){case or.OK:return ir();case or.CANCELLED:case or.UNKNOWN:case or.DEADLINE_EXCEEDED:case or.RESOURCE_EXHAUSTED:case or.INTERNAL:case or.UNAVAILABLE:case or.UNAUTHENTICATED:return!1;case or.INVALID_ARGUMENT:case or.NOT_FOUND:case or.ALREADY_EXISTS:case or.PERMISSION_DENIED:case or.FAILED_PRECONDITION:case or.ABORTED:case or.OUT_OF_RANGE:case or.UNIMPLEMENTED:case or.DATA_LOSS:return!0;default:return ir()}}function ko(t){if(void 0===t)return tr("GRPC error has no .code"),or.UNKNOWN;switch(t){case Eo.OK:return or.OK;case Eo.CANCELLED:return or.CANCELLED;case Eo.UNKNOWN:return or.UNKNOWN;case Eo.DEADLINE_EXCEEDED:return or.DEADLINE_EXCEEDED;case Eo.RESOURCE_EXHAUSTED:return or.RESOURCE_EXHAUSTED;case Eo.INTERNAL:return or.INTERNAL;case Eo.UNAVAILABLE:return or.UNAVAILABLE;case Eo.UNAUTHENTICATED:return or.UNAUTHENTICATED;case Eo.INVALID_ARGUMENT:return or.INVALID_ARGUMENT;case Eo.NOT_FOUND:return or.NOT_FOUND;case Eo.ALREADY_EXISTS:return or.ALREADY_EXISTS;case Eo.PERMISSION_DENIED:return or.PERMISSION_DENIED;case Eo.FAILED_PRECONDITION:return or.FAILED_PRECONDITION;case Eo.ABORTED:return or.ABORTED;case Eo.OUT_OF_RANGE:return or.OUT_OF_RANGE;case Eo.UNIMPLEMENTED:return or.UNIMPLEMENTED;case Eo.DATA_LOSS:return or.DATA_LOSS;default:return ir()}}(So=Eo||(Eo={}))[So.OK=0]="OK",So[So.CANCELLED=1]="CANCELLED",So[So.UNKNOWN=2]="UNKNOWN",So[So.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",So[So.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",So[So.NOT_FOUND=5]="NOT_FOUND",So[So.ALREADY_EXISTS=6]="ALREADY_EXISTS",So[So.PERMISSION_DENIED=7]="PERMISSION_DENIED",So[So.UNAUTHENTICATED=16]="UNAUTHENTICATED",So[So.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",So[So.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",So[So.ABORTED=10]="ABORTED",So[So.OUT_OF_RANGE=11]="OUT_OF_RANGE",So[So.UNIMPLEMENTED=12]="UNIMPLEMENTED",So[So.INTERNAL=13]="INTERNAL",So[So.UNAVAILABLE=14]="UNAVAILABLE",So[So.DATA_LOSS=15]="DATA_LOSS";class To{constructor(t,e){this.comparator=t,this.root=e||Ao.EMPTY}insert(t,e){return new To(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Ao.BLACK,null,null))}remove(t){return new To(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ao.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null}indexOf(t){let e=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(t,n.key);if(0===i)return e+n.left.size;i<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,n)=>(t(e,n),!1))}toString(){const t=[];return this.inorderTraversal((e,n)=>(t.push(`${e}:${n}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Io(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Io(this.root,t,this.comparator,!1)}getReverseIterator(){return new Io(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Io(this.root,t,this.comparator,!0)}}class Io{constructor(t,e,n,i){this.isReverse=i,this.nodeStack=[];let r=1;for(;!t.isEmpty();)if(r=e?n(t.key,e):1,i&&(r*=-1),r<0)t=this.isReverse?t.left:t.right;else{if(0===r){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ao{constructor(t,e,n,i,r){this.key=t,this.value=e,this.color=null!=n?n:Ao.RED,this.left=null!=i?i:Ao.EMPTY,this.right=null!=r?r:Ao.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,n,i,r){return new Ao(null!=t?t:this.key,null!=e?e:this.value,null!=n?n:this.color,null!=i?i:this.left,null!=r?r:this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,n){let i=this;const r=n(t,i.key);return i=r<0?i.copy(null,null,null,i.left.insert(t,e,n),null):0===r?i.copy(null,e,null,null,null):i.copy(null,null,null,null,i.right.insert(t,e,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ao.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let n,i=this;if(e(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,e),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===e(t,i.key)){if(i.right.isEmpty())return Ao.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,e))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ao.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ao.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ir();if(this.right.isRed())throw ir();const t=this.left.check();if(t!==this.right.check())throw ir();return t+(this.isRed()?0:1)}}Ao.EMPTY=null,Ao.RED=!0,Ao.BLACK=!1,Ao.EMPTY=new class{constructor(){this.size=0}get key(){throw ir()}get value(){throw ir()}get color(){throw ir()}get left(){throw ir()}get right(){throw ir()}copy(t,e,n,i,r){return this}insert(t,e,n){return new Ao(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Do{constructor(t){this.comparator=t,this.data=new To(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,n)=>(t(e),!1))}forEachInRange(t,e){const n=this.data.getIteratorFrom(t[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,t[1])>=0)return;e(i.key)}}forEachWhile(t,e){let n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new Ro(this.data.getIterator())}getIteratorFrom(t){return new Ro(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(t=>{e=e.add(t)}),e}isEqual(t){if(!(t instanceof Do))return!1;if(this.size!==t.size)return!1;const e=this.data.getIterator(),n=t.data.getIterator();for(;e.hasNext();){const t=e.getNext().key,i=n.getNext().key;if(0!==this.comparator(t,i))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new Do(this.comparator);return e.data=t,e}}class Ro{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const Oo=new To(qr.comparator);function Po(){return Oo}const No=new To(qr.comparator);function Fo(){return No}const Lo=new To(qr.comparator);function Mo(){return Lo}const Bo=new Do(qr.comparator);function Vo(...t){let e=Bo;for(const n of t)e=e.add(n);return e}const Uo=new Do(yr);function jo(){return Uo}class qo{constructor(t,e,n,i,r){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=r}static createSynthesizedRemoteEventForCurrentChange(t,e){const n=new Map;return n.set(t,zo.createSynthesizedTargetChangeForCurrentChange(t,e)),new qo(Cr.min(),n,jo(),Po(),Vo())}}class zo{constructor(t,e,n,i,r){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=r}static createSynthesizedTargetChangeForCurrentChange(t,e){return new zo(Rr.EMPTY_BYTE_STRING,e,Vo(),Vo(),Vo())}}class Ho{constructor(t,e,n,i){this.k=t,this.removedTargetIds=e,this.key=n,this.$=i}}class Go{constructor(t,e){this.targetId=t,this.O=e}}class $o{constructor(t,e,n=Rr.EMPTY_BYTE_STRING,i=null){this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=i}}class Zo{constructor(){this.F=0,this.M=Ko(),this.L=Rr.EMPTY_BYTE_STRING,this.B=!1,this.U=!0}get current(){return this.B}get resumeToken(){return this.L}get q(){return 0!==this.F}get K(){return this.U}j(t){t.approximateByteSize()>0&&(this.U=!0,this.L=t)}W(){let t=Vo(),e=Vo(),n=Vo();return this.M.forEach((i,r)=>{switch(r){case 0:t=t.add(i);break;case 2:e=e.add(i);break;case 1:n=n.add(i);break;default:ir()}}),new zo(this.L,this.B,t,e,n)}G(){this.U=!1,this.M=Ko()}H(t,e){this.U=!0,this.M=this.M.insert(t,e)}J(t){this.U=!0,this.M=this.M.remove(t)}Y(){this.F+=1}X(){this.F-=1}Z(){this.U=!0,this.B=!0}}class Yo{constructor(t){this.tt=t,this.et=new Map,this.nt=Po(),this.st=Wo(),this.it=new Do(yr)}rt(t){for(const e of t.k)t.$&&t.$.isFoundDocument()?this.ot(e,t.$):this.at(e,t.key,t.$);for(const e of t.removedTargetIds)this.at(e,t.key,t.$)}ct(t){this.forEachTarget(t,e=>{const n=this.ut(e);switch(t.state){case 0:this.ht(e)&&n.j(t.resumeToken);break;case 1:n.X(),n.q||n.G(),n.j(t.resumeToken);break;case 2:n.X(),n.q||this.removeTarget(e);break;case 3:this.ht(e)&&(n.Z(),n.j(t.resumeToken));break;case 4:this.ht(e)&&(this.lt(e),n.j(t.resumeToken));break;default:ir()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.et.forEach((t,n)=>{this.ht(n)&&e(n)})}ft(t){const e=t.targetId,n=t.O.count,i=this.dt(e);if(i){const t=i.target;if(us(t))if(0===n){const n=new qr(t.path);this.at(e,n,ss.newNoDocument(n,Cr.min()))}else rr(1===n);else this.wt(e)!==n&&(this.lt(e),this.it=this.it.add(e))}}_t(t){const e=new Map;this.et.forEach((n,i)=>{const r=this.dt(i);if(r){if(n.current&&us(r.target)){const e=new qr(r.target.path);null!==this.nt.get(e)||this.gt(i,e)||this.at(i,e,ss.newNoDocument(e,t))}n.K&&(e.set(i,n.W()),n.G())}});let n=Vo();this.st.forEach((t,e)=>{let i=!0;e.forEachWhile(t=>{const e=this.dt(t);return!e||2===e.purpose||(i=!1,!1)}),i&&(n=n.add(t))});const i=new qo(t,e,this.it,this.nt,n);return this.nt=Po(),this.st=Wo(),this.it=new Do(yr),i}ot(t,e){if(!this.ht(t))return;const n=this.gt(t,e.key)?2:0;this.ut(t).H(e.key,n),this.nt=this.nt.insert(e.key,e),this.st=this.st.insert(e.key,this.yt(e.key).add(t))}at(t,e,n){if(!this.ht(t))return;const i=this.ut(t);this.gt(t,e)?i.H(e,1):i.J(e),this.st=this.st.insert(e,this.yt(e).delete(t)),n&&(this.nt=this.nt.insert(e,n))}removeTarget(t){this.et.delete(t)}wt(t){const e=this.ut(t).W();return this.tt.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Y(t){this.ut(t).Y()}ut(t){let e=this.et.get(t);return e||(e=new Zo,this.et.set(t,e)),e}yt(t){let e=this.st.get(t);return e||(e=new Do(yr),this.st=this.st.insert(t,e)),e}ht(t){const e=null!==this.dt(t);return e||Xi("WatchChangeAggregator","Detected inactive target",t),e}dt(t){const e=this.et.get(t);return e&&e.q?null:this.tt.Et(t)}lt(t){this.et.set(t,new Zo),this.tt.getRemoteKeysForTarget(t).forEach(e=>{this.at(t,e,null)})}gt(t,e){return this.tt.getRemoteKeysForTarget(t).has(e)}}function Wo(){return new To(qr.comparator)}function Ko(){return new To(qr.comparator)}const Qo={asc:"ASCENDING",desc:"DESCENDING"},Jo={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class Xo{constructor(t,e){this.databaseId=t,this.D=e}}function ta(t,e){return t.D?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ea(t,e){return t.D?e.toBase64():e.toUint8Array()}function na(t,e){return ta(t,e.toTimestamp())}function ia(t){return rr(!!t),Cr.fromTimestamp(function(t){const e=Pr(t);return new wr(e.seconds,e.nanos)}(t))}function ra(t,e){return function(t){return new Tr(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).canonicalString()}function sa(t){const e=Tr.fromString(t);return rr(Aa(e)),e}function oa(t,e){return ra(t.databaseId,e.path)}function aa(t,e){const n=sa(e);if(n.get(1)!==t.databaseId.projectId)throw new ar(or.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ar(or.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new qr(ha(n))}function la(t,e){return ra(t.databaseId,e)}function ca(t){const e=sa(t);return 4===e.length?Tr.emptyPath():ha(e)}function ua(t){return new Tr(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function ha(t){return rr(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function da(t,e,n){return{name:oa(t,e),fields:n.value.mapValue.fields}}function pa(t,e,n){const i=aa(t,e.name),r=ia(e.updateTime),s=new is({mapValue:{fields:e.fields}}),o=ss.newFoundDocument(i,r,s);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function fa(t,e){let n;if(e instanceof mo)n={update:da(t,e.key,e.value)};else if(e instanceof bo)n={delete:oa(t,e.key)};else if(e instanceof go)n={update:da(t,e.key,e.data),updateMask:Ia(e.fieldMask)};else{if(!(e instanceof wo))return ir();n={verify:oa(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(t=>function(t,e){const n=e.transform;if(n instanceof Ks)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Qs)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Xs)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof eo)return{fieldPath:e.field.canonicalString(),increment:n.C};throw ir()}(0,t))),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:na(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:ir()}(t,e.precondition)),n}function ma(t,e){const n=e.currentDocument?function(t){return void 0!==t.updateTime?oo.updateTime(ia(t.updateTime)):void 0!==t.exists?oo.exists(t.exists):oo.none()}(e.currentDocument):oo.none(),i=e.updateTransforms?e.updateTransforms.map(e=>function(t,e){let n=null;"setToServerValue"in e?(rr("REQUEST_TIME"===e.setToServerValue),n=new Ks):"appendMissingElements"in e?n=new Qs(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new Xs(e.removeAllFromArray.values||[]):"increment"in e?n=new eo(t,e.increment):ir();const i=Ar.fromServerFormat(e.fieldPath);return new ro(i,n)}(t,e)):[];if(e.update){const r=aa(t,e.update.name),s=new is({mapValue:{fields:e.update.fields}});if(e.updateMask){const t=function(t){return new Dr((t.fieldPaths||[]).map(t=>Ar.fromServerFormat(t)))}(e.updateMask);return new go(r,s,t,n,i)}return new mo(r,s,n,i)}if(e.delete){const i=aa(t,e.delete);return new bo(i,n)}if(e.verify){const i=aa(t,e.verify);return new wo(i,n)}return ir()}function ga(t,e){return{documents:[la(t,e.path)]}}function _a(t,e){const n={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(n.parent=la(t,i),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=la(t,i.popLast()),n.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(t){if(0===t.length)return;const e=t.map(t=>function(t){if("=="===t.op){if(ts(t.value))return{unaryFilter:{field:Sa(t.field),op:"IS_NAN"}};if(Xr(t.value))return{unaryFilter:{field:Sa(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(ts(t.value))return{unaryFilter:{field:Sa(t.field),op:"IS_NOT_NAN"}};if(Xr(t.value))return{unaryFilter:{field:Sa(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Sa(t.field),op:Ea(t.op),value:t.value}}}(t));return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}(e.filters);r&&(n.structuredQuery.where=r);const s=function(t){if(0!==t.length)return t.map(t=>function(t){return{field:Sa(t.field),direction:Ca(t.dir)}}(t))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=function(t,e){return t.D||Vr(e)?e:{value:e}}(t,e.limit);return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=ba(e.startAt)),e.endAt&&(n.structuredQuery.endAt=ba(e.endAt)),n}function ya(t){let e=ca(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let r=null;if(i>0){rr(1===i);const t=n.from[0];t.allDescendants?r=t.collectionId:e=e.child(t.collectionId)}let s=[];n.where&&(s=va(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(t=>function(t){return new Cs(xa(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)));let a=null;n.limit&&(a=function(t){let e;return e="object"==typeof t?t.value:t,Vr(e)?null:e}(n.limit));let l=null;n.startAt&&(l=wa(n.startAt));let c=null;return n.endAt&&(c=wa(n.endAt)),Ts(e,r,o,s,a,"F",l,c)}function va(t){return t?void 0!==t.unaryFilter?[Ta(t)]:void 0!==t.fieldFilter?[ka(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(t=>va(t)).reduce((t,e)=>t.concat(e)):ir():[]}function ba(t){return{before:t.before,values:t.position}}function wa(t){return new bs(t.values||[],!!t.before)}function Ca(t){return Qo[t]}function Ea(t){return Jo[t]}function Sa(t){return{fieldPath:t.canonicalString()}}function xa(t){return Ar.fromServerFormat(t.fieldPath)}function ka(t){return hs.create(xa(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return ir()}}(t.fieldFilter.op),t.fieldFilter.value)}function Ta(t){switch(t.unaryFilter.op){case"IS_NAN":const e=xa(t.unaryFilter.field);return hs.create(e,"==",{doubleValue:NaN});case"IS_NULL":const n=xa(t.unaryFilter.field);return hs.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=xa(t.unaryFilter.field);return hs.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=xa(t.unaryFilter.field);return hs.create(r,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return ir()}}function Ia(t){const e=[];return t.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Aa(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function Da(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Oa(e)),e=Ra(t.get(n),e);return Oa(e)}function Ra(t,e){let n=e;const i=t.length;for(let r=0;r<i;r++){const e=t.charAt(r);switch(e){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=e}}return n}function Oa(t){return t+"\x01\x01"}function Pa(t){const e=t.length;if(rr(e>=2),2===e)return rr("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),Tr.emptyPath();const n=e-2,i=[];let r="";for(let s=0;s<e;){const e=t.indexOf("\x01",s);switch((e<0||e>n)&&ir(),t.charAt(e+1)){case"\x01":const n=t.substring(s,e);let o;0===r.length?o=n:(r+=n,o=r,r=""),i.push(o);break;case"\x10":r+=t.substring(s,e),r+="\0";break;case"\x11":r+=t.substring(s,e+1);break;default:ir()}s=e+2}return new Tr(i)}class Na{constructor(t,e){this.seconds=t,this.nanoseconds=e}}let Fa=(()=>{class t{constructor(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n}}return t.store="owner",t.key="owner",t})(),La=(()=>{class t{constructor(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n}}return t.store="mutationQueues",t.keyPath="userId",t})();class Ma{constructor(t,e,n,i,r){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=i,this.mutations=r}}Ma.store="mutations",Ma.keyPath="batchId",Ma.userMutationsIndex="userMutationsIndex",Ma.userMutationsKeyPath=["userId","batchId"];let Ba=(()=>{class t{constructor(){}static prefixForUser(t){return[t]}static prefixForPath(t,e){return[t,Da(e)]}static key(t,e,n){return[t,Da(e),n]}}return t.store="documentMutations",t.PLACEHOLDER=new t,t})();class Va{constructor(t,e){this.path=t,this.readTime=e}}class Ua{constructor(t,e){this.path=t,this.version=e}}class ja{constructor(t,e,n,i,r,s){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=i,this.readTime=r,this.parentPath=s}}ja.store="remoteDocuments",ja.readTimeIndex="readTimeIndex",ja.readTimeIndexPath="readTime",ja.collectionReadTimeIndex="collectionReadTimeIndex",ja.collectionReadTimeIndexPath=["parentPath","readTime"];let qa=(()=>{class t{constructor(t){this.byteSize=t}}return t.store="remoteDocumentGlobal",t.key="remoteDocumentGlobalKey",t})();class za{constructor(t,e,n,i,r,s,o){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=i,this.lastListenSequenceNumber=r,this.lastLimboFreeSnapshotVersion=s,this.query=o}}za.store="targets",za.keyPath="targetId",za.queryTargetsIndexName="queryTargetsIndex",za.queryTargetsKeyPath=["canonicalId","targetId"];class Ha{constructor(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n}}Ha.store="targetDocuments",Ha.keyPath=["targetId","path"],Ha.documentTargetsIndex="documentTargetsIndex",Ha.documentTargetsKeyPath=["path","targetId"];let Ga=(()=>{class t{constructor(t,e,n,i){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=i}}return t.key="targetGlobalKey",t.store="targetGlobal",t})(),$a=(()=>{class t{constructor(t,e){this.collectionId=t,this.parent=e}}return t.store="collectionParents",t.keyPath=["collectionId","parent"],t})(),Za=(()=>{class t{constructor(t,e,n,i){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=i}}return t.store="clientMetadata",t.keyPath="clientId",t})(),Ya=(()=>{class t{constructor(t,e,n){this.bundleId=t,this.createTime=e,this.version=n}}return t.store="bundles",t.keyPath="bundleId",t})(),Wa=(()=>{class t{constructor(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n}}return t.store="namedQueries",t.keyPath="name",t})();const Ka=[La.store,Ma.store,Ba.store,ja.store,za.store,Fa.store,Ga.store,Ha.store,Za.store,qa.store,$a.store,Ya.store,Wa.store],Qa="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ja{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}class Xa{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&ir(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new Xa((n,i)=>{this.nextCallback=e=>{this.wrapSuccess(t,e).next(n,i)},this.catchCallback=t=>{this.wrapFailure(e,t).next(n,i)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof Xa?e:Xa.resolve(e)}catch(t){return Xa.reject(t)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):Xa.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):Xa.reject(e)}static resolve(t){return new Xa((e,n)=>{e(t)})}static reject(t){return new Xa((e,n)=>{n(t)})}static waitFor(t){return new Xa((e,n)=>{let i=0,r=0,s=!1;t.forEach(t=>{++i,t.next(()=>{++r,s&&r===i&&e()},t=>n(t))}),s=!0,r===i&&e()})}static or(t){let e=Xa.resolve(!1);for(const n of t)e=e.next(t=>t?Xa.resolve(t):n());return e}static forEach(t,e){const n=[];return t.forEach((t,i)=>{n.push(e.call(this,t,i))}),this.waitFor(n)}}class tl{constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.Tt=new lr,this.transaction.oncomplete=()=>{this.Tt.resolve()},this.transaction.onabort=()=>{e.error?this.Tt.reject(new il(t,e.error)):this.Tt.resolve()},this.transaction.onerror=e=>{const n=ll(e.target.error);this.Tt.reject(new il(t,n))}}static open(t,e,n,i){try{return new tl(e,t.transaction(i,n))}catch(t){throw new il(e,t)}}get It(){return this.Tt.promise}abort(t){t&&this.Tt.reject(t),this.aborted||(Xi("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(t){const e=this.transaction.objectStore(t);return new sl(e)}}class el{constructor(t,e,n){this.name=t,this.version=e,this.At=n,12.2===el.Rt((0,U.z$)())&&tr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return Xi("SimpleDb","Removing database:",t),ol(window.indexedDB.deleteDatabase(t)).toPromise()}static bt(){if("undefined"==typeof indexedDB)return!1;if(el.Pt())return!0;const t=(0,U.z$)(),e=el.Rt(t),n=0<e&&e<10,i=el.vt(t),r=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||n||r)}static Pt(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Vt)}static St(t,e){return t.store(e)}static Rt(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)}static vt(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}Dt(t){var e=this;return(0,L.Z)(function*(){return e.db||(Xi("SimpleDb","Opening database:",e.name),e.db=yield new Promise((n,i)=>{const r=indexedDB.open(e.name,e.version);r.onsuccess=t=>{n(t.target.result)},r.onblocked=()=>{i(new il(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=e=>{const n=e.target.error;i("VersionError"===n.name?new ar(or.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===n.name?new ar(or.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n):new il(t,n))},r.onupgradeneeded=t=>{Xi("SimpleDb",'Database "'+e.name+'" requires upgrade from version:',t.oldVersion),e.At.Ct(t.target.result,r.transaction,t.oldVersion,e.version).next(()=>{Xi("SimpleDb","Database upgrade to version "+e.version+" complete")})}})),e.Nt&&(e.db.onversionchange=t=>e.Nt(t)),e.db})()}xt(t){this.Nt=t,this.db&&(this.db.onversionchange=e=>t(e))}runTransaction(t,e,n,i){var r=this;return(0,L.Z)(function*(){const s="readonly"===e;let o=0;for(;;){++o;try{r.db=yield r.Dt(t);const e=tl.open(r.db,t,s?"readonly":"readwrite",n),o=i(e).catch(t=>(e.abort(t),Xa.reject(t))).toPromise();return o.catch(()=>{}),yield e.It,o}catch(t){const n="FirebaseError"!==t.name&&o<3;if(Xi("SimpleDb","Transaction failed with error:",t.message,"Retrying:",n),r.close(),!n)return Promise.reject(t)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class nl{constructor(t){this.kt=t,this.$t=!1,this.Ot=null}get isDone(){return this.$t}get Ft(){return this.Ot}set cursor(t){this.kt=t}done(){this.$t=!0}Mt(t){this.Ot=t}delete(){return ol(this.kt.delete())}}class il extends ar{constructor(t,e){super(or.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function rl(t){return"IndexedDbTransactionError"===t.name}class sl{constructor(t){this.store=t}put(t,e){let n;return void 0!==e?(Xi("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(Xi("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),ol(n)}add(t){return Xi("SimpleDb","ADD",this.store.name,t,t),ol(this.store.add(t))}get(t){return ol(this.store.get(t)).next(e=>(void 0===e&&(e=null),Xi("SimpleDb","GET",this.store.name,t,e),e))}delete(t){return Xi("SimpleDb","DELETE",this.store.name,t),ol(this.store.delete(t))}count(){return Xi("SimpleDb","COUNT",this.store.name),ol(this.store.count())}Lt(t,e){const n=this.cursor(this.options(t,e)),i=[];return this.Bt(n,(t,e)=>{i.push(e)}).next(()=>i)}Ut(t,e){Xi("SimpleDb","DELETE ALL",this.store.name);const n=this.options(t,e);n.qt=!1;const i=this.cursor(n);return this.Bt(i,(t,e,n)=>n.delete())}Kt(t,e){let n;e?n=t:(n={},e=t);const i=this.cursor(n);return this.Bt(i,e)}jt(t){const e=this.cursor({});return new Xa((n,i)=>{e.onerror=t=>{const e=ll(t.target.error);i(e)},e.onsuccess=e=>{const i=e.target.result;i?t(i.primaryKey,i.value).next(t=>{t?i.continue():n()}):n()}})}Bt(t,e){const n=[];return new Xa((i,r)=>{t.onerror=t=>{r(t.target.error)},t.onsuccess=t=>{const r=t.target.result;if(!r)return void i();const s=new nl(r),o=e(r.primaryKey,r.value,s);if(o instanceof Xa){const t=o.catch(t=>(s.done(),Xa.reject(t)));n.push(t)}s.isDone?i():null===s.Ft?r.continue():r.continue(s.Ft)}}).next(()=>Xa.waitFor(n))}options(t,e){let n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const n=this.store.index(t.index);return t.qt?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function ol(t){return new Xa((e,n)=>{t.onsuccess=t=>{e(t.target.result)},t.onerror=t=>{const e=ll(t.target.error);n(e)}})}let al=!1;function ll(t){const e=el.Rt((0,U.z$)());if(e>=12.2&&e<13){const e="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(e)>=0){const t=new ar("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return al||(al=!0,setTimeout(()=>{throw t},0)),t}}return t}class cl extends Ja{constructor(t,e){super(),this.Qt=t,this.currentSequenceNumber=e}}function ul(t,e){const n=sr(t);return el.St(n.Qt,e)}class hl{constructor(t,e,n,i){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(t,e){const n=e.mutationResults;for(let i=0;i<this.mutations.length;i++){const e=this.mutations[i];e.key.isEqual(t.key)&&co(e,t,n[i])}}applyToLocalView(t){for(const e of this.baseMutations)e.key.isEqual(t.key)&&uo(e,t,this.localWriteTime);for(const e of this.mutations)e.key.isEqual(t.key)&&uo(e,t,this.localWriteTime)}applyToLocalDocumentSet(t){this.mutations.forEach(e=>{const n=t.get(e.key),i=n;this.applyToLocalView(i),n.isValidDocument()||i.convertToNoDocument(Cr.min())})}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),Vo())}isEqual(t){return this.batchId===t.batchId&&vr(this.mutations,t.mutations,(t,e)=>po(t,e))&&vr(this.baseMutations,t.baseMutations,(t,e)=>po(t,e))}}class dl{constructor(t,e,n,i){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=i}static from(t,e,n){rr(t.mutations.length===n.length);let i=Mo();const r=t.mutations;for(let s=0;s<r.length;s++)i=i.insert(r[s].key,n[s].version);return new dl(t,e,n,i)}}class pl{constructor(t,e,n,i,r=Cr.min(),s=Cr.min(),o=Rr.EMPTY_BYTE_STRING){this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=r,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o}withSequenceNumber(t){return new pl(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(t,e){return new pl(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t)}withLastLimboFreeSnapshotVersion(t){return new pl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}class fl{constructor(t){this.Wt=t}}function ml(t,e){if(e.document)return pa(t.Wt,e.document,!!e.hasCommittedMutations);if(e.noDocument){const t=qr.fromSegments(e.noDocument.path),n=bl(e.noDocument.readTime),i=ss.newNoDocument(t,n);return e.hasCommittedMutations?i.setHasCommittedMutations():i}if(e.unknownDocument){const t=qr.fromSegments(e.unknownDocument.path),n=bl(e.unknownDocument.version);return ss.newUnknownDocument(t,n)}return ir()}function gl(t,e,n){const i=_l(n),r=e.key.path.popLast().toArray();if(e.isFoundDocument()){const n=function(t,e){return{name:oa(t,e.key),fields:e.data.value.mapValue.fields,updateTime:ta(t,e.version.toTimestamp())}}(t.Wt,e);return new ja(null,null,n,e.hasCommittedMutations,i,r)}if(e.isNoDocument()){const t=e.key.path.toArray(),n=vl(e.version),s=e.hasCommittedMutations;return new ja(null,new Va(t,n),null,s,i,r)}if(e.isUnknownDocument()){const t=e.key.path.toArray(),n=vl(e.version);return new ja(new Ua(t,n),null,null,!0,i,r)}return ir()}function _l(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function yl(t){const e=new wr(t[0],t[1]);return Cr.fromTimestamp(e)}function vl(t){const e=t.toTimestamp();return new Na(e.seconds,e.nanoseconds)}function bl(t){const e=new wr(t.seconds,t.nanoseconds);return Cr.fromTimestamp(e)}function wl(t,e){const n=(e.baseMutations||[]).map(e=>ma(t.Wt,e));for(let s=0;s<e.mutations.length-1;++s){const t=e.mutations[s];s+1<e.mutations.length&&void 0!==e.mutations[s+1].transform&&(t.updateTransforms=e.mutations[s+1].transform.fieldTransforms,e.mutations.splice(s+1,1),++s)}const i=e.mutations.map(e=>ma(t.Wt,e)),r=wr.fromMillis(e.localWriteTimeMs);return new hl(e.batchId,r,n,i)}function Cl(t){const e=bl(t.readTime),n=void 0!==t.lastLimboFreeSnapshotVersion?bl(t.lastLimboFreeSnapshotVersion):Cr.min();let i;var r;return void 0!==t.query.documents?(rr(1===(r=t.query).documents.length),i=Fs(Is(ca(r.documents[0])))):i=function(t){return Fs(ya(t))}(t.query),new pl(i,t.targetId,0,t.lastListenSequenceNumber,e,n,Rr.fromBase64String(t.resumeToken))}function El(t,e){const n=vl(e.snapshotVersion),i=vl(e.lastLimboFreeSnapshotVersion);let r;r=us(e.target)?ga(t.Wt,e.target):_a(t.Wt,e.target);const s=e.resumeToken.toBase64();return new za(e.targetId,ls(e.target),n,s,e.sequenceNumber,i,r)}function Sl(t){const e=ya({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Ls(e,e.limit,"L"):e}class xl{getBundleMetadata(t,e){return kl(t).get(e).next(t=>{if(t)return{id:(e=t).bundleId,createTime:bl(e.createTime),version:e.version};var e})}saveBundleMetadata(t,e){return kl(t).put({bundleId:(n=e).id,createTime:vl(ia(n.createTime)),version:n.version});var n}getNamedQuery(t,e){return Tl(t).get(e).next(t=>{if(t)return{name:(e=t).name,query:Sl(e.bundledQuery),readTime:bl(e.readTime)};var e})}saveNamedQuery(t,e){return Tl(t).put(function(t){return{name:t.name,readTime:vl(ia(t.readTime)),bundledQuery:t.bundledQuery}}(e))}}function kl(t){return ul(t,Ya.store)}function Tl(t){return ul(t,Wa.store)}class Il{constructor(){this.Gt=new Al}addToCollectionParentIndex(t,e){return this.Gt.add(e),Xa.resolve()}getCollectionParents(t,e){return Xa.resolve(this.Gt.getEntries(e))}}class Al{constructor(){this.index={}}add(t){const e=t.lastSegment(),n=t.popLast(),i=this.index[e]||new Do(Tr.comparator),r=!i.has(n);return this.index[e]=i.add(n),r}has(t){const e=t.lastSegment(),n=t.popLast(),i=this.index[e];return i&&i.has(n)}getEntries(t){return(this.index[t]||new Do(Tr.comparator)).toArray()}}class Dl{constructor(){this.zt=new Al}addToCollectionParentIndex(t,e){if(!this.zt.has(e)){const n=e.lastSegment(),i=e.popLast();t.addOnCommittedListener(()=>{this.zt.add(e)});const r={collectionId:n,parent:Da(i)};return Rl(t).put(r)}return Xa.resolve()}getCollectionParents(t,e){const n=[],i=IDBKeyRange.bound([e,""],[br(e),""],!1,!0);return Rl(t).Lt(i).next(t=>{for(const i of t){if(i.collectionId!==e)break;n.push(Pa(i.parent))}return n})}}function Rl(t){return ul(t,$a.store)}const Ol={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Pl{constructor(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}static withCacheSize(t){return new Pl(t,Pl.DEFAULT_COLLECTION_PERCENTILE,Pl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Nl(t,e,n){const i=t.store(Ma.store),r=t.store(Ba.store),s=[],o=IDBKeyRange.only(n.batchId);let a=0;const l=i.Kt({range:o},(t,e,n)=>(a++,n.delete()));s.push(l.next(()=>{rr(1===a)}));const c=[];for(const u of n.mutations){const t=Ba.key(e,u.key.path,n.batchId);s.push(r.delete(t)),c.push(u.key)}return Xa.waitFor(s).next(()=>c)}function Fl(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw ir();e=t.noDocument}return JSON.stringify(e).length}Pl.DEFAULT_COLLECTION_PERCENTILE=10,Pl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Pl.DEFAULT=new Pl(41943040,Pl.DEFAULT_COLLECTION_PERCENTILE,Pl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Pl.DISABLED=new Pl(-1,0,0);class Ll{constructor(t,e,n,i){this.userId=t,this.N=e,this.Ht=n,this.referenceDelegate=i,this.Jt={}}static Yt(t,e,n,i){rr(""!==t.uid);const r=t.isAuthenticated()?t.uid:"";return new Ll(r,e,n,i)}checkEmpty(t){let e=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Bl(t).Kt({index:Ma.userMutationsIndex,range:n},(t,n,i)=>{e=!1,i.done()}).next(()=>e)}addMutationBatch(t,e,n,i){const r=Vl(t),s=Bl(t);return s.add({}).next(o=>{rr("number"==typeof o);const a=new hl(o,e,n,i),l=function(t,e,n){const i=n.baseMutations.map(e=>fa(t.Wt,e)),r=n.mutations.map(e=>fa(t.Wt,e));return new Ma(e,n.batchId,n.localWriteTime.toMillis(),i,r)}(this.N,this.userId,a),c=[];let u=new Do((t,e)=>yr(t.canonicalString(),e.canonicalString()));for(const t of i){const e=Ba.key(this.userId,t.key.path,o);u=u.add(t.key.path.popLast()),c.push(s.put(l)),c.push(r.put(e,Ba.PLACEHOLDER))}return u.forEach(e=>{c.push(this.Ht.addToCollectionParentIndex(t,e))}),t.addOnCommittedListener(()=>{this.Jt[o]=a.keys()}),Xa.waitFor(c).next(()=>a)})}lookupMutationBatch(t,e){return Bl(t).get(e).next(t=>t?(rr(t.userId===this.userId),wl(this.N,t)):null)}Xt(t,e){return this.Jt[e]?Xa.resolve(this.Jt[e]):this.lookupMutationBatch(t,e).next(t=>{if(t){const n=t.keys();return this.Jt[e]=n,n}return null})}getNextMutationBatchAfterBatchId(t,e){const n=e+1,i=IDBKeyRange.lowerBound([this.userId,n]);let r=null;return Bl(t).Kt({index:Ma.userMutationsIndex,range:i},(t,e,i)=>{e.userId===this.userId&&(rr(e.batchId>=n),r=wl(this.N,e)),i.done()}).next(()=>r)}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=-1;return Bl(t).Kt({index:Ma.userMutationsIndex,range:e,reverse:!0},(t,e,i)=>{n=e.batchId,i.done()}).next(()=>n)}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Bl(t).Lt(Ma.userMutationsIndex,e).next(t=>t.map(t=>wl(this.N,t)))}getAllMutationBatchesAffectingDocumentKey(t,e){const n=Ba.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(n),r=[];return Vl(t).Kt({range:i},(n,i,s)=>{const[o,a,l]=n,c=Pa(a);if(o===this.userId&&e.path.isEqual(c))return Bl(t).get(l).next(t=>{if(!t)throw ir();rr(t.userId===this.userId),r.push(wl(this.N,t))});s.done()}).next(()=>r)}getAllMutationBatchesAffectingDocumentKeys(t,e){let n=new Do(yr);const i=[];return e.forEach(e=>{const r=Ba.prefixForPath(this.userId,e.path),s=IDBKeyRange.lowerBound(r),o=Vl(t).Kt({range:s},(t,i,r)=>{const[s,o,a]=t,l=Pa(o);s===this.userId&&e.path.isEqual(l)?n=n.add(a):r.done()});i.push(o)}),Xa.waitFor(i).next(()=>this.Zt(t,n))}getAllMutationBatchesAffectingQuery(t,e){const n=e.path,i=n.length+1,r=Ba.prefixForPath(this.userId,n),s=IDBKeyRange.lowerBound(r);let o=new Do(yr);return Vl(t).Kt({range:s},(t,e,r)=>{const[s,a,l]=t,c=Pa(a);s===this.userId&&n.isPrefixOf(c)?c.length===i&&(o=o.add(l)):r.done()}).next(()=>this.Zt(t,o))}Zt(t,e){const n=[],i=[];return e.forEach(e=>{i.push(Bl(t).get(e).next(t=>{if(null===t)throw ir();rr(t.userId===this.userId),n.push(wl(this.N,t))}))}),Xa.waitFor(i).next(()=>n)}removeMutationBatch(t,e){return Nl(t.Qt,this.userId,e).next(n=>(t.addOnCommittedListener(()=>{this.te(e.batchId)}),Xa.forEach(n,e=>this.referenceDelegate.markPotentiallyOrphaned(t,e))))}te(t){delete this.Jt[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(e=>{if(!e)return Xa.resolve();const n=IDBKeyRange.lowerBound(Ba.prefixForUser(this.userId)),i=[];return Vl(t).Kt({range:n},(t,e,n)=>{if(t[0]===this.userId){const e=Pa(t[1]);i.push(e)}else n.done()}).next(()=>{rr(0===i.length)})})}containsKey(t,e){return Ml(t,this.userId,e)}ee(t){return Ul(t).get(this.userId).next(t=>t||new La(this.userId,-1,""))}}function Ml(t,e,n){const i=Ba.prefixForPath(e,n.path),r=i[1],s=IDBKeyRange.lowerBound(i);let o=!1;return Vl(t).Kt({range:s,qt:!0},(t,n,i)=>{const[s,a,l]=t;s===e&&a===r&&(o=!0),i.done()}).next(()=>o)}function Bl(t){return ul(t,Ma.store)}function Vl(t){return ul(t,Ba.store)}function Ul(t){return ul(t,La.store)}class jl{constructor(t){this.ne=t}next(){return this.ne+=2,this.ne}static se(){return new jl(0)}static ie(){return new jl(-1)}}class ql{constructor(t,e){this.referenceDelegate=t,this.N=e}allocateTargetId(t){return this.re(t).next(e=>{const n=new jl(e.highestTargetId);return e.highestTargetId=n.next(),this.oe(t,e).next(()=>e.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.re(t).next(t=>Cr.fromTimestamp(new wr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.re(t).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(t,e,n){return this.re(t).next(i=>(i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),this.oe(t,i)))}addTargetData(t,e){return this.ae(t,e).next(()=>this.re(t).next(n=>(n.targetCount+=1,this.ce(e,n),this.oe(t,n))))}updateTargetData(t,e){return this.ae(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next(()=>zl(t).delete(e.targetId)).next(()=>this.re(t)).next(e=>(rr(e.targetCount>0),e.targetCount-=1,this.oe(t,e)))}removeTargets(t,e,n){let i=0;const r=[];return zl(t).Kt((s,o)=>{const a=Cl(o);a.sequenceNumber<=e&&null===n.get(a.targetId)&&(i++,r.push(this.removeTargetData(t,a)))}).next(()=>Xa.waitFor(r)).next(()=>i)}forEachTarget(t,e){return zl(t).Kt((t,n)=>{const i=Cl(n);e(i)})}re(t){return Hl(t).get(Ga.key).next(t=>(rr(null!==t),t))}oe(t,e){return Hl(t).put(Ga.key,e)}ae(t,e){return zl(t).put(El(this.N,e))}ce(t,e){let n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n}getTargetCount(t){return this.re(t).next(t=>t.targetCount)}getTargetData(t,e){const n=ls(e),i=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let r=null;return zl(t).Kt({range:i,index:za.queryTargetsIndexName},(t,n,i)=>{const s=Cl(n);cs(e,s.target)&&(r=s,i.done())}).next(()=>r)}addMatchingKeys(t,e,n){const i=[],r=Gl(t);return e.forEach(e=>{const s=Da(e.path);i.push(r.put(new Ha(n,s))),i.push(this.referenceDelegate.addReference(t,n,e))}),Xa.waitFor(i)}removeMatchingKeys(t,e,n){const i=Gl(t);return Xa.forEach(e,e=>{const r=Da(e.path);return Xa.waitFor([i.delete([n,r]),this.referenceDelegate.removeReference(t,n,e)])})}removeMatchingKeysForTargetId(t,e){const n=Gl(t),i=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(i)}getMatchingKeysForTargetId(t,e){const n=IDBKeyRange.bound([e],[e+1],!1,!0),i=Gl(t);let r=Vo();return i.Kt({range:n,qt:!0},(t,e,n)=>{const i=Pa(t[1]),s=new qr(i);r=r.add(s)}).next(()=>r)}containsKey(t,e){const n=Da(e.path),i=IDBKeyRange.bound([n],[br(n)],!1,!0);let r=0;return Gl(t).Kt({index:Ha.documentTargetsIndex,qt:!0,range:i},([t,e],n,i)=>{0!==t&&(r++,i.done())}).next(()=>r>0)}Et(t,e){return zl(t).get(e).next(t=>t?Cl(t):null)}}function zl(t){return ul(t,za.store)}function Hl(t){return ul(t,Ga.store)}function Gl(t){return ul(t,Ha.store)}function $l(t){return Zl.apply(this,arguments)}function Zl(){return(Zl=(0,L.Z)(function*(t){if(t.code!==or.FAILED_PRECONDITION||t.message!==Qa)throw t;Xi("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}function Yl([t,e],[n,i]){const r=yr(t,n);return 0===r?yr(e,i):r}class Wl{constructor(t){this.ue=t,this.buffer=new Do(Yl),this.he=0}le(){return++this.he}fe(t){const e=[t,this.le()];if(this.buffer.size<this.ue)this.buffer=this.buffer.add(e);else{const t=this.buffer.last();Yl(e,t)<0&&(this.buffer=this.buffer.delete(t).add(e))}}get maxValue(){return this.buffer.last()[0]}}class Kl{constructor(t,e){this.garbageCollector=t,this.asyncQueue=e,this.de=!1,this.we=null}start(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this._e(t)}stop(){this.we&&(this.we.cancel(),this.we=null)}get started(){return null!==this.we}_e(t){var e=this;const n=this.de?3e5:6e4;Xi("LruGarbageCollector",`Garbage collection scheduled in ${n}ms`),this.we=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(0,L.Z)(function*(){e.we=null,e.de=!0;try{yield t.collectGarbage(e.garbageCollector)}catch(t){rl(t)?Xi("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t):yield $l(t)}yield e._e(t)}))}}class Ql{constructor(t,e){this.me=t,this.params=e}calculateTargetCount(t,e){return this.me.ge(t).next(t=>Math.floor(e/100*t))}nthSequenceNumber(t,e){if(0===e)return Xa.resolve(mr.T);const n=new Wl(e);return this.me.forEachTarget(t,t=>n.fe(t.sequenceNumber)).next(()=>this.me.ye(t,t=>n.fe(t))).next(()=>n.maxValue)}removeTargets(t,e,n){return this.me.removeTargets(t,e,n)}removeOrphanedDocuments(t,e){return this.me.removeOrphanedDocuments(t,e)}collect(t,e){return-1===this.params.cacheSizeCollectionThreshold?(Xi("LruGarbageCollector","Garbage collection skipped; disabled"),Xa.resolve(Ol)):this.getCacheSize(t).next(n=>n<this.params.cacheSizeCollectionThreshold?(Xi("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Ol):this.pe(t,e))}getCacheSize(t){return this.me.getCacheSize(t)}pe(t,e){let n,i,r,s,o,a,l;const c=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(e=>(e>this.params.maximumSequenceNumbersToCollect?(Xi("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${e}`),i=this.params.maximumSequenceNumbersToCollect):i=e,s=Date.now(),this.nthSequenceNumber(t,i))).next(i=>(n=i,o=Date.now(),this.removeTargets(t,n,e))).next(e=>(r=e,a=Date.now(),this.removeOrphanedDocuments(t,n))).next(t=>(l=Date.now(),Ji()<=V.in.DEBUG&&Xi("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${s-c}ms\n\tDetermined least recently used ${i} in `+(o-s)+"ms\n"+`\tRemoved ${r} targets in `+(a-o)+"ms\n"+`\tRemoved ${t} documents in `+(l-a)+"ms\n"+`Total Duration: ${l-c}ms`),Xa.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:r,documentsRemoved:t})))}}class Jl{constructor(t,e){this.db=t,this.garbageCollector=function(t,e){return new Ql(t,e)}(this,e)}ge(t){const e=this.Ee(t);return this.db.getTargetCache().getTargetCount(t).next(t=>e.next(e=>t+e))}Ee(t){let e=0;return this.ye(t,t=>{e++}).next(()=>e)}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}ye(t,e){return this.Te(t,(t,n)=>e(n))}addReference(t,e,n){return Xl(t,n)}removeReference(t,e,n){return Xl(t,n)}removeTargets(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)}markPotentiallyOrphaned(t,e){return Xl(t,e)}Ie(t,e){return function(t,e){let n=!1;return Ul(t).jt(i=>Ml(t,i,e).next(t=>(t&&(n=!0),Xa.resolve(!t)))).next(()=>n)}(t,e)}removeOrphanedDocuments(t,e){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let r=0;return this.Te(t,(s,o)=>{if(o<=e){const e=this.Ie(t,s).next(e=>{if(!e)return r++,n.getEntry(t,s).next(()=>(n.removeEntry(s),Gl(t).delete([0,Da(s.path)])))});i.push(e)}}).next(()=>Xa.waitFor(i)).next(()=>n.apply(t)).next(()=>r)}removeTarget(t,e){const n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)}updateLimboDocument(t,e){return Xl(t,e)}Te(t,e){const n=Gl(t);let i,r=mr.T;return n.Kt({index:Ha.documentTargetsIndex},([t,n],{path:s,sequenceNumber:o})=>{0===t?(r!==mr.T&&e(new qr(Pa(i)),r),r=o,i=s):r=mr.T}).next(()=>{r!==mr.T&&e(new qr(Pa(i)),r)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function Xl(t,e){return Gl(t).put(function(t,e){return new Ha(0,Da(t.path),e)}(e,t.currentSequenceNumber))}class tc{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}get(t){const e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(const[i,r]of n)if(this.equalsFn(i,t))return r}has(t){return void 0!==this.get(t)}set(t,e){const n=this.mapKeyFn(t),i=this.inner[n];if(void 0!==i){for(let n=0;n<i.length;n++)if(this.equalsFn(i[n][0],t))return void(i[n]=[t,e]);i.push([t,e])}else this.inner[n]=[[t,e]]}delete(t){const e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],t))return 1===n.length?delete this.inner[e]:n.splice(i,1),!0;return!1}forEach(t){Sr(this.inner,(e,n)=>{for(const[i,r]of n)t(i,r)})}isEmpty(){return xr(this.inner)}}class ec{constructor(){this.changes=new tc(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}getReadTime(t){const e=this.changes.get(t);return e?e.readTime:Cr.min()}addEntry(t,e){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:e})}removeEntry(t,e=null){this.assertNotApplied(),this.changes.set(t,{document:ss.newInvalidDocument(t),readTime:e})}getEntry(t,e){this.assertNotApplied();const n=this.changes.get(e);return void 0!==n?Xa.resolve(n.document):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class nc{constructor(t,e){this.N=t,this.Ht=e}addEntry(t,e,n){return sc(t).put(oc(e),n)}removeEntry(t,e){const n=sc(t),i=oc(e);return n.delete(i)}updateMetadata(t,e){return this.getMetadata(t).next(n=>(n.byteSize+=e,this.Ae(t,n)))}getEntry(t,e){return sc(t).get(oc(e)).next(t=>this.Re(e,t))}be(t,e){return sc(t).get(oc(e)).next(t=>({document:this.Re(e,t),size:Fl(t)}))}getEntries(t,e){let n=Po();return this.Pe(t,e,(t,e)=>{const i=this.Re(t,e);n=n.insert(t,i)}).next(()=>n)}ve(t,e){let n=Po(),i=new To(qr.comparator);return this.Pe(t,e,(t,e)=>{const r=this.Re(t,e);n=n.insert(t,r),i=i.insert(t,Fl(e))}).next(()=>({documents:n,Ve:i}))}Pe(t,e,n){if(e.isEmpty())return Xa.resolve();const i=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),r=e.getIterator();let s=r.getNext();return sc(t).Kt({range:i},(t,e,i)=>{const o=qr.fromSegments(t);for(;s&&qr.comparator(s,o)<0;)n(s,null),s=r.getNext();s&&s.isEqual(o)&&(n(s,e),s=r.hasNext()?r.getNext():null),s?i.Mt(s.path.toArray()):i.done()}).next(()=>{for(;s;)n(s,null),s=r.hasNext()?r.getNext():null})}getDocumentsMatchingQuery(t,e,n){let i=Po();const r=e.path.length+1,s={};if(n.isEqual(Cr.min())){const t=e.path.toArray();s.range=IDBKeyRange.lowerBound(t)}else{const t=e.path.toArray(),i=_l(n);s.range=IDBKeyRange.lowerBound([t,i],!0),s.index=ja.collectionReadTimeIndex}return sc(t).Kt(s,(t,n,s)=>{if(t.length!==r)return;const o=ml(this.N,n);e.path.isPrefixOf(o.key.path)?Us(e,o)&&(i=i.insert(o.key,o)):s.done()}).next(()=>i)}newChangeBuffer(t){return new ic(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(t=>t.byteSize)}getMetadata(t){return rc(t).get(qa.key).next(t=>(rr(!!t),t))}Ae(t,e){return rc(t).put(qa.key,e)}Re(t,e){if(e){const t=ml(this.N,e);if(!t.isNoDocument()||!t.version.isEqual(Cr.min()))return t}return ss.newInvalidDocument(t)}}class ic extends ec{constructor(t,e){super(),this.Se=t,this.trackRemovals=e,this.De=new tc(t=>t.toString(),(t,e)=>t.isEqual(e))}applyChanges(t){const e=[];let n=0,i=new Do((t,e)=>yr(t.canonicalString(),e.canonicalString()));return this.changes.forEach((r,s)=>{const o=this.De.get(r);if(s.document.isValidDocument()){const a=gl(this.Se.N,s.document,this.getReadTime(r));i=i.add(r.path.popLast());const l=Fl(a);n+=l-o,e.push(this.Se.addEntry(t,r,a))}else if(n-=o,this.trackRemovals){const n=gl(this.Se.N,ss.newNoDocument(r,Cr.min()),this.getReadTime(r));e.push(this.Se.addEntry(t,r,n))}else e.push(this.Se.removeEntry(t,r))}),i.forEach(n=>{e.push(this.Se.Ht.addToCollectionParentIndex(t,n))}),e.push(this.Se.updateMetadata(t,n)),Xa.waitFor(e)}getFromCache(t,e){return this.Se.be(t,e).next(t=>(this.De.set(e,t.size),t.document))}getAllFromCache(t,e){return this.Se.ve(t,e).next(({documents:t,Ve:e})=>(e.forEach((t,e)=>{this.De.set(t,e)}),t))}}function rc(t){return ul(t,qa.store)}function sc(t){return ul(t,ja.store)}function oc(t){return t.path.toArray()}class ac{constructor(t){this.N=t}Ct(t,e,n,i){rr(n<i&&n>=0&&i<=11);const r=new tl("createOrUpgrade",e);n<1&&i>=1&&(function(t){t.createObjectStore(Fa.store)}(t),function(t){t.createObjectStore(La.store,{keyPath:La.keyPath}),t.createObjectStore(Ma.store,{keyPath:Ma.keyPath,autoIncrement:!0}).createIndex(Ma.userMutationsIndex,Ma.userMutationsKeyPath,{unique:!0}),t.createObjectStore(Ba.store)}(t),lc(t),function(t){t.createObjectStore(ja.store)}(t));let s=Xa.resolve();return n<3&&i>=3&&(0!==n&&(function(t){t.deleteObjectStore(Ha.store),t.deleteObjectStore(za.store),t.deleteObjectStore(Ga.store)}(t),lc(t)),s=s.next(()=>function(t){const e=t.store(Ga.store),n=new Ga(0,0,Cr.min().toTimestamp(),0);return e.put(Ga.key,n)}(r))),n<4&&i>=4&&(0!==n&&(s=s.next(()=>function(t,e){return e.store(Ma.store).Lt().next(n=>{t.deleteObjectStore(Ma.store),t.createObjectStore(Ma.store,{keyPath:Ma.keyPath,autoIncrement:!0}).createIndex(Ma.userMutationsIndex,Ma.userMutationsKeyPath,{unique:!0});const i=e.store(Ma.store),r=n.map(t=>i.put(t));return Xa.waitFor(r)})}(t,r))),s=s.next(()=>{!function(t){t.createObjectStore(Za.store,{keyPath:Za.keyPath})}(t)})),n<5&&i>=5&&(s=s.next(()=>this.Ce(r))),n<6&&i>=6&&(s=s.next(()=>(function(t){t.createObjectStore(qa.store)}(t),this.Ne(r)))),n<7&&i>=7&&(s=s.next(()=>this.xe(r))),n<8&&i>=8&&(s=s.next(()=>this.ke(t,r))),n<9&&i>=9&&(s=s.next(()=>{!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){const e=t.objectStore(ja.store);e.createIndex(ja.readTimeIndex,ja.readTimeIndexPath,{unique:!1}),e.createIndex(ja.collectionReadTimeIndex,ja.collectionReadTimeIndexPath,{unique:!1})}(e)})),n<10&&i>=10&&(s=s.next(()=>this.$e(r))),n<11&&i>=11&&(s=s.next(()=>{!function(t){t.createObjectStore(Ya.store,{keyPath:Ya.keyPath})}(t),function(t){t.createObjectStore(Wa.store,{keyPath:Wa.keyPath})}(t)})),s}Ne(t){let e=0;return t.store(ja.store).Kt((t,n)=>{e+=Fl(n)}).next(()=>{const n=new qa(e);return t.store(qa.store).put(qa.key,n)})}Ce(t){const e=t.store(La.store),n=t.store(Ma.store);return e.Lt().next(e=>Xa.forEach(e,e=>{const i=IDBKeyRange.bound([e.userId,-1],[e.userId,e.lastAcknowledgedBatchId]);return n.Lt(Ma.userMutationsIndex,i).next(n=>Xa.forEach(n,n=>{rr(n.userId===e.userId);const i=wl(this.N,n);return Nl(t,e.userId,i).next(()=>{})}))}))}xe(t){const e=t.store(Ha.store),n=t.store(ja.store);return t.store(Ga.store).get(Ga.key).next(t=>{const i=[];return n.Kt((n,r)=>{const s=new Tr(n),o=function(t){return[0,Da(t)]}(s);i.push(e.get(o).next(n=>n?Xa.resolve():(n=>e.put(new Ha(0,Da(n),t.highestListenSequenceNumber)))(s)))}).next(()=>Xa.waitFor(i))})}ke(t,e){t.createObjectStore($a.store,{keyPath:$a.keyPath});const n=e.store($a.store),i=new Al,r=t=>{if(i.add(t)){const e=t.lastSegment(),i=t.popLast();return n.put({collectionId:e,parent:Da(i)})}};return e.store(ja.store).Kt({qt:!0},(t,e)=>{const n=new Tr(t);return r(n.popLast())}).next(()=>e.store(Ba.store).Kt({qt:!0},([t,e,n],i)=>{const s=Pa(e);return r(s.popLast())}))}$e(t){const e=t.store(za.store);return e.Kt((t,n)=>{const i=Cl(n),r=El(this.N,i);return e.put(r)})}}function lc(t){t.createObjectStore(Ha.store,{keyPath:Ha.keyPath}).createIndex(Ha.documentTargetsIndex,Ha.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(za.store,{keyPath:za.keyPath}).createIndex(za.queryTargetsIndexName,za.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Ga.store)}const cc="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class uc{constructor(t,e,n,i,r,s,o,a,l,c){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=n,this.Oe=r,this.window=s,this.document=o,this.Fe=l,this.Me=c,this.Le=null,this.Be=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ue=null,this.inForeground=!1,this.qe=null,this.Ke=null,this.je=Number.NEGATIVE_INFINITY,this.Qe=t=>Promise.resolve(),!uc.bt())throw new ar(or.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Jl(this,i),this.We=e+"main",this.N=new fl(a),this.Ge=new el(this.We,11,new ac(this.N)),this.ze=new ql(this.referenceDelegate,this.N),this.Ht=new Dl,this.He=function(t,e){return new nc(t,e)}(this.N,this.Ht),this.Je=new xl,this.window&&this.window.localStorage?this.Ye=this.window.localStorage:(this.Ye=null,!1===c&&tr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Xe().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ar(or.FAILED_PRECONDITION,cc);return this.Ze(),this.tn(),this.en(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.ze.getHighestSequenceNumber(t))}).then(t=>{this.Le=new mr(t,this.Fe)}).then(()=>{this.Be=!0}).catch(t=>(this.Ge&&this.Ge.close(),Promise.reject(t)))}nn(t){var e=this;return this.Qe=function(){var n=(0,L.Z)(function*(n){if(e.started)return t(n)});return function(t){return n.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.Ge.xt(function(){var e=(0,L.Z)(function*(e){null===e.newVersion&&(yield t())});return function(t){return e.apply(this,arguments)}}())}setNetworkEnabled(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Oe.enqueueAndForget((0,L.Z)(function*(){e.started&&(yield e.Xe())})))}Xe(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>dc(t).put(new Za(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.sn(t).next(t=>{t||(this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)))})}).next(()=>this.rn(t)).next(e=>this.isPrimary&&!e?this.on(t).next(()=>!1):!!e&&this.an(t).next(()=>!0))).catch(t=>{if(rl(t))return Xi("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return Xi("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.Oe.enqueueRetryable(()=>this.Qe(t)),this.isPrimary=t})}sn(t){return hc(t).get(Fa.key).next(t=>Xa.resolve(this.cn(t)))}un(t){return dc(t).delete(this.clientId)}hn(){var t=this;return(0,L.Z)(function*(){if(t.isPrimary&&!t.ln(t.je,18e5)){t.je=Date.now();const e=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",e=>{const n=ul(e,Za.store);return n.Lt().next(e=>{const i=t.fn(e,18e5),r=e.filter(t=>-1===i.indexOf(t));return Xa.forEach(r,t=>n.delete(t.clientId)).next(()=>r)})}).catch(()=>[]);if(t.Ye)for(const n of e)t.Ye.removeItem(t.dn(n.clientId))}})()}en(){this.Ke=this.Oe.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Xe().then(()=>this.hn()).then(()=>this.en()))}cn(t){return!!t&&t.ownerId===this.clientId}rn(t){return this.Me?Xa.resolve(!0):hc(t).get(Fa.key).next(e=>{if(null!==e&&this.ln(e.leaseTimestampMs,5e3)&&!this.wn(e.ownerId)){if(this.cn(e)&&this.networkEnabled)return!0;if(!this.cn(e)){if(!e.allowTabSynchronization)throw new ar(or.FAILED_PRECONDITION,cc);return!1}}return!(!this.networkEnabled||!this.inForeground)||dc(t).Lt().next(t=>void 0===this.fn(t,5e3).find(t=>{if(this.clientId!==t.clientId){const e=!this.inForeground&&t.inForeground,n=this.networkEnabled===t.networkEnabled;if(!this.networkEnabled&&t.networkEnabled||e&&n)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Xi("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var t=this;return(0,L.Z)(function*(){t.Be=!1,t._n(),t.Ke&&(t.Ke.cancel(),t.Ke=null),t.mn(),t.gn(),yield t.Ge.runTransaction("shutdown","readwrite",[Fa.store,Za.store],e=>{const n=new cl(e,mr.T);return t.on(n).next(()=>t.un(n))}),t.Ge.close(),t.yn()})()}fn(t,e){return t.filter(t=>this.ln(t.updateTimeMs,e)&&!this.wn(t.clientId))}pn(){return this.runTransaction("getActiveClients","readonly",t=>dc(t).Lt().next(t=>this.fn(t,18e5).map(t=>t.clientId)))}get started(){return this.Be}getMutationQueue(t){return Ll.Yt(t,this.N,this.Ht,this.referenceDelegate)}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getIndexManager(){return this.Ht}getBundleCache(){return this.Je}runTransaction(t,e,n){let i;return Xi("IndexedDbPersistence","Starting transaction:",t),this.Ge.runTransaction(t,"readonly"===e?"readonly":"readwrite",Ka,r=>(i=new cl(r,this.Le?this.Le.next():mr.T),"readwrite-primary"===e?this.sn(i).next(t=>!!t||this.rn(i)).next(e=>{if(!e)throw tr(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)),new ar(or.FAILED_PRECONDITION,Qa);return n(i)}).next(t=>this.an(i).next(()=>t)):this.En(i).next(()=>n(i)))).then(t=>(i.raiseOnCommittedEvent(),t))}En(t){return hc(t).get(Fa.key).next(t=>{if(null!==t&&this.ln(t.leaseTimestampMs,5e3)&&!this.wn(t.ownerId)&&!this.cn(t)&&!(this.Me||this.allowTabSynchronization&&t.allowTabSynchronization))throw new ar(or.FAILED_PRECONDITION,cc)})}an(t){const e=new Fa(this.clientId,this.allowTabSynchronization,Date.now());return hc(t).put(Fa.key,e)}static bt(){return el.bt()}on(t){const e=hc(t);return e.get(Fa.key).next(t=>this.cn(t)?(Xi("IndexedDbPersistence","Releasing primary lease."),e.delete(Fa.key)):Xa.resolve())}ln(t,e){const n=Date.now();return!(t<n-e||t>n&&(tr(`Detected an update time that is in the future: ${t} > ${n}`),1))}Ze(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.qe=()=>{this.Oe.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Xe()))},this.document.addEventListener("visibilitychange",this.qe),this.inForeground="visible"===this.document.visibilityState)}mn(){this.qe&&(this.document.removeEventListener("visibilitychange",this.qe),this.qe=null)}tn(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Ue=()=>{this._n(),(0,U.G6)()&&navigator.appVersion.match("Version/14")&&this.Oe.enterRestrictedMode(!0),this.Oe.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Ue))}gn(){this.Ue&&(this.window.removeEventListener("pagehide",this.Ue),this.Ue=null)}wn(t){var e;try{const n=null!==(null===(e=this.Ye)||void 0===e?void 0:e.getItem(this.dn(t)));return Xi("IndexedDbPersistence",`Client '${t}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(t){return tr("IndexedDbPersistence","Failed to get zombied client id.",t),!1}}_n(){if(this.Ye)try{this.Ye.setItem(this.dn(this.clientId),String(Date.now()))}catch(t){tr("Failed to set zombie client id.",t)}}yn(){if(this.Ye)try{this.Ye.removeItem(this.dn(this.clientId))}catch(t){}}dn(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function hc(t){return ul(t,Fa.store)}function dc(t){return ul(t,Za.store)}function pc(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}class fc{constructor(t,e){this.progress=t,this.Tn=e}}class mc{constructor(t,e,n){this.He=t,this.In=e,this.Ht=n}An(t,e){return this.In.getAllMutationBatchesAffectingDocumentKey(t,e).next(n=>this.Rn(t,e,n))}Rn(t,e,n){return this.He.getEntry(t,e).next(t=>{for(const e of n)e.applyToLocalView(t);return t})}bn(t,e){t.forEach((t,n)=>{for(const i of e)i.applyToLocalView(n)})}Pn(t,e){return this.He.getEntries(t,e).next(e=>this.vn(t,e).next(()=>e))}vn(t,e){return this.In.getAllMutationBatchesAffectingDocumentKeys(t,e).next(t=>this.bn(e,t))}getDocumentsMatchingQuery(t,e,n){return function(t){return qr.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Vn(t,e.path):Ps(e)?this.Sn(t,e,n):this.Dn(t,e,n)}Vn(t,e){return this.An(t,new qr(e)).next(t=>{let e=Fo();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e})}Sn(t,e,n){const i=e.collectionGroup;let r=Fo();return this.Ht.getCollectionParents(t,i).next(s=>Xa.forEach(s,s=>{const o=function(t,e){return new ks(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,s.child(i));return this.Dn(t,o,n).next(t=>{t.forEach((t,e)=>{r=r.insert(t,e)})})}).next(()=>r))}Dn(t,e,n){let i,r;return this.He.getDocumentsMatchingQuery(t,e,n).next(n=>(i=n,this.In.getAllMutationBatchesAffectingQuery(t,e))).next(e=>(r=e,this.Cn(t,r,i).next(t=>{i=t;for(const e of r)for(const t of e.mutations){const n=t.key;let r=i.get(n);null==r&&(r=ss.newInvalidDocument(n),i=i.insert(n,r)),uo(t,r,e.localWriteTime),r.isFoundDocument()||(i=i.remove(n))}}))).next(()=>(i.forEach((t,n)=>{Us(e,n)||(i=i.remove(t))}),i))}Cn(t,e,n){let i=Vo();for(const s of e)for(const t of s.mutations)t instanceof go&&null===n.get(t.key)&&(i=i.add(t.key));let r=n;return this.He.getEntries(t,i).next(t=>(t.forEach((t,e)=>{e.isFoundDocument()&&(r=r.insert(t,e))}),r))}}class gc{constructor(t,e,n,i){this.targetId=t,this.fromCache=e,this.Nn=n,this.xn=i}static kn(t,e){let n=Vo(),i=Vo();for(const r of e.docChanges)switch(r.type){case 0:n=n.add(r.doc.key);break;case 1:i=i.add(r.doc.key)}return new gc(t,e.fromCache,n,i)}}class _c{$n(t){this.On=t}getDocumentsMatchingQuery(t,e,n,i){return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}(e)||n.isEqual(Cr.min())?this.Fn(t,e):this.On.Pn(t,i).next(r=>{const s=this.Mn(e,r);return(As(e)||Ds(e))&&this.Ln(e.limitType,s,i,n)?this.Fn(t,e):(Ji()<=V.in.DEBUG&&Xi("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Vs(e)),this.On.getDocumentsMatchingQuery(t,e,n).next(t=>(s.forEach(e=>{t=t.insert(e.key,e)}),t)))})}Mn(t,e){let n=new Do(js(t));return e.forEach((e,i)=>{Us(t,i)&&(n=n.add(i))}),n}Ln(t,e,n,i){if(n.size!==e.size)return!0;const r="F"===t?e.last():e.first();return!!r&&(r.hasPendingWrites||r.version.compareTo(i)>0)}Fn(t,e){return Ji()<=V.in.DEBUG&&Xi("QueryEngine","Using full collection scan to execute query:",Vs(e)),this.On.getDocumentsMatchingQuery(t,e,Cr.min())}}class yc{constructor(t,e,n,i){this.persistence=t,this.Bn=e,this.N=i,this.Un=new To(yr),this.qn=new tc(t=>ls(t),cs),this.Kn=Cr.min(),this.In=t.getMutationQueue(n),this.jn=t.getRemoteDocumentCache(),this.ze=t.getTargetCache(),this.Qn=new mc(this.jn,this.In,this.persistence.getIndexManager()),this.Je=t.getBundleCache(),this.Bn.$n(this.Qn)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.Un))}}function vc(t,e,n,i){return new yc(t,e,n,i)}function bc(t,e){return wc.apply(this,arguments)}function wc(){return(wc=(0,L.Z)(function*(t,e){const n=sr(t);let i=n.In,r=n.Qn;const s=yield n.persistence.runTransaction("Handle user change","readonly",t=>{let s;return n.In.getAllMutationBatches(t).next(o=>(s=o,i=n.persistence.getMutationQueue(e),r=new mc(n.jn,i,n.persistence.getIndexManager()),i.getAllMutationBatches(t))).next(e=>{const n=[],i=[];let o=Vo();for(const t of s){n.push(t.batchId);for(const e of t.mutations)o=o.add(e.key)}for(const t of e){i.push(t.batchId);for(const e of t.mutations)o=o.add(e.key)}return r.Pn(t,o).next(t=>({Wn:t,removedBatchIds:n,addedBatchIds:i}))})});return n.In=i,n.Qn=r,n.Bn.$n(n.Qn),s})).apply(this,arguments)}function Cc(t,e){const n=sr(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",t=>{const i=e.batch.keys(),r=n.jn.newChangeBuffer({trackRemovals:!0});return function(t,e,n,i){const r=n.batch,s=r.keys();let o=Xa.resolve();return s.forEach(t=>{o=o.next(()=>i.getEntry(e,t)).next(e=>{const s=n.docVersions.get(t);rr(null!==s),e.version.compareTo(s)<0&&(r.applyToRemoteDocument(e,n),e.isValidDocument()&&i.addEntry(e,n.commitVersion))})}),o.next(()=>t.In.removeMutationBatch(e,r))}(n,t,e,r).next(()=>r.apply(t)).next(()=>n.In.performConsistencyCheck(t)).next(()=>n.Qn.Pn(t,i))})}function Ec(t){const e=sr(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.ze.getLastRemoteSnapshotVersion(t))}function Sc(t,e){const n=sr(t),i=e.snapshotVersion;let r=n.Un;return n.persistence.runTransaction("Apply remote event","readwrite-primary",t=>{const s=n.jn.newChangeBuffer({trackRemovals:!0});r=n.Un;const o=[];e.targetChanges.forEach((e,s)=>{const a=r.get(s);if(!a)return;o.push(n.ze.removeMatchingKeys(t,e.removedDocuments,s).next(()=>n.ze.addMatchingKeys(t,e.addedDocuments,s)));const l=e.resumeToken;if(l.approximateByteSize()>0){const c=a.withResumeToken(l,i).withSequenceNumber(t.currentSequenceNumber);r=r.insert(s,c),function(t,e,n){return rr(e.resumeToken.approximateByteSize()>0),0===t.resumeToken.approximateByteSize()||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(a,c,e)&&o.push(n.ze.updateTargetData(t,c))}});let a=Po();if(e.documentUpdates.forEach((i,r)=>{e.resolvedLimboDocuments.has(i)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(t,i))}),o.push(xc(t,s,e.documentUpdates,i,void 0).next(t=>{a=t})),!i.isEqual(Cr.min())){const e=n.ze.getLastRemoteSnapshotVersion(t).next(e=>n.ze.setTargetsMetadata(t,t.currentSequenceNumber,i));o.push(e)}return Xa.waitFor(o).next(()=>s.apply(t)).next(()=>n.Qn.vn(t,a)).next(()=>a)}).then(t=>(n.Un=r,t))}function xc(t,e,n,i,r){let s=Vo();return n.forEach(t=>s=s.add(t)),e.getEntries(t,s).next(t=>{let s=Po();return n.forEach((n,o)=>{const a=t.get(n),l=(null==r?void 0:r.get(n))||i;o.isNoDocument()&&o.version.isEqual(Cr.min())?(e.removeEntry(n,l),s=s.insert(n,o)):!a.isValidDocument()||o.version.compareTo(a.version)>0||0===o.version.compareTo(a.version)&&a.hasPendingWrites?(e.addEntry(o,l),s=s.insert(n,o)):Xi("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",o.version)}),s})}function kc(t,e){const n=sr(t);return n.persistence.runTransaction("Get next mutation batch","readonly",t=>(void 0===e&&(e=-1),n.In.getNextMutationBatchAfterBatchId(t,e)))}function Tc(t,e){const n=sr(t);return n.persistence.runTransaction("Allocate target","readwrite",t=>{let i;return n.ze.getTargetData(t,e).next(r=>r?(i=r,Xa.resolve(i)):n.ze.allocateTargetId(t).next(r=>(i=new pl(e,r,0,t.currentSequenceNumber),n.ze.addTargetData(t,i).next(()=>i))))}).then(t=>{const i=n.Un.get(t.targetId);return(null===i||t.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Un=n.Un.insert(t.targetId,t),n.qn.set(e,t.targetId)),t})}function Ic(t,e,n){return Ac.apply(this,arguments)}function Ac(){return(Ac=(0,L.Z)(function*(t,e,n){const i=sr(t),r=i.Un.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield i.persistence.runTransaction("Release target",s,t=>i.persistence.referenceDelegate.removeTarget(t,r)))}catch(t){if(!rl(t))throw t;Xi("LocalStore",`Failed to update sequence numbers for target ${e}: ${t}`)}i.Un=i.Un.remove(e),i.qn.delete(r.target)})).apply(this,arguments)}function Dc(t,e,n){const i=sr(t);let r=Cr.min(),s=Vo();return i.persistence.runTransaction("Execute query","readonly",t=>function(t,e,n){const i=sr(t),r=i.qn.get(n);return void 0!==r?Xa.resolve(i.Un.get(r)):i.ze.getTargetData(e,n)}(i,t,Fs(e)).next(e=>{if(e)return r=e.lastLimboFreeSnapshotVersion,i.ze.getMatchingKeysForTargetId(t,e.targetId).next(t=>{s=t})}).next(()=>i.Bn.getDocumentsMatchingQuery(t,e,n?r:Cr.min(),n?s:Vo())).next(t=>({documents:t,Gn:s})))}function Rc(t,e){const n=sr(t),i=sr(n.ze),r=n.Un.get(e);return r?Promise.resolve(r.target):n.persistence.runTransaction("Get target data","readonly",t=>i.Et(t,e).next(t=>t?t.target:null))}function Oc(t){const e=sr(t);return e.persistence.runTransaction("Get new document changes","readonly",t=>function(t,e,n){const i=sr(t);let r=Po(),s=_l(n);const o=sc(e),a=IDBKeyRange.lowerBound(s,!0);return o.Kt({index:ja.readTimeIndex,range:a},(t,e)=>{const n=ml(i.N,e);r=r.insert(n.key,n),s=e.readTime}).next(()=>({Tn:r,readTime:yl(s)}))}(e.jn,t,e.Kn)).then(({Tn:t,readTime:n})=>(e.Kn=n,t))}function Pc(){return(Pc=(0,L.Z)(function*(t){const e=sr(t);return e.persistence.runTransaction("Synchronize last document change read time","readonly",t=>function(t){const e=sc(t);let n=Cr.min();return e.Kt({index:ja.readTimeIndex,reverse:!0},(t,e,i)=>{e.readTime&&(n=yl(e.readTime)),i.done()}).next(()=>n)}(t)).then(t=>{e.Kn=t})})).apply(this,arguments)}function Nc(){return(Nc=(0,L.Z)(function*(t,e,n,i){const r=sr(t);let s=Vo(),o=Po(),a=Mo();for(const u of n){const t=e.zn(u.metadata.name);u.document&&(s=s.add(t)),o=o.insert(t,e.Hn(u)),a=a.insert(t,e.Jn(u.metadata.readTime))}const l=r.jn.newChangeBuffer({trackRemovals:!0}),c=yield Tc(r,function(t){return Fs(Is(Tr.fromString(`__bundle__/docs/${t}`)))}(i));return r.persistence.runTransaction("Apply bundle documents","readwrite",t=>xc(t,l,o,Cr.min(),a).next(e=>(l.apply(t),e)).next(e=>r.ze.removeMatchingKeysForTargetId(t,c.targetId).next(()=>r.ze.addMatchingKeys(t,s,c.targetId)).next(()=>r.Qn.vn(t,e)).next(()=>e)))})).apply(this,arguments)}function Fc(t,e){return Lc.apply(this,arguments)}function Lc(){return(Lc=(0,L.Z)(function*(t,e,n=Vo()){const i=yield Tc(t,Fs(Sl(e.bundledQuery))),r=sr(t);return r.persistence.runTransaction("Save named query","readwrite",t=>{const s=ia(e.readTime);if(i.snapshotVersion.compareTo(s)>=0)return r.Je.saveNamedQuery(t,e);const o=i.withResumeToken(Rr.EMPTY_BYTE_STRING,s);return r.Un=r.Un.insert(o.targetId,o),r.ze.updateTargetData(t,o).next(()=>r.ze.removeMatchingKeysForTargetId(t,i.targetId)).next(()=>r.ze.addMatchingKeys(t,n,i.targetId)).next(()=>r.Je.saveNamedQuery(t,e))})})).apply(this,arguments)}class Mc{constructor(t){this.N=t,this.Yn=new Map,this.Xn=new Map}getBundleMetadata(t,e){return Xa.resolve(this.Yn.get(e))}saveBundleMetadata(t,e){var n;return this.Yn.set(e.id,{id:(n=e).id,version:n.version,createTime:ia(n.createTime)}),Xa.resolve()}getNamedQuery(t,e){return Xa.resolve(this.Xn.get(e))}saveNamedQuery(t,e){return this.Xn.set(e.name,function(t){return{name:t.name,query:Sl(t.bundledQuery),readTime:ia(t.readTime)}}(e)),Xa.resolve()}}class Bc{constructor(){this.Zn=new Do(Vc.ts),this.es=new Do(Vc.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(t,e){const n=new Vc(t,e);this.Zn=this.Zn.add(n),this.es=this.es.add(n)}ss(t,e){t.forEach(t=>this.addReference(t,e))}removeReference(t,e){this.rs(new Vc(t,e))}os(t,e){t.forEach(t=>this.removeReference(t,e))}cs(t){const e=new qr(new Tr([])),n=new Vc(e,t),i=new Vc(e,t+1),r=[];return this.es.forEachInRange([n,i],t=>{this.rs(t),r.push(t.key)}),r}us(){this.Zn.forEach(t=>this.rs(t))}rs(t){this.Zn=this.Zn.delete(t),this.es=this.es.delete(t)}hs(t){const e=new qr(new Tr([])),n=new Vc(e,t),i=new Vc(e,t+1);let r=Vo();return this.es.forEachInRange([n,i],t=>{r=r.add(t.key)}),r}containsKey(t){const e=new Vc(t,0),n=this.Zn.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)}}class Vc{constructor(t,e){this.key=t,this.ls=e}static ts(t,e){return qr.comparator(t.key,e.key)||yr(t.ls,e.ls)}static ns(t,e){return yr(t.ls,e.ls)||qr.comparator(t.key,e.key)}}class Uc{constructor(t,e){this.Ht=t,this.referenceDelegate=e,this.In=[],this.fs=1,this.ds=new Do(Vc.ts)}checkEmpty(t){return Xa.resolve(0===this.In.length)}addMutationBatch(t,e,n,i){const r=this.fs;this.fs++;const s=new hl(r,e,n,i);this.In.push(s);for(const o of i)this.ds=this.ds.add(new Vc(o.key,r)),this.Ht.addToCollectionParentIndex(t,o.key.path.popLast());return Xa.resolve(s)}lookupMutationBatch(t,e){return Xa.resolve(this.ws(e))}getNextMutationBatchAfterBatchId(t,e){const n=this._s(e+1),i=n<0?0:n;return Xa.resolve(this.In.length>i?this.In[i]:null)}getHighestUnacknowledgedBatchId(){return Xa.resolve(0===this.In.length?-1:this.fs-1)}getAllMutationBatches(t){return Xa.resolve(this.In.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const n=new Vc(e,0),i=new Vc(e,Number.POSITIVE_INFINITY),r=[];return this.ds.forEachInRange([n,i],t=>{const e=this.ws(t.ls);r.push(e)}),Xa.resolve(r)}getAllMutationBatchesAffectingDocumentKeys(t,e){let n=new Do(yr);return e.forEach(t=>{const e=new Vc(t,0),i=new Vc(t,Number.POSITIVE_INFINITY);this.ds.forEachInRange([e,i],t=>{n=n.add(t.ls)})}),Xa.resolve(this.gs(n))}getAllMutationBatchesAffectingQuery(t,e){const n=e.path,i=n.length+1;let r=n;qr.isDocumentKey(r)||(r=r.child(""));const s=new Vc(new qr(r),0);let o=new Do(yr);return this.ds.forEachWhile(t=>{const e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===i&&(o=o.add(t.ls)),!0)},s),Xa.resolve(this.gs(o))}gs(t){const e=[];return t.forEach(t=>{const n=this.ws(t);null!==n&&e.push(n)}),e}removeMutationBatch(t,e){rr(0===this.ys(e.batchId,"removed")),this.In.shift();let n=this.ds;return Xa.forEach(e.mutations,i=>{const r=new Vc(i.key,e.batchId);return n=n.delete(r),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(()=>{this.ds=n})}te(t){}containsKey(t,e){const n=new Vc(e,0),i=this.ds.firstAfterOrEqual(n);return Xa.resolve(e.isEqual(i&&i.key))}performConsistencyCheck(t){return Xa.resolve()}ys(t,e){return this._s(t)}_s(t){return 0===this.In.length?0:t-this.In[0].batchId}ws(t){const e=this._s(t);return e<0||e>=this.In.length?null:this.In[e]}}class jc{constructor(t,e){this.Ht=t,this.ps=e,this.docs=new To(qr.comparator),this.size=0}addEntry(t,e,n){const i=e.key,r=this.docs.get(i),s=r?r.size:0,o=this.ps(e);return this.docs=this.docs.insert(i,{document:e.clone(),size:o,readTime:n}),this.size+=o-s,this.Ht.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const n=this.docs.get(e);return Xa.resolve(n?n.document.clone():ss.newInvalidDocument(e))}getEntries(t,e){let n=Po();return e.forEach(t=>{const e=this.docs.get(t);n=n.insert(t,e?e.document.clone():ss.newInvalidDocument(t))}),Xa.resolve(n)}getDocumentsMatchingQuery(t,e,n){let i=Po();const r=new qr(e.path.child("")),s=this.docs.getIteratorFrom(r);for(;s.hasNext();){const{key:t,value:{document:r,readTime:o}}=s.getNext();if(!e.path.isPrefixOf(t.path))break;o.compareTo(n)<=0||Us(e,r)&&(i=i.insert(r.key,r.clone()))}return Xa.resolve(i)}Es(t,e){return Xa.forEach(this.docs,t=>e(t))}newChangeBuffer(t){return new qc(this)}getSize(t){return Xa.resolve(this.size)}}class qc extends ec{constructor(t){super(),this.Se=t}applyChanges(t){const e=[];return this.changes.forEach((n,i)=>{i.document.isValidDocument()?e.push(this.Se.addEntry(t,i.document,this.getReadTime(n))):this.Se.removeEntry(n)}),Xa.waitFor(e)}getFromCache(t,e){return this.Se.getEntry(t,e)}getAllFromCache(t,e){return this.Se.getEntries(t,e)}}class zc{constructor(t){this.persistence=t,this.Ts=new tc(t=>ls(t),cs),this.lastRemoteSnapshotVersion=Cr.min(),this.highestTargetId=0,this.Is=0,this.As=new Bc,this.targetCount=0,this.Rs=jl.se()}forEachTarget(t,e){return this.Ts.forEach((t,n)=>e(n)),Xa.resolve()}getLastRemoteSnapshotVersion(t){return Xa.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Xa.resolve(this.Is)}allocateTargetId(t){return this.highestTargetId=this.Rs.next(),Xa.resolve(this.highestTargetId)}setTargetsMetadata(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.Is&&(this.Is=e),Xa.resolve()}ae(t){this.Ts.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.Rs=new jl(e),this.highestTargetId=e),t.sequenceNumber>this.Is&&(this.Is=t.sequenceNumber)}addTargetData(t,e){return this.ae(e),this.targetCount+=1,Xa.resolve()}updateTargetData(t,e){return this.ae(e),Xa.resolve()}removeTargetData(t,e){return this.Ts.delete(e.target),this.As.cs(e.targetId),this.targetCount-=1,Xa.resolve()}removeTargets(t,e,n){let i=0;const r=[];return this.Ts.forEach((s,o)=>{o.sequenceNumber<=e&&null===n.get(o.targetId)&&(this.Ts.delete(s),r.push(this.removeMatchingKeysForTargetId(t,o.targetId)),i++)}),Xa.waitFor(r).next(()=>i)}getTargetCount(t){return Xa.resolve(this.targetCount)}getTargetData(t,e){const n=this.Ts.get(e)||null;return Xa.resolve(n)}addMatchingKeys(t,e,n){return this.As.ss(e,n),Xa.resolve()}removeMatchingKeys(t,e,n){this.As.os(e,n);const i=this.persistence.referenceDelegate,r=[];return i&&e.forEach(e=>{r.push(i.markPotentiallyOrphaned(t,e))}),Xa.waitFor(r)}removeMatchingKeysForTargetId(t,e){return this.As.cs(e),Xa.resolve()}getMatchingKeysForTargetId(t,e){const n=this.As.hs(e);return Xa.resolve(n)}containsKey(t,e){return Xa.resolve(this.As.containsKey(e))}}class Hc{constructor(t,e){this.bs={},this.Le=new mr(0),this.Be=!1,this.Be=!0,this.referenceDelegate=t(this),this.ze=new zc(this),this.Ht=new Il,this.He=function(t,e){return new jc(t,e)}(this.Ht,t=>this.referenceDelegate.Ps(t)),this.N=new fl(e),this.Je=new Mc(this.N)}start(){return Promise.resolve()}shutdown(){return this.Be=!1,Promise.resolve()}get started(){return this.Be}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Ht}getMutationQueue(t){let e=this.bs[t.toKey()];return e||(e=new Uc(this.Ht,this.referenceDelegate),this.bs[t.toKey()]=e),e}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getBundleCache(){return this.Je}runTransaction(t,e,n){Xi("MemoryPersistence","Starting transaction:",t);const i=new Gc(this.Le.next());return this.referenceDelegate.vs(),n(i).next(t=>this.referenceDelegate.Vs(i).next(()=>t)).toPromise().then(t=>(i.raiseOnCommittedEvent(),t))}Ss(t,e){return Xa.or(Object.values(this.bs).map(n=>()=>n.containsKey(t,e)))}}class Gc extends Ja{constructor(t){super(),this.currentSequenceNumber=t}}class $c{constructor(t){this.persistence=t,this.Ds=new Bc,this.Cs=null}static Ns(t){return new $c(t)}get xs(){if(this.Cs)return this.Cs;throw ir()}addReference(t,e,n){return this.Ds.addReference(n,e),this.xs.delete(n.toString()),Xa.resolve()}removeReference(t,e,n){return this.Ds.removeReference(n,e),this.xs.add(n.toString()),Xa.resolve()}markPotentiallyOrphaned(t,e){return this.xs.add(e.toString()),Xa.resolve()}removeTarget(t,e){this.Ds.cs(e.targetId).forEach(t=>this.xs.add(t.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(t,e.targetId).next(t=>{t.forEach(t=>this.xs.add(t.toString()))}).next(()=>n.removeTargetData(t,e))}vs(){this.Cs=new Set}Vs(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Xa.forEach(this.xs,n=>{const i=qr.fromPath(n);return this.ks(t,i).next(t=>{t||e.removeEntry(i)})}).next(()=>(this.Cs=null,e.apply(t)))}updateLimboDocument(t,e){return this.ks(t,e).next(t=>{t?this.xs.delete(e.toString()):this.xs.add(e.toString())})}Ps(t){return 0}ks(t,e){return Xa.or([()=>Xa.resolve(this.Ds.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ss(t,e)])}}function Zc(t,e){return`firestore_clients_${t}_${e}`}function Yc(t,e,n){let i=`firestore_mutations_${t}_${n}`;return e.isAuthenticated()&&(i+=`_${e.uid}`),i}function Wc(t,e){return`firestore_targets_${t}_${e}`}class Kc{constructor(t,e,n,i){this.user=t,this.batchId=e,this.state=n,this.error=i}static $s(t,e,n){const i=JSON.parse(n);let r,s="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code,s&&(r=new ar(i.error.code,i.error.message))),s?new Kc(t,e,i.state,r):(tr("SharedClientState",`Failed to parse mutation state for ID '${e}': ${n}`),null)}Os(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class Qc{constructor(t,e,n){this.targetId=t,this.state=e,this.error=n}static $s(t,e){const n=JSON.parse(e);let i,r="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error);return r&&n.error&&(r="string"==typeof n.error.message&&"string"==typeof n.error.code,r&&(i=new ar(n.error.code,n.error.message))),r?new Qc(t,n.state,i):(tr("SharedClientState",`Failed to parse target state for ID '${t}': ${e}`),null)}Os(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class Jc{constructor(t,e){this.clientId=t,this.activeTargetIds=e}static $s(t,e){const n=JSON.parse(e);let i="object"==typeof n&&n.activeTargetIds instanceof Array,r=jo();for(let s=0;i&&s<n.activeTargetIds.length;++s)i=jr(n.activeTargetIds[s]),r=r.add(n.activeTargetIds[s]);return i?new Jc(t,r):(tr("SharedClientState",`Failed to parse client data for instance '${t}': ${e}`),null)}}class Xc{constructor(t,e){this.clientId=t,this.onlineState=e}static $s(t){const e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new Xc(e.clientId,e.onlineState):(tr("SharedClientState",`Failed to parse online state: ${t}`),null)}}class tu{constructor(){this.activeTargetIds=jo()}Fs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Ms(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Os(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class eu{constructor(t,e,n,i,r){this.window=t,this.Oe=e,this.persistenceKey=n,this.Ls=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Bs=this.Us.bind(this),this.qs=new To(yr),this.started=!1,this.Ks=[];const s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=r,this.js=Zc(this.persistenceKey,this.Ls),this.Qs=function(t){return`firestore_sequence_number_${t}`}(this.persistenceKey),this.qs=this.qs.insert(this.Ls,new tu),this.Ws=new RegExp(`^firestore_clients_${s}_([^_]*)$`),this.Gs=new RegExp(`^firestore_mutations_${s}_(\\d+)(?:_(.*))?$`),this.zs=new RegExp(`^firestore_targets_${s}_(\\d+)$`),this.Hs=function(t){return`firestore_online_state_${t}`}(this.persistenceKey),this.Js=function(t){return`firestore_bundle_loaded_${t}`}(this.persistenceKey),this.window.addEventListener("storage",this.Bs)}static bt(t){return!(!t||!t.localStorage)}start(){var t=this;return(0,L.Z)(function*(){const e=yield t.syncEngine.pn();for(const i of e){if(i===t.Ls)continue;const e=t.getItem(Zc(t.persistenceKey,i));if(e){const n=Jc.$s(i,e);n&&(t.qs=t.qs.insert(n.clientId,n))}}t.Ys();const n=t.storage.getItem(t.Hs);if(n){const e=t.Xs(n);e&&t.Zs(e)}for(const i of t.Ks)t.Us(i);t.Ks=[],t.window.addEventListener("pagehide",()=>t.shutdown()),t.started=!0})()}writeSequenceNumber(t){this.setItem(this.Qs,JSON.stringify(t))}getAllActiveQueryTargets(){return this.ti(this.qs)}isActiveQueryTarget(t){let e=!1;return this.qs.forEach((n,i)=>{i.activeTargetIds.has(t)&&(e=!0)}),e}addPendingMutation(t){this.ei(t,"pending")}updateMutationState(t,e,n){this.ei(t,e,n),this.ni(t)}addLocalQueryTarget(t){let e="not-current";if(this.isActiveQueryTarget(t)){const n=this.storage.getItem(Wc(this.persistenceKey,t));if(n){const i=Qc.$s(t,n);i&&(e=i.state)}}return this.si.Fs(t),this.Ys(),e}removeLocalQueryTarget(t){this.si.Ms(t),this.Ys()}isLocalQueryTarget(t){return this.si.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(Wc(this.persistenceKey,t))}updateQueryState(t,e,n){this.ii(t,e,n)}handleUserChange(t,e,n){e.forEach(t=>{this.ni(t)}),this.currentUser=t,n.forEach(t=>{this.addPendingMutation(t)})}setOnlineState(t){this.ri(t)}notifyBundleLoaded(){this.oi()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Bs),this.removeItem(this.js),this.started=!1)}getItem(t){const e=this.storage.getItem(t);return Xi("SharedClientState","READ",t,e),e}setItem(t,e){Xi("SharedClientState","SET",t,e),this.storage.setItem(t,e)}removeItem(t){Xi("SharedClientState","REMOVE",t),this.storage.removeItem(t)}Us(t){var e=this;const n=t;if(n.storageArea===this.storage){if(Xi("SharedClientState","EVENT",n.key,n.newValue),n.key===this.js)return void tr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Oe.enqueueRetryable((0,L.Z)(function*(){if(e.started){if(null!==n.key)if(e.Ws.test(n.key)){if(null==n.newValue){const t=e.ai(n.key);return e.ci(t,null)}{const t=e.ui(n.key,n.newValue);if(t)return e.ci(t.clientId,t)}}else if(e.Gs.test(n.key)){if(null!==n.newValue){const t=e.hi(n.key,n.newValue);if(t)return e.li(t)}}else if(e.zs.test(n.key)){if(null!==n.newValue){const t=e.fi(n.key,n.newValue);if(t)return e.di(t)}}else if(n.key===e.Hs){if(null!==n.newValue){const t=e.Xs(n.newValue);if(t)return e.Zs(t)}}else if(n.key===e.Qs){const t=function(t){let e=mr.T;if(null!=t)try{const n=JSON.parse(t);rr("number"==typeof n),e=n}catch(t){tr("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue);t!==mr.T&&e.sequenceNumberHandler(t)}else if(n.key===e.Js)return e.syncEngine.wi()}else e.Ks.push(n)}))}}get si(){return this.qs.get(this.Ls)}Ys(){this.setItem(this.js,this.si.Os())}ei(t,e,n){const i=new Kc(this.currentUser,t,e,n),r=Yc(this.persistenceKey,this.currentUser,t);this.setItem(r,i.Os())}ni(t){const e=Yc(this.persistenceKey,this.currentUser,t);this.removeItem(e)}ri(t){this.storage.setItem(this.Hs,JSON.stringify({clientId:this.Ls,onlineState:t}))}ii(t,e,n){const i=Wc(this.persistenceKey,t),r=new Qc(t,e,n);this.setItem(i,r.Os())}oi(){this.setItem(this.Js,"value-not-used")}ai(t){const e=this.Ws.exec(t);return e?e[1]:null}ui(t,e){const n=this.ai(t);return Jc.$s(n,e)}hi(t,e){const n=this.Gs.exec(t),i=Number(n[1]);return Kc.$s(new Wi(void 0!==n[2]?n[2]:null),i,e)}fi(t,e){const n=this.zs.exec(t),i=Number(n[1]);return Qc.$s(i,e)}Xs(t){return Xc.$s(t)}li(t){var e=this;return(0,L.Z)(function*(){if(t.user.uid===e.currentUser.uid)return e.syncEngine._i(t.batchId,t.state,t.error);Xi("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})()}di(t){return this.syncEngine.mi(t.targetId,t.state,t.error)}ci(t,e){const n=e?this.qs.insert(t,e):this.qs.remove(t),i=this.ti(this.qs),r=this.ti(n),s=[],o=[];return r.forEach(t=>{i.has(t)||s.push(t)}),i.forEach(t=>{r.has(t)||o.push(t)}),this.syncEngine.gi(s,o).then(()=>{this.qs=n})}Zs(t){this.qs.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}ti(t){let e=jo();return t.forEach((t,n)=>{e=e.unionWith(n.activeTargetIds)}),e}}class nu{constructor(){this.yi=new tu,this.pi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,n){}addLocalQueryTarget(t){return this.yi.Fs(t),this.pi[t]||"not-current"}updateQueryState(t,e,n){this.pi[t]=e}removeLocalQueryTarget(t){this.yi.Ms(t)}isLocalQueryTarget(t){return this.yi.activeTargetIds.has(t)}clearQueryState(t){delete this.pi[t]}getAllActiveQueryTargets(){return this.yi.activeTargetIds}isActiveQueryTarget(t){return this.yi.activeTargetIds.has(t)}start(){return this.yi=new tu,Promise.resolve()}handleUserChange(t,e,n){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(){}}class iu{Ei(t){}shutdown(){}}class ru{constructor(){this.Ti=()=>this.Ii(),this.Ai=()=>this.Ri(),this.bi=[],this.Pi()}Ei(t){this.bi.push(t)}shutdown(){window.removeEventListener("online",this.Ti),window.removeEventListener("offline",this.Ai)}Pi(){window.addEventListener("online",this.Ti),window.addEventListener("offline",this.Ai)}Ii(){Xi("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.bi)t(0)}Ri(){Xi("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.bi)t(1)}static bt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const su={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class ou{constructor(t){this.vi=t.vi,this.Vi=t.Vi}Si(t){this.Di=t}Ci(t){this.Ni=t}onMessage(t){this.xi=t}close(){this.Vi()}send(t){this.vi(t)}ki(){this.Di()}$i(t){this.Ni(t)}Oi(t){this.xi(t)}}class au extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.Fi=(t.ssl?"https":"http")+"://"+t.host,this.Mi="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Li(t,e,n,i){const r=this.Bi(t,e);Xi("RestConnection","Sending: ",r,n);const s={};return this.Ui(s,i),this.qi(t,r,s,n).then(t=>(Xi("RestConnection","Received: ",t),t),e=>{throw er("RestConnection",`${t} failed with error: `,e,"url: ",r,"request:",n),e})}Ki(t,e,n,i){return this.Li(t,e,n,i)}Ui(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/"+Ki,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e)for(const n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n])}Bi(t,e){return`${this.Fi}/v1/${e}:${su[t]}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams}qi(t,e,n,i){return new Promise((r,s)=>{const o=new Yi;o.listenOnce(Hi.COMPLETE,()=>{try{switch(o.getLastErrorCode()){case zi.NO_ERROR:const e=o.getResponseJson();Xi("Connection","XHR received:",JSON.stringify(e)),r(e);break;case zi.TIMEOUT:Xi("Connection",'RPC "'+t+'" timed out'),s(new ar(or.DEADLINE_EXCEEDED,"Request time out"));break;case zi.HTTP_ERROR:const n=o.getStatus();if(Xi("Connection",'RPC "'+t+'" failed with status:',n,"response text:",o.getResponseText()),n>0){const t=o.getResponseJson().error;if(t&&t.status&&t.message){const e=function(t){const e=t.toLowerCase().replace(/_/g,"-");return Object.values(or).indexOf(e)>=0?e:or.UNKNOWN}(t.status);s(new ar(e,t.message))}else s(new ar(or.UNKNOWN,"Server responded with status "+o.getStatus()))}else s(new ar(or.UNAVAILABLE,"Connection failed."));break;default:ir()}}finally{Xi("Connection",'RPC "'+t+'" completed.')}});const a=JSON.stringify(i);o.send(e,"POST",a,n,15)})}ji(t,e){const n=[this.Fi,"/","google.firestore.v1.Firestore","/",t,"/channel"],i=new Bi,r=Re(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(s.xmlHttpFactory=new $i({})),this.Ui(s.initMessageHeaders,e),(0,U.uI)()||(0,U.b$)()||(0,U.d)()||(0,U.w1)()||(0,U.Mn)()||(0,U.ru)()||(s.httpHeadersOverwriteParam="$httpHeaders");const o=n.join("");Xi("Connection","Creating WebChannel: "+o,s);const a=i.createWebChannel(o,s);let l=!1,c=!1;const u=new ou({vi:t=>{c?Xi("Connection","Not sending because WebChannel is closed:",t):(l||(Xi("Connection","Opening WebChannel transport."),a.open(),l=!0),Xi("Connection","WebChannel sending:",t),a.send(t))},Vi:()=>a.close()}),h=(t,e,n)=>{t.listen(e,t=>{try{n(t)}catch(t){setTimeout(()=>{throw t},0)}})};return h(a,Zi.EventType.OPEN,()=>{c||Xi("Connection","WebChannel transport opened.")}),h(a,Zi.EventType.CLOSE,()=>{c||(c=!0,Xi("Connection","WebChannel transport closed"),u.$i())}),h(a,Zi.EventType.ERROR,t=>{c||(c=!0,er("Connection","WebChannel transport errored:",t),u.$i(new ar(or.UNAVAILABLE,"The operation could not be completed")))}),h(a,Zi.EventType.MESSAGE,t=>{var e;if(!c){const n=t.data[0];rr(!!n);const i=n,r=i.error||(null===(e=i[0])||void 0===e?void 0:e.error);if(r){Xi("Connection","WebChannel received error:",r);const t=r.status;let e=function(t){const e=Eo[t];if(void 0!==e)return ko(e)}(t),n=r.message;void 0===e&&(e=or.INTERNAL,n="Unknown error status: "+t+" with message "+r.message),c=!0,u.$i(new ar(e,n)),a.close()}else Xi("Connection","WebChannel received:",n),u.Oi(n)}}),h(r,Gi.STAT_EVENT,t=>{10===t.stat?Xi("Connection","Detected buffering proxy"):11===t.stat&&Xi("Connection","Detected no buffering proxy")}),setTimeout(()=>{u.ki()},0),u}}function lu(){return"undefined"!=typeof window?window:null}function cu(){return"undefined"!=typeof document?document:null}function uu(t){return new Xo(t,!0)}class hu{constructor(t,e,n=1e3,i=1.5,r=6e4){this.Oe=t,this.timerId=e,this.Qi=n,this.Wi=i,this.Gi=r,this.zi=0,this.Hi=null,this.Ji=Date.now(),this.reset()}reset(){this.zi=0}Yi(){this.zi=this.Gi}Xi(t){this.cancel();const e=Math.floor(this.zi+this.Zi()),n=Math.max(0,Date.now()-this.Ji),i=Math.max(0,e-n);i>0&&Xi("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.zi} ms, delay with jitter: ${e} ms, last attempt: ${n} ms ago)`),this.Hi=this.Oe.enqueueAfterDelay(this.timerId,i,()=>(this.Ji=Date.now(),t())),this.zi*=this.Wi,this.zi<this.Qi&&(this.zi=this.Qi),this.zi>this.Gi&&(this.zi=this.Gi)}tr(){null!==this.Hi&&(this.Hi.skipDelay(),this.Hi=null)}cancel(){null!==this.Hi&&(this.Hi.cancel(),this.Hi=null)}Zi(){return(Math.random()-.5)*this.zi}}class du{constructor(t,e,n,i,r,s){this.Oe=t,this.er=n,this.nr=i,this.credentialsProvider=r,this.listener=s,this.state=0,this.sr=0,this.ir=null,this.stream=null,this.rr=new hu(t,e)}ar(){return 1===this.state||2===this.state||4===this.state}cr(){return 2===this.state}start(){3!==this.state?this.auth():this.ur()}stop(){var t=this;return(0,L.Z)(function*(){t.ar()&&(yield t.close(0))})()}hr(){this.state=0,this.rr.reset()}lr(){this.cr()&&null===this.ir&&(this.ir=this.Oe.enqueueAfterDelay(this.er,6e4,()=>this.dr()))}wr(t){this._r(),this.stream.send(t)}dr(){var t=this;return(0,L.Z)(function*(){if(t.cr())return t.close(0)})()}_r(){this.ir&&(this.ir.cancel(),this.ir=null)}close(t,e){var n=this;return(0,L.Z)(function*(){n._r(),n.rr.cancel(),n.sr++,3!==t?n.rr.reset():e&&e.code===or.RESOURCE_EXHAUSTED?(tr(e.toString()),tr("Using maximum backoff delay to prevent overloading the backend."),n.rr.Yi()):e&&e.code===or.UNAUTHENTICATED&&n.credentialsProvider.invalidateToken(),null!==n.stream&&(n.mr(),n.stream.close(),n.stream=null),n.state=t,yield n.listener.Ci(e)})()}mr(){}auth(){this.state=1;const t=this.gr(this.sr),e=this.sr;this.credentialsProvider.getToken().then(t=>{this.sr===e&&this.yr(t)},e=>{t(()=>{const t=new ar(or.UNKNOWN,"Fetching auth token failed: "+e.message);return this.pr(t)})})}yr(t){const e=this.gr(this.sr);this.stream=this.Er(t),this.stream.Si(()=>{e(()=>(this.state=2,this.listener.Si()))}),this.stream.Ci(t=>{e(()=>this.pr(t))}),this.stream.onMessage(t=>{e(()=>this.onMessage(t))})}ur(){var t=this;this.state=4,this.rr.Xi((0,L.Z)(function*(){t.state=0,t.start()}))}pr(t){return Xi("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(3,t)}gr(t){return e=>{this.Oe.enqueueAndForget(()=>this.sr===t?e():(Xi("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class pu extends du{constructor(t,e,n,i,r){super(t,"listen_stream_connection_backoff","listen_stream_idle",e,n,r),this.N=i}Er(t){return this.nr.ji("Listen",t)}onMessage(t){this.rr.reset();const e=function(t,e){let n;if("targetChange"in e){const i=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:ir()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],s=function(t,e){return t.D?(rr(void 0===e||"string"==typeof e),Rr.fromBase64String(e||"")):(rr(void 0===e||e instanceof Uint8Array),Rr.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(t){const e=void 0===t.code?or.UNKNOWN:ko(t.code);return new ar(e,t.message||"")}(o);n=new $o(i,r,s,a||null)}else if("documentChange"in e){const i=e.documentChange,r=aa(t,i.document.name),s=ia(i.document.updateTime),o=new is({mapValue:{fields:i.document.fields}}),a=ss.newFoundDocument(r,s,o);n=new Ho(i.targetIds||[],i.removedTargetIds||[],a.key,a)}else if("documentDelete"in e){const i=e.documentDelete,r=aa(t,i.document),s=i.readTime?ia(i.readTime):Cr.min(),o=ss.newNoDocument(r,s);n=new Ho([],i.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const i=e.documentRemove,r=aa(t,i.document);n=new Ho([],i.removedTargetIds||[],r,null)}else{if(!("filter"in e))return ir();{const t=e.filter,i=new Co(t.count||0);n=new Go(t.targetId,i)}}return n}(this.N,t),n=function(t){if(!("targetChange"in t))return Cr.min();const e=t.targetChange;return e.targetIds&&e.targetIds.length?Cr.min():e.readTime?ia(e.readTime):Cr.min()}(t);return this.listener.Tr(e,n)}Ir(t){const e={};e.database=ua(this.N),e.addTarget=function(t,e){let n;const i=e.target;return n=us(i)?{documents:ga(t,i)}:{query:_a(t,i)},n.targetId=e.targetId,e.resumeToken.approximateByteSize()>0?n.resumeToken=ea(t,e.resumeToken):e.snapshotVersion.compareTo(Cr.min())>0&&(n.readTime=ta(t,e.snapshotVersion.toTimestamp())),n}(this.N,t);const n=function(t,e){const n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ir()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.wr(e)}Ar(t){const e={};e.database=ua(this.N),e.removeTarget=t,this.wr(e)}}class fu extends du{constructor(t,e,n,i,r){super(t,"write_stream_connection_backoff","write_stream_idle",e,n,r),this.N=i,this.Rr=!1}get br(){return this.Rr}start(){this.Rr=!1,this.lastStreamToken=void 0,super.start()}mr(){this.Rr&&this.Pr([])}Er(t){return this.nr.ji("Write",t)}onMessage(t){if(rr(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Rr){this.rr.reset();const e=function(t,e){return t&&t.length>0?(rr(void 0!==e),t.map(t=>function(t,e){let n=ia(t.updateTime?t.updateTime:e);return n.isEqual(Cr.min())&&(n=ia(e)),new so(n,t.transformResults||[])}(t,e))):[]}(t.writeResults,t.commitTime),n=ia(t.commitTime);return this.listener.vr(n,e)}return rr(!t.writeResults||0===t.writeResults.length),this.Rr=!0,this.listener.Vr()}Sr(){const t={};t.database=ua(this.N),this.wr(t)}Pr(t){const e={streamToken:this.lastStreamToken,writes:t.map(t=>fa(this.N,t))};this.wr(e)}}class mu extends class{}{constructor(t,e,n){super(),this.credentials=t,this.nr=e,this.N=n,this.Dr=!1}Cr(){if(this.Dr)throw new ar(or.FAILED_PRECONDITION,"The client has already been terminated.")}Li(t,e,n){return this.Cr(),this.credentials.getToken().then(i=>this.nr.Li(t,e,n,i)).catch(t=>{throw"FirebaseError"===t.name?(t.code===or.UNAUTHENTICATED&&this.credentials.invalidateToken(),t):new ar(or.UNKNOWN,t.toString())})}Ki(t,e,n){return this.Cr(),this.credentials.getToken().then(i=>this.nr.Ki(t,e,n,i)).catch(t=>{throw"FirebaseError"===t.name?(t.code===or.UNAUTHENTICATED&&this.credentials.invalidateToken(),t):new ar(or.UNKNOWN,t.toString())})}terminate(){this.Dr=!0}}class gu{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.Nr=0,this.kr=null,this.$r=!0}Or(){0===this.Nr&&(this.Fr("Unknown"),this.kr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.kr=null,this.Mr("Backend didn't respond within 10 seconds."),this.Fr("Offline"),Promise.resolve())))}Lr(t){"Online"===this.state?this.Fr("Unknown"):(this.Nr++,this.Nr>=1&&(this.Br(),this.Mr(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.Fr("Offline")))}set(t){this.Br(),this.Nr=0,"Online"===t&&(this.$r=!1),this.Fr(t)}Fr(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}Mr(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.$r?(tr(e),this.$r=!1):Xi("OnlineStateTracker",e)}Br(){null!==this.kr&&(this.kr.cancel(),this.kr=null)}}class _u{constructor(t,e,n,i,r){var s=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.Ur=[],this.qr=new Map,this.Kr=new Set,this.jr=[],this.Qr=r,this.Qr.Ei(t=>{n.enqueueAndForget((0,L.Z)(function*(){var t;Iu(s)&&(Xi("RemoteStore","Restarting streams for network reachability change."),yield(t=(0,L.Z)(function*(t){const e=sr(t);e.Kr.add(4),yield bu(e),e.Wr.set("Unknown"),e.Kr.delete(4),yield yu(e)}),function(e){return t.apply(this,arguments)})(s))}))}),this.Wr=new gu(n,i)}}function yu(t){return vu.apply(this,arguments)}function vu(){return(vu=(0,L.Z)(function*(t){if(Iu(t))for(const e of t.jr)yield e(!0)})).apply(this,arguments)}function bu(t){return wu.apply(this,arguments)}function wu(){return(wu=(0,L.Z)(function*(t){for(const e of t.jr)yield e(!1)})).apply(this,arguments)}function Cu(t,e){const n=sr(t);n.qr.has(e.targetId)||(n.qr.set(e.targetId,e),Tu(n)?ku(n):eh(n).cr()&&Su(n,e))}function Eu(t,e){const n=sr(t),i=eh(n);n.qr.delete(e),i.cr()&&xu(n,e),0===n.qr.size&&(i.cr()?i.lr():Iu(n)&&n.Wr.set("Unknown"))}function Su(t,e){t.Gr.Y(e.targetId),eh(t).Ir(e)}function xu(t,e){t.Gr.Y(e),eh(t).Ar(e)}function ku(t){t.Gr=new Yo({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>t.qr.get(e)||null}),eh(t).start(),t.Wr.Or()}function Tu(t){return Iu(t)&&!eh(t).ar()&&t.qr.size>0}function Iu(t){return 0===sr(t).Kr.size}function Au(t){t.Gr=void 0}function Du(t){return Ru.apply(this,arguments)}function Ru(){return(Ru=(0,L.Z)(function*(t){t.qr.forEach((e,n)=>{Su(t,e)})})).apply(this,arguments)}function Ou(t,e){return Pu.apply(this,arguments)}function Pu(){return(Pu=(0,L.Z)(function*(t,e){Au(t),Tu(t)?(t.Wr.Lr(e),ku(t)):t.Wr.set("Unknown")})).apply(this,arguments)}function Nu(t,e,n){return Fu.apply(this,arguments)}function Fu(){return(Fu=(0,L.Z)(function*(t,e,n){if(t.Wr.set("Online"),e instanceof $o&&2===e.state&&e.cause)try{yield(i=(0,L.Z)(function*(t,e){const n=e.cause;for(const i of e.targetIds)t.qr.has(i)&&(yield t.remoteSyncer.rejectListen(i,n),t.qr.delete(i),t.Gr.removeTarget(i))}),function(t,e){return i.apply(this,arguments)})(t,e)}catch(n){Xi("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),n),yield Lu(t,n)}else if(e instanceof Ho?t.Gr.rt(e):e instanceof Go?t.Gr.ft(e):t.Gr.ct(e),!n.isEqual(Cr.min()))try{const e=yield Ec(t.localStore);n.compareTo(e)>=0&&(yield function(t,e){const n=t.Gr._t(e);return n.targetChanges.forEach((n,i)=>{if(n.resumeToken.approximateByteSize()>0){const r=t.qr.get(i);r&&t.qr.set(i,r.withResumeToken(n.resumeToken,e))}}),n.targetMismatches.forEach(e=>{const n=t.qr.get(e);if(!n)return;t.qr.set(e,n.withResumeToken(Rr.EMPTY_BYTE_STRING,n.snapshotVersion)),xu(t,e);const i=new pl(n.target,e,1,n.sequenceNumber);Su(t,i)}),t.remoteSyncer.applyRemoteEvent(n)}(t,n))}catch(e){Xi("RemoteStore","Failed to raise snapshot:",e),yield Lu(t,e)}var i})).apply(this,arguments)}function Lu(t,e,n){return Mu.apply(this,arguments)}function Mu(){return(Mu=(0,L.Z)(function*(t,e,n){if(!rl(e))throw e;t.Kr.add(1),yield bu(t),t.Wr.set("Offline"),n||(n=()=>Ec(t.localStore)),t.asyncQueue.enqueueRetryable((0,L.Z)(function*(){Xi("RemoteStore","Retrying IndexedDB access"),yield n(),t.Kr.delete(1),yield yu(t)}))})).apply(this,arguments)}function Bu(t,e){return e().catch(n=>Lu(t,n,e))}function Vu(t){return Uu.apply(this,arguments)}function Uu(){return(Uu=(0,L.Z)(function*(t){const e=sr(t),n=nh(e);let i=e.Ur.length>0?e.Ur[e.Ur.length-1].batchId:-1;for(;ju(e);)try{const t=yield kc(e.localStore,i);if(null===t){0===e.Ur.length&&n.lr();break}i=t.batchId,qu(e,t)}catch(t){yield Lu(e,t)}zu(e)&&Hu(e)})).apply(this,arguments)}function ju(t){return Iu(t)&&t.Ur.length<10}function qu(t,e){t.Ur.push(e);const n=nh(t);n.cr()&&n.br&&n.Pr(e.mutations)}function zu(t){return Iu(t)&&!nh(t).ar()&&t.Ur.length>0}function Hu(t){nh(t).start()}function Gu(t){return $u.apply(this,arguments)}function $u(){return($u=(0,L.Z)(function*(t){nh(t).Sr()})).apply(this,arguments)}function Zu(t){return Yu.apply(this,arguments)}function Yu(){return(Yu=(0,L.Z)(function*(t){const e=nh(t);for(const n of t.Ur)e.Pr(n.mutations)})).apply(this,arguments)}function Wu(t,e,n){return Ku.apply(this,arguments)}function Ku(){return(Ku=(0,L.Z)(function*(t,e,n){const i=t.Ur.shift(),r=dl.from(i,e,n);yield Bu(t,()=>t.remoteSyncer.applySuccessfulWrite(r)),yield Vu(t)})).apply(this,arguments)}function Qu(t,e){return Ju.apply(this,arguments)}function Ju(){return(Ju=(0,L.Z)(function*(t,e){var n;e&&nh(t).br&&(yield(n=(0,L.Z)(function*(t,e){if(xo(n=e.code)&&n!==or.ABORTED){const n=t.Ur.shift();nh(t).hr(),yield Bu(t,()=>t.remoteSyncer.rejectFailedWrite(n.batchId,e)),yield Vu(t)}var n}),function(t,e){return n.apply(this,arguments)})(t,e)),zu(t)&&Hu(t)})).apply(this,arguments)}function Xu(t,e){return th.apply(this,arguments)}function th(){return(th=(0,L.Z)(function*(t,e){const n=sr(t);e?(n.Kr.delete(2),yield yu(n)):e||(n.Kr.add(2),yield bu(n),n.Wr.set("Unknown"))})).apply(this,arguments)}function eh(t){return t.zr||(t.zr=function(t,e,n){const i=sr(t);return i.Cr(),new pu(e,i.nr,i.credentials,i.N,n)}(t.datastore,t.asyncQueue,{Si:Du.bind(null,t),Ci:Ou.bind(null,t),Tr:Nu.bind(null,t)}),t.jr.push(function(){var e=(0,L.Z)(function*(e){e?(t.zr.hr(),Tu(t)?ku(t):t.Wr.set("Unknown")):(yield t.zr.stop(),Au(t))});return function(t){return e.apply(this,arguments)}}())),t.zr}function nh(t){return t.Hr||(t.Hr=function(t,e,n){const i=sr(t);return i.Cr(),new fu(e,i.nr,i.credentials,i.N,n)}(t.datastore,t.asyncQueue,{Si:Gu.bind(null,t),Ci:Qu.bind(null,t),Vr:Zu.bind(null,t),vr:Wu.bind(null,t)}),t.jr.push(function(){var e=(0,L.Z)(function*(e){e?(t.Hr.hr(),yield Vu(t)):(yield t.Hr.stop(),t.Ur.length>0&&(Xi("RemoteStore",`Stopping write stream with ${t.Ur.length} pending writes`),t.Ur=[]))});return function(t){return e.apply(this,arguments)}}())),t.Hr}class ih{constructor(t,e,n,i,r){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=i,this.removalCallback=r,this.deferred=new lr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(t=>{})}static createAndSchedule(t,e,n,i,r){const s=Date.now()+n,o=new ih(t,e,s,i,r);return o.start(n),o}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ar(or.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function rh(t,e){if(tr("AsyncQueue",`${e}: ${t}`),rl(t))return new ar(or.UNAVAILABLE,`${e}: ${t}`);throw t}class sh{constructor(t){this.comparator=t?(e,n)=>t(e,n)||qr.comparator(e.key,n.key):(t,e)=>qr.comparator(t.key,e.key),this.keyedMap=Fo(),this.sortedSet=new To(this.comparator)}static emptySet(t){return new sh(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,n)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof sh))return!1;if(this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),n=t.sortedSet.getIterator();for(;e.hasNext();){const t=e.getNext().key,i=n.getNext().key;if(!t.isEqual(i))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const n=new sh;return n.comparator=this.comparator,n.keyedMap=t,n.sortedSet=e,n}}class oh{constructor(){this.Jr=new To(qr.comparator)}track(t){const e=t.doc.key,n=this.Jr.get(e);n?0!==t.type&&3===n.type?this.Jr=this.Jr.insert(e,t):3===t.type&&1!==n.type?this.Jr=this.Jr.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Jr=this.Jr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Jr=this.Jr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Jr=this.Jr.remove(e):1===t.type&&2===n.type?this.Jr=this.Jr.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Jr=this.Jr.insert(e,{type:2,doc:t.doc}):ir():this.Jr=this.Jr.insert(e,t)}Yr(){const t=[];return this.Jr.inorderTraversal((e,n)=>{t.push(n)}),t}}class ah{constructor(t,e,n,i,r,s,o,a){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=r,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a}static fromInitialDocuments(t,e,n,i){const r=[];return e.forEach(t=>{r.push({type:0,doc:t})}),new ah(t,e,sh.emptySet(e),r,n,i,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Ms(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(let i=0;i<e.length;i++)if(e[i].type!==n[i].type||!e[i].doc.isEqual(n[i].doc))return!1;return!0}}class lh{constructor(){this.Xr=void 0,this.listeners=[]}}class ch{constructor(){this.queries=new tc(t=>Bs(t),Ms),this.onlineState="Unknown",this.Zr=new Set}}function uh(t,e){return hh.apply(this,arguments)}function hh(){return(hh=(0,L.Z)(function*(t,e){const n=sr(t),i=e.query;let r=!1,s=n.queries.get(i);if(s||(r=!0,s=new lh),r)try{s.Xr=yield n.onListen(i)}catch(t){const n=rh(t,`Initialization of query '${Vs(e.query)}' failed`);return void e.onError(n)}n.queries.set(i,s),s.listeners.push(e),e.eo(n.onlineState),s.Xr&&e.no(s.Xr)&&gh(n)})).apply(this,arguments)}function dh(t,e){return ph.apply(this,arguments)}function ph(){return(ph=(0,L.Z)(function*(t,e){const n=sr(t),i=e.query;let r=!1;const s=n.queries.get(i);if(s){const t=s.listeners.indexOf(e);t>=0&&(s.listeners.splice(t,1),r=0===s.listeners.length)}if(r)return n.queries.delete(i),n.onUnlisten(i)})).apply(this,arguments)}function fh(t,e){const n=sr(t);let i=!1;for(const r of e){const t=n.queries.get(r.query);if(t){for(const e of t.listeners)e.no(r)&&(i=!0);t.Xr=r}}i&&gh(n)}function mh(t,e,n){const i=sr(t),r=i.queries.get(e);if(r)for(const s of r.listeners)s.onError(n);i.queries.delete(e)}function gh(t){t.Zr.forEach(t=>{t.next()})}class _h{constructor(t,e,n){this.query=t,this.so=e,this.io=!1,this.ro=null,this.onlineState="Unknown",this.options=n||{}}no(t){if(!this.options.includeMetadataChanges){const e=[];for(const n of t.docChanges)3!==n.type&&e.push(n);t=new ah(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}let e=!1;return this.io?this.oo(t)&&(this.so.next(t),e=!0):this.ao(t,this.onlineState)&&(this.co(t),e=!0),this.ro=t,e}onError(t){this.so.error(t)}eo(t){this.onlineState=t;let e=!1;return this.ro&&!this.io&&this.ao(this.ro,t)&&(this.co(this.ro),e=!0),e}ao(t,e){return!t.fromCache||!(this.options.uo&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)}oo(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.ro&&this.ro.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}co(t){t=ah.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.io=!0,this.so.next(t)}}class yh{constructor(t,e){this.payload=t,this.byteLength=e}ho(){return"metadata"in this.payload}}class vh{constructor(t){this.N=t}zn(t){return aa(this.N,t)}Hn(t){return t.metadata.exists?pa(this.N,t.document,!1):ss.newNoDocument(this.zn(t.metadata.name),this.Jn(t.metadata.readTime))}Jn(t){return ia(t)}}class bh{constructor(t,e,n){this.lo=t,this.localStore=e,this.N=n,this.queries=[],this.documents=[],this.progress=wh(t)}fo(t){this.progress.bytesLoaded+=t.byteLength;let e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null}wo(t){const e=new Map,n=new vh(this.N);for(const i of t)if(i.metadata.queries){const t=n.zn(i.metadata.name);for(const n of i.metadata.queries){const i=(e.get(n)||Vo()).add(t);e.set(n,i)}}return e}complete(){var t=this;return(0,L.Z)(function*(){const e=yield function(t,e,n,i){return Nc.apply(this,arguments)}(t.localStore,new vh(t.N),t.documents,t.lo.id),n=t.wo(t.documents);for(const i of t.queries)yield Fc(t.localStore,i,n.get(i.name));return t.progress.taskState="Success",new fc(Object.assign({},t.progress),e)})()}}function wh(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}class Ch{constructor(t){this.key=t}}class Eh{constructor(t){this.key=t}}class Sh{constructor(t,e){this.query=t,this._o=e,this.mo=null,this.current=!1,this.yo=Vo(),this.mutatedKeys=Vo(),this.po=js(t),this.Eo=new sh(this.po)}get To(){return this._o}Io(t,e){const n=e?e.Ao:new oh,i=e?e.Eo:this.Eo;let r=e?e.mutatedKeys:this.mutatedKeys,s=i,o=!1;const a=As(this.query)&&i.size===this.query.limit?i.last():null,l=Ds(this.query)&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((t,e)=>{const c=i.get(t),u=Us(this.query,e)?e:null,h=!!c&&this.mutatedKeys.has(c.key),d=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let p=!1;c&&u?c.data.isEqual(u.data)?h!==d&&(n.track({type:3,doc:u}),p=!0):this.Ro(c,u)||(n.track({type:2,doc:u}),p=!0,(a&&this.po(u,a)>0||l&&this.po(u,l)<0)&&(o=!0)):!c&&u?(n.track({type:0,doc:u}),p=!0):c&&!u&&(n.track({type:1,doc:c}),p=!0,(a||l)&&(o=!0)),p&&(u?(s=s.add(u),r=d?r.add(t):r.delete(t)):(s=s.delete(t),r=r.delete(t)))}),As(this.query)||Ds(this.query))for(;s.size>this.query.limit;){const t=As(this.query)?s.last():s.first();s=s.delete(t.key),r=r.delete(t.key),n.track({type:1,doc:t})}return{Eo:s,Ao:n,Ln:o,mutatedKeys:r}}Ro(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,n){const i=this.Eo;this.Eo=t.Eo,this.mutatedKeys=t.mutatedKeys;const r=t.Ao.Yr();r.sort((t,e)=>function(t,e){const n=t=>{switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ir()}};return n(t)-n(e)}(t.type,e.type)||this.po(t.doc,e.doc)),this.bo(n);const s=e?this.Po():[],o=0===this.yo.size&&this.current?1:0,a=o!==this.mo;return this.mo=o,0!==r.length||a?{snapshot:new ah(this.query,t.Eo,i,r,t.mutatedKeys,0===o,a,!1),vo:s}:{vo:s}}eo(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({Eo:this.Eo,Ao:new oh,mutatedKeys:this.mutatedKeys,Ln:!1},!1)):{vo:[]}}Vo(t){return!this._o.has(t)&&!!this.Eo.has(t)&&!this.Eo.get(t).hasLocalMutations}bo(t){t&&(t.addedDocuments.forEach(t=>this._o=this._o.add(t)),t.modifiedDocuments.forEach(t=>{}),t.removedDocuments.forEach(t=>this._o=this._o.delete(t)),this.current=t.current)}Po(){if(!this.current)return[];const t=this.yo;this.yo=Vo(),this.Eo.forEach(t=>{this.Vo(t.key)&&(this.yo=this.yo.add(t.key))});const e=[];return t.forEach(t=>{this.yo.has(t)||e.push(new Eh(t))}),this.yo.forEach(n=>{t.has(n)||e.push(new Ch(n))}),e}So(t){this._o=t.Gn,this.yo=Vo();const e=this.Io(t.documents);return this.applyChanges(e,!0)}Do(){return ah.fromInitialDocuments(this.query,this.Eo,this.mutatedKeys,0===this.mo)}}class xh{constructor(t,e,n){this.query=t,this.targetId=e,this.view=n}}class kh{constructor(t){this.key=t,this.Co=!1}}class Th{constructor(t,e,n,i,r,s){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=i,this.currentUser=r,this.maxConcurrentLimboResolutions=s,this.No={},this.xo=new tc(t=>Bs(t),Ms),this.ko=new Map,this.$o=new Set,this.Oo=new To(qr.comparator),this.Fo=new Map,this.Mo=new Bc,this.Lo={},this.Bo=new Map,this.Uo=jl.ie(),this.onlineState="Unknown",this.qo=void 0}get isPrimaryClient(){return!0===this.qo}}function Ih(t,e){return Ah.apply(this,arguments)}function Ah(){return(Ah=(0,L.Z)(function*(t,e){const n=yd(t);let i,r;const s=n.xo.get(e);if(s)i=s.targetId,n.sharedClientState.addLocalQueryTarget(i),r=s.view.Do();else{const t=yield Tc(n.localStore,Fs(e)),s=n.sharedClientState.addLocalQueryTarget(t.targetId);i=t.targetId,r=yield Dh(n,e,i,"current"===s),n.isPrimaryClient&&Cu(n.remoteStore,t)}return r})).apply(this,arguments)}function Dh(t,e,n,i){return Rh.apply(this,arguments)}function Rh(){return(Rh=(0,L.Z)(function*(t,e,n,i){t.Ko=(e,n,i)=>{return(r=(0,L.Z)(function*(t,e,n,i){let r=e.view.Io(n);r.Ln&&(r=yield Dc(t.localStore,e.query,!1).then(({documents:t})=>e.view.Io(t,r)));const s=i&&i.targetChanges.get(e.targetId),o=e.view.applyChanges(r,t.isPrimaryClient,s);return Wh(t,e.targetId,o.vo),o.snapshot}),function(t,e,n,i){return r.apply(this,arguments)})(t,e,n,i);var r};const r=yield Dc(t.localStore,e,!0),s=new Sh(e,r.Gn),o=s.Io(r.documents),a=zo.createSynthesizedTargetChangeForCurrentChange(n,i&&"Offline"!==t.onlineState),l=s.applyChanges(o,t.isPrimaryClient,a);Wh(t,n,l.vo);const c=new xh(e,n,s);return t.xo.set(e,c),t.ko.has(n)?t.ko.get(n).push(e):t.ko.set(n,[e]),l.snapshot})).apply(this,arguments)}function Oh(t,e){return Ph.apply(this,arguments)}function Ph(){return(Ph=(0,L.Z)(function*(t,e){const n=sr(t),i=n.xo.get(e),r=n.ko.get(i.targetId);if(r.length>1)return n.ko.set(i.targetId,r.filter(t=>!Ms(t,e))),void n.xo.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Ic(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),Eu(n.remoteStore,i.targetId),Zh(n,i.targetId)}).catch($l))):(Zh(n,i.targetId),yield Ic(n.localStore,i.targetId,!0))})).apply(this,arguments)}function Nh(){return(Nh=(0,L.Z)(function*(t,e,n){const i=vd(t);try{const t=yield function(t,e){const n=sr(t),i=wr.now(),r=e.reduce((t,e)=>t.add(e.key),Vo());let s;return n.persistence.runTransaction("Locally write mutations","readwrite",t=>n.Qn.Pn(t,r).next(r=>{s=r;const o=[];for(const t of e){const e=ho(t,s.get(t.key));null!=e&&o.push(new go(t.key,e,rs(e.value.mapValue),oo.exists(!0)))}return n.In.addMutationBatch(t,i,o,e)})).then(t=>(t.applyToLocalDocumentSet(s),{batchId:t.batchId,changes:s}))}(i.localStore,e);i.sharedClientState.addPendingMutation(t.batchId),function(t,e,n){let i=t.Lo[t.currentUser.toKey()];i||(i=new To(yr)),i=i.insert(e,n),t.Lo[t.currentUser.toKey()]=i}(i,t.batchId,n),yield Jh(i,t.changes),yield Vu(i.remoteStore)}catch(t){const e=rh(t,"Failed to persist write");n.reject(e)}})).apply(this,arguments)}function Fh(t,e){return Lh.apply(this,arguments)}function Lh(){return(Lh=(0,L.Z)(function*(t,e){const n=sr(t);try{const t=yield Sc(n.localStore,e);e.targetChanges.forEach((t,e)=>{const i=n.Fo.get(e);i&&(rr(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?i.Co=!0:t.modifiedDocuments.size>0?rr(i.Co):t.removedDocuments.size>0&&(rr(i.Co),i.Co=!1))}),yield Jh(n,t,e)}catch(t){yield $l(t)}})).apply(this,arguments)}function Mh(t,e,n){const i=sr(t);if(i.isPrimaryClient&&0===n||!i.isPrimaryClient&&1===n){const t=[];i.xo.forEach((n,i)=>{const r=i.view.eo(e);r.snapshot&&t.push(r.snapshot)}),function(t,e){const n=sr(t);n.onlineState=e;let i=!1;n.queries.forEach((t,n)=>{for(const r of n.listeners)r.eo(e)&&(i=!0)}),i&&gh(n)}(i.eventManager,e),t.length&&i.No.Tr(t),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function Bh(t,e,n){return Vh.apply(this,arguments)}function Vh(){return(Vh=(0,L.Z)(function*(t,e,n){const i=sr(t);i.sharedClientState.updateQueryState(e,"rejected",n);const r=i.Fo.get(e),s=r&&r.key;if(s){let t=new To(qr.comparator);t=t.insert(s,ss.newNoDocument(s,Cr.min()));const n=Vo().add(s),r=new qo(Cr.min(),new Map,new Do(yr),t,n);yield Fh(i,r),i.Oo=i.Oo.remove(s),i.Fo.delete(e),Qh(i)}else yield Ic(i.localStore,e,!1).then(()=>Zh(i,e,n)).catch($l)})).apply(this,arguments)}function Uh(t,e){return jh.apply(this,arguments)}function jh(){return(jh=(0,L.Z)(function*(t,e){const n=sr(t),i=e.batch.batchId;try{const t=yield Cc(n.localStore,e);$h(n,i,null),Gh(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),yield Jh(n,t)}catch(t){yield $l(t)}})).apply(this,arguments)}function qh(t,e,n){return zh.apply(this,arguments)}function zh(){return(zh=(0,L.Z)(function*(t,e,n){const i=sr(t);try{const t=yield function(t,e){const n=sr(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",t=>{let i;return n.In.lookupMutationBatch(t,e).next(e=>(rr(null!==e),i=e.keys(),n.In.removeMutationBatch(t,e))).next(()=>n.In.performConsistencyCheck(t)).next(()=>n.Qn.Pn(t,i))})}(i.localStore,e);$h(i,e,n),Gh(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),yield Jh(i,t)}catch(n){yield $l(n)}})).apply(this,arguments)}function Hh(){return(Hh=(0,L.Z)(function*(t,e){const n=sr(t);Iu(n.remoteStore)||Xi("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const t=yield function(t){const e=sr(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",t=>e.In.getHighestUnacknowledgedBatchId(t))}(n.localStore);if(-1===t)return void e.resolve();const i=n.Bo.get(t)||[];i.push(e),n.Bo.set(t,i)}catch(t){const n=rh(t,"Initialization of waitForPendingWrites() operation failed");e.reject(n)}})).apply(this,arguments)}function Gh(t,e){(t.Bo.get(e)||[]).forEach(t=>{t.resolve()}),t.Bo.delete(e)}function $h(t,e,n){const i=sr(t);let r=i.Lo[i.currentUser.toKey()];if(r){const t=r.get(e);t&&(n?t.reject(n):t.resolve(),r=r.remove(e)),i.Lo[i.currentUser.toKey()]=r}}function Zh(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.ko.get(e))t.xo.delete(i),n&&t.No.jo(i,n);t.ko.delete(e),t.isPrimaryClient&&t.Mo.cs(e).forEach(e=>{t.Mo.containsKey(e)||Yh(t,e)})}function Yh(t,e){t.$o.delete(e.path.canonicalString());const n=t.Oo.get(e);null!==n&&(Eu(t.remoteStore,n),t.Oo=t.Oo.remove(e),t.Fo.delete(n),Qh(t))}function Wh(t,e,n){for(const i of n)i instanceof Ch?(t.Mo.addReference(i.key,e),Kh(t,i)):i instanceof Eh?(Xi("SyncEngine","Document no longer in limbo: "+i.key),t.Mo.removeReference(i.key,e),t.Mo.containsKey(i.key)||Yh(t,i.key)):ir()}function Kh(t,e){const n=e.key,i=n.path.canonicalString();t.Oo.get(n)||t.$o.has(i)||(Xi("SyncEngine","New document in limbo: "+n),t.$o.add(i),Qh(t))}function Qh(t){for(;t.$o.size>0&&t.Oo.size<t.maxConcurrentLimboResolutions;){const e=t.$o.values().next().value;t.$o.delete(e);const n=new qr(Tr.fromString(e)),i=t.Uo.next();t.Fo.set(i,new kh(n)),t.Oo=t.Oo.insert(n,i),Cu(t.remoteStore,new pl(Fs(Is(n.path)),i,2,mr.T))}}function Jh(t,e,n){return Xh.apply(this,arguments)}function Xh(){return(Xh=(0,L.Z)(function*(t,e,n){const i=sr(t),r=[],s=[],o=[];var a;i.xo.isEmpty()||(i.xo.forEach((t,a)=>{o.push(i.Ko(a,e,n).then(t=>{if(t){i.isPrimaryClient&&i.sharedClientState.updateQueryState(a.targetId,t.fromCache?"not-current":"current"),r.push(t);const e=gc.kn(a.targetId,t);s.push(e)}}))}),yield Promise.all(o),i.No.Tr(r),yield(a=(0,L.Z)(function*(t,e){const n=sr(t);try{yield n.persistence.runTransaction("notifyLocalViewChanges","readwrite",t=>Xa.forEach(e,e=>Xa.forEach(e.Nn,i=>n.persistence.referenceDelegate.addReference(t,e.targetId,i)).next(()=>Xa.forEach(e.xn,i=>n.persistence.referenceDelegate.removeReference(t,e.targetId,i)))))}catch(t){if(!rl(t))throw t;Xi("LocalStore","Failed to update sequence numbers: "+t)}for(const i of e){const t=i.targetId;if(!i.fromCache){const e=n.Un.get(t),i=e.withLastLimboFreeSnapshotVersion(e.snapshotVersion);n.Un=n.Un.insert(t,i)}}}),function(t,e){return a.apply(this,arguments)})(i.localStore,s))})).apply(this,arguments)}function td(t,e){return ed.apply(this,arguments)}function ed(){return(ed=(0,L.Z)(function*(t,e){const n=sr(t);if(!n.currentUser.isEqual(e)){Xi("SyncEngine","User change. New user:",e.toKey());const t=yield bc(n.localStore,e);n.currentUser=e,function(t,e){t.Bo.forEach(t=>{t.forEach(t=>{t.reject(new ar(or.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),t.Bo.clear()}(n),n.sharedClientState.handleUserChange(e,t.removedBatchIds,t.addedBatchIds),yield Jh(n,t.Wn)}})).apply(this,arguments)}function nd(t,e){const n=sr(t),i=n.Fo.get(e);if(i&&i.Co)return Vo().add(i.key);{let t=Vo();const i=n.ko.get(e);if(!i)return t;for(const e of i){const i=n.xo.get(e);t=t.unionWith(i.view.To)}return t}}function id(t,e){return rd.apply(this,arguments)}function rd(){return(rd=(0,L.Z)(function*(t,e){const n=sr(t),i=yield Dc(n.localStore,e.query,!0),r=e.view.So(i);return n.isPrimaryClient&&Wh(n,e.targetId,r.vo),r})).apply(this,arguments)}function sd(t){return od.apply(this,arguments)}function od(){return(od=(0,L.Z)(function*(t){const e=sr(t);return Oc(e.localStore).then(t=>Jh(e,t))})).apply(this,arguments)}function ad(t,e,n,i){return ld.apply(this,arguments)}function ld(){return(ld=(0,L.Z)(function*(t,e,n,i){const r=sr(t),s=yield function(t,e){const n=sr(t),i=sr(n.In);return n.persistence.runTransaction("Lookup mutation documents","readonly",t=>i.Xt(t,e).next(e=>e?n.Qn.Pn(t,e):Xa.resolve(null)))}(r.localStore,e);null!==s?("pending"===n?yield Vu(r.remoteStore):"acknowledged"===n||"rejected"===n?($h(r,e,i||null),Gh(r,e),function(t,e){sr(sr(t).In).te(e)}(r.localStore,e)):ir(),yield Jh(r,s)):Xi("SyncEngine","Cannot apply mutation batch with id: "+e)})).apply(this,arguments)}function cd(){return(cd=(0,L.Z)(function*(t,e){const n=sr(t);if(yd(n),vd(n),!0===e&&!0!==n.qo){const t=n.sharedClientState.getAllActiveQueryTargets(),e=yield ud(n,t.toArray());n.qo=!0,yield Xu(n.remoteStore,!0);for(const i of e)Cu(n.remoteStore,i)}else if(!1===e&&!1!==n.qo){const t=[];let e=Promise.resolve();n.ko.forEach((i,r)=>{n.sharedClientState.isLocalQueryTarget(r)?t.push(r):e=e.then(()=>(Zh(n,r),Ic(n.localStore,r,!0))),Eu(n.remoteStore,r)}),yield e,yield ud(n,t),function(t){const e=sr(t);e.Fo.forEach((t,n)=>{Eu(e.remoteStore,n)}),e.Mo.us(),e.Fo=new Map,e.Oo=new To(qr.comparator)}(n),n.qo=!1,yield Xu(n.remoteStore,!1)}})).apply(this,arguments)}function ud(t,e,n){return hd.apply(this,arguments)}function hd(){return(hd=(0,L.Z)(function*(t,e,n){const i=sr(t),r=[],s=[];for(const o of e){let t;const e=i.ko.get(o);if(e&&0!==e.length){t=yield Tc(i.localStore,Fs(e[0]));for(const t of e){const e=i.xo.get(t),n=yield id(i,e);n.snapshot&&s.push(n.snapshot)}}else{const e=yield Rc(i.localStore,o);t=yield Tc(i.localStore,e),yield Dh(i,dd(e),o,!1)}r.push(t)}return i.No.Tr(s),r})).apply(this,arguments)}function dd(t){return Ts(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function pd(t){const e=sr(t);return sr(sr(e.localStore).persistence).pn()}function fd(t,e,n,i){return md.apply(this,arguments)}function md(){return(md=(0,L.Z)(function*(t,e,n,i){const r=sr(t);if(r.qo)Xi("SyncEngine","Ignoring unexpected query state notification.");else if(r.ko.has(e))switch(n){case"current":case"not-current":{const t=yield Oc(r.localStore),i=qo.createSynthesizedRemoteEventForCurrentChange(e,"current"===n);yield Jh(r,t,i);break}case"rejected":yield Ic(r.localStore,e,!0),Zh(r,e,i);break;default:ir()}})).apply(this,arguments)}function gd(t,e,n){return _d.apply(this,arguments)}function _d(){return(_d=(0,L.Z)(function*(t,e,n){const i=yd(t);if(i.qo){for(const t of e){if(i.ko.has(t)){Xi("SyncEngine","Adding an already active target "+t);continue}const e=yield Rc(i.localStore,t),n=yield Tc(i.localStore,e);yield Dh(i,dd(e),n.targetId,!1),Cu(i.remoteStore,n)}for(const t of n)i.ko.has(t)&&(yield Ic(i.localStore,t,!1).then(()=>{Eu(i.remoteStore,t),Zh(i,t)}).catch($l))}})).apply(this,arguments)}function yd(t){const e=sr(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Fh.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=nd.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Bh.bind(null,e),e.No.Tr=fh.bind(null,e.eventManager),e.No.jo=mh.bind(null,e.eventManager),e}function vd(t){const e=sr(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Uh.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=qh.bind(null,e),e}class bd{constructor(){this.synchronizeTabs=!1}initialize(t){var e=this;return(0,L.Z)(function*(){e.N=uu(t.databaseInfo.databaseId),e.sharedClientState=e.Wo(t),e.persistence=e.Go(t),yield e.persistence.start(),e.gcScheduler=e.zo(t),e.localStore=e.Ho(t)})()}zo(t){return null}Ho(t){return vc(this.persistence,new _c,t.initialUser,this.N)}Go(t){return new Hc($c.Ns,this.N)}Wo(t){return new nu}terminate(){var t=this;return(0,L.Z)(function*(){t.gcScheduler&&t.gcScheduler.stop(),yield t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class wd extends bd{constructor(t,e,n){super(),this.Jo=t,this.cacheSizeBytes=e,this.forceOwnership=n,this.synchronizeTabs=!1}initialize(t){var e=()=>super.initialize,n=this;return(0,L.Z)(function*(){yield e().call(n,t),yield function(t){return Pc.apply(this,arguments)}(n.localStore),yield n.Jo.initialize(n,t),yield vd(n.Jo.syncEngine),yield Vu(n.Jo.remoteStore),yield n.persistence.nn(()=>(n.gcScheduler&&!n.gcScheduler.started&&n.gcScheduler.start(n.localStore),Promise.resolve()))})()}Ho(t){return vc(this.persistence,new _c,t.initialUser,this.N)}zo(t){return new Kl(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue)}Go(t){const e=pc(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Pl.withCacheSize(this.cacheSizeBytes):Pl.DEFAULT;return new uc(this.synchronizeTabs,e,t.clientId,n,t.asyncQueue,lu(),cu(),this.N,this.sharedClientState,!!this.forceOwnership)}Wo(t){return new nu}}class Cd extends wd{constructor(t,e){super(t,e,!1),this.Jo=t,this.cacheSizeBytes=e,this.synchronizeTabs=!0}initialize(t){var e=()=>super.initialize,n=this;return(0,L.Z)(function*(){yield e().call(n,t);const i=n.Jo.syncEngine;n.sharedClientState instanceof eu&&(n.sharedClientState.syncEngine={_i:ad.bind(null,i),mi:fd.bind(null,i),gi:gd.bind(null,i),pn:pd.bind(null,i),wi:sd.bind(null,i)},yield n.sharedClientState.start()),yield n.persistence.nn(function(){var t=(0,L.Z)(function*(t){yield function(t,e){return cd.apply(this,arguments)}(n.Jo.syncEngine,t),n.gcScheduler&&(t&&!n.gcScheduler.started?n.gcScheduler.start(n.localStore):t||n.gcScheduler.stop())});return function(e){return t.apply(this,arguments)}}())})()}Wo(t){const e=lu();if(!eu.bt(e))throw new ar(or.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const n=pc(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new eu(e,t.asyncQueue,n,t.clientId,t.initialUser)}}class Ed{initialize(t,e){var n=this;return(0,L.Z)(function*(){n.localStore||(n.localStore=t.localStore,n.sharedClientState=t.sharedClientState,n.datastore=n.createDatastore(e),n.remoteStore=n.createRemoteStore(e),n.eventManager=n.createEventManager(e),n.syncEngine=n.createSyncEngine(e,!t.synchronizeTabs),n.sharedClientState.onlineStateHandler=t=>Mh(n.syncEngine,t,1),n.remoteStore.remoteSyncer.handleCredentialChange=td.bind(null,n.syncEngine),yield Xu(n.remoteStore,n.syncEngine.isPrimaryClient))})()}createEventManager(t){return new ch}createDatastore(t){const e=uu(t.databaseInfo.databaseId),n=new au(t.databaseInfo);return function(t,e,n){return new mu(t,e,n)}(t.credentials,n,e)}createRemoteStore(t){return e=this.localStore,n=this.datastore,i=t.asyncQueue,r=t=>Mh(this.syncEngine,t,0),s=ru.bt()?new ru:new iu,new _u(e,n,i,r,s);var e,n,i,r,s}createSyncEngine(t,e){return function(t,e,n,i,r,s,o){const a=new Th(t,e,n,i,r,s);return o&&(a.qo=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return(t=(0,L.Z)(function*(t){const e=sr(t);Xi("RemoteStore","RemoteStore shutting down."),e.Kr.add(5),yield bu(e),e.Qr.shutdown(),e.Wr.set("Unknown")}),function(e){return t.apply(this,arguments)})(this.remoteStore);var t}}function Sd(t,e=10240){let n=0;return{read:()=>(0,L.Z)(function*(){if(n<t.byteLength){const i={value:t.slice(n,n+e),done:!1};return n+=e,i}return{done:!0}})(),cancel:()=>(0,L.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class xd{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Yo(this.observer.next,t)}error(t){this.observer.error?this.Yo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)}Xo(){this.muted=!0}Yo(t,e){this.muted||setTimeout(()=>{this.muted||t(e)},0)}}class kd{constructor(t,e){this.Zo=t,this.N=e,this.metadata=new lr,this.buffer=new Uint8Array,this.ta=new TextDecoder("utf-8"),this.ea().then(t=>{t&&t.ho()?this.metadata.resolve(t.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==t?void 0:t.payload)}`))},t=>this.metadata.reject(t))}close(){return this.Zo.cancel()}getMetadata(){var t=this;return(0,L.Z)(function*(){return t.metadata.promise})()}Qo(){var t=this;return(0,L.Z)(function*(){return yield t.getMetadata(),t.ea()})()}ea(){var t=this;return(0,L.Z)(function*(){const e=yield t.na();if(null===e)return null;const n=t.ta.decode(e),i=Number(n);isNaN(i)&&t.sa(`length string (${n}) is not valid number`);const r=yield t.ia(i);return new yh(JSON.parse(r),e.length+i)})()}ra(){return this.buffer.findIndex(t=>t==="{".charCodeAt(0))}na(){var t=this;return(0,L.Z)(function*(){for(;t.ra()<0&&!(yield t.oa()););if(0===t.buffer.length)return null;const e=t.ra();e<0&&t.sa("Reached the end of bundle when a length string is expected.");const n=t.buffer.slice(0,e);return t.buffer=t.buffer.slice(e),n})()}ia(t){var e=this;return(0,L.Z)(function*(){for(;e.buffer.length<t;)(yield e.oa())&&e.sa("Reached the end of bundle when more is expected.");const n=e.ta.decode(e.buffer.slice(0,t));return e.buffer=e.buffer.slice(t),n})()}sa(t){throw this.Zo.cancel(),new Error(`Invalid bundle format: ${t}`)}oa(){var t=this;return(0,L.Z)(function*(){const e=yield t.Zo.read();if(!e.done){const n=new Uint8Array(t.buffer.length+e.value.length);n.set(t.buffer),n.set(e.value,t.buffer.length),t.buffer=n}return e.done})()}}class Td{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(t){var e=this;return(0,L.Z)(function*(){if(e.ensureCommitNotCalled(),e.mutations.length>0)throw new ar(or.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const n=yield(i=(0,L.Z)(function*(t,e){const n=sr(t),i=ua(n.N)+"/documents",r={documents:e.map(t=>oa(n.N,t))},s=yield n.Ki("BatchGetDocuments",i,r),o=new Map;s.forEach(t=>{const e=function(t,e){return"found"in e?function(t,e){rr(!!e.found);const n=aa(t,e.found.name),i=ia(e.found.updateTime),r=new is({mapValue:{fields:e.found.fields}});return ss.newFoundDocument(n,i,r)}(t,e):"missing"in e?function(t,e){rr(!!e.missing),rr(!!e.readTime);const n=aa(t,e.missing),i=ia(e.readTime);return ss.newNoDocument(n,i)}(t,e):ir()}(n.N,t);o.set(e.key.toString(),e)});const a=[];return e.forEach(t=>{const e=o.get(t.toString());rr(!!e),a.push(e)}),a}),function(t,e){return i.apply(this,arguments)})(e.datastore,t);var i;return n.forEach(t=>e.recordVersion(t)),n})()}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(t){this.lastWriteError=t}this.writtenDocs.add(t.toString())}delete(t){this.write(new bo(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,L.Z)(function*(){if(t.ensureCommitNotCalled(),t.lastWriteError)throw t.lastWriteError;const e=t.readVersions;var n;t.mutations.forEach(t=>{e.delete(t.key.toString())}),e.forEach((e,n)=>{const i=qr.fromPath(n);t.mutations.push(new wo(i,t.precondition(i)))}),yield(n=(0,L.Z)(function*(t,e){const n=sr(t),i=ua(n.N)+"/documents",r={writes:e.map(t=>fa(n.N,t))};yield n.Li("Commit",i,r)}),function(t,e){return n.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw ir();e=Cr.min()}const n=this.readVersions.get(t.key.toString());if(n){if(!e.isEqual(n))throw new ar(or.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?oo.updateTime(e):oo.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(Cr.min()))throw new ar(or.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return oo.updateTime(e)}return oo.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class Id{constructor(t,e,n,i){this.asyncQueue=t,this.datastore=e,this.updateFunction=n,this.deferred=i,this.aa=5,this.rr=new hu(this.asyncQueue,"transaction_retry")}run(){this.aa-=1,this.ca()}ca(){var t=this;this.rr.Xi((0,L.Z)(function*(){const e=new Td(t.datastore),n=t.ua(e);n&&n.then(n=>{t.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{t.deferred.resolve(n)}).catch(e=>{t.ha(e)}))}).catch(e=>{t.ha(e)})}))}ua(t){try{const e=this.updateFunction(t);return!Vr(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}ha(t){this.aa>0&&this.la(t)?(this.aa-=1,this.asyncQueue.enqueueAndForget(()=>(this.ca(),Promise.resolve()))):this.deferred.reject(t)}la(t){if("FirebaseError"===t.name){const e=t.code;return"aborted"===e||"failed-precondition"===e||!xo(e)}return!1}}class Ad{constructor(t,e,n){var i=this;this.credentials=t,this.asyncQueue=e,this.databaseInfo=n,this.user=Wi.UNAUTHENTICATED,this.clientId=_r.I(),this.credentialListener=()=>Promise.resolve(),this.credentials.start(e,function(){var t=(0,L.Z)(function*(t){Xi("FirestoreClient","Received user=",t.uid),yield i.credentialListener(t),i.user=t});return function(e){return t.apply(this,arguments)}}())}getConfiguration(){var t=this;return(0,L.Z)(function*(){return{asyncQueue:t.asyncQueue,databaseInfo:t.databaseInfo,clientId:t.clientId,credentials:t.credentials,initialUser:t.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(t){this.credentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ar(or.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const e=new lr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,L.Z)(function*(){try{t.onlineComponents&&(yield t.onlineComponents.terminate()),t.offlineComponents&&(yield t.offlineComponents.terminate()),t.credentials.shutdown(),e.resolve()}catch(n){const t=rh(n,"Failed to shutdown persistence");e.reject(t)}})),e.promise}}function Dd(t,e){return Rd.apply(this,arguments)}function Rd(){return(Rd=(0,L.Z)(function*(t,e){t.asyncQueue.verifyOperationInProgress(),Xi("FirestoreClient","Initializing OfflineComponentProvider");const n=yield t.getConfiguration();yield e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(function(){var t=(0,L.Z)(function*(t){i.isEqual(t)||(yield bc(e.localStore,t),i=t)});return function(e){return t.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t.offlineComponents=e})).apply(this,arguments)}function Od(t,e){return Pd.apply(this,arguments)}function Pd(){return(Pd=(0,L.Z)(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield Nd(t);Xi("FirestoreClient","Initializing OnlineComponentProvider");const i=yield t.getConfiguration();yield e.initialize(n,i),t.setCredentialChangeListener(t=>{return(n=(0,L.Z)(function*(t,e){const n=sr(t);n.asyncQueue.verifyOperationInProgress(),Xi("RemoteStore","RemoteStore received new credentials");const i=Iu(n);n.Kr.add(3),yield bu(n),i&&n.Wr.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.Kr.delete(3),yield yu(n)}),function(t,e){return n.apply(this,arguments)})(e.remoteStore,t);var n}),t.onlineComponents=e})).apply(this,arguments)}function Nd(t){return Fd.apply(this,arguments)}function Fd(){return(Fd=(0,L.Z)(function*(t){return t.offlineComponents||(Xi("FirestoreClient","Using default OfflineComponentProvider"),yield Dd(t,new bd)),t.offlineComponents})).apply(this,arguments)}function Ld(t){return Md.apply(this,arguments)}function Md(){return(Md=(0,L.Z)(function*(t){return t.onlineComponents||(Xi("FirestoreClient","Using default OnlineComponentProvider"),yield Od(t,new Ed)),t.onlineComponents})).apply(this,arguments)}function Bd(t){return Nd(t).then(t=>t.persistence)}function Vd(t){return Nd(t).then(t=>t.localStore)}function Ud(t){return Ld(t).then(t=>t.remoteStore)}function jd(t){return Ld(t).then(t=>t.syncEngine)}function qd(t){return zd.apply(this,arguments)}function zd(){return(zd=(0,L.Z)(function*(t){const e=yield Ld(t),n=e.eventManager;return n.onListen=Ih.bind(null,e.syncEngine),n.onUnlisten=Oh.bind(null,e.syncEngine),n})).apply(this,arguments)}function Hd(t,e,n={}){const i=new lr;return t.asyncQueue.enqueueAndForget((0,L.Z)(function*(){return function(t,e,n,i,r){const s=new xd({next:s=>{e.enqueueAndForget(()=>dh(t,o));const a=s.docs.has(n);!a&&s.fromCache?r.reject(new ar(or.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&s.fromCache&&i&&"server"===i.source?r.reject(new ar(or.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):r.resolve(s)},error:t=>r.reject(t)}),o=new _h(Is(n.path),s,{includeMetadataChanges:!0,uo:!0});return uh(t,o)}(yield qd(t),t.asyncQueue,e,n,i)})),i.promise}function Gd(t,e,n={}){const i=new lr;return t.asyncQueue.enqueueAndForget((0,L.Z)(function*(){return function(t,e,n,i,r){const s=new xd({next:n=>{e.enqueueAndForget(()=>dh(t,o)),n.fromCache&&"server"===i.source?r.reject(new ar(or.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):r.resolve(n)},error:t=>r.reject(t)}),o=new _h(n,s,{includeMetadataChanges:!0,uo:!0});return uh(t,o)}(yield qd(t),t.asyncQueue,e,n,i)})),i.promise}class $d{constructor(t,e,n,i,r,s,o,a){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=i,this.ssl=r,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.useFetchStreams=a}}class Zd{constructor(t,e){this.projectId=t,this.database=e||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof Zd&&t.projectId===this.projectId&&t.database===this.database}}const Yd=new Map;function Wd(t,e,n){if(!n)throw new ar(or.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Kd(t,e,n,i){if(!0===e&&!0===i)throw new ar(or.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Qd(t){if(!qr.isDocumentKey(t))throw new ar(or.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Jd(t){if(qr.isDocumentKey(t))throw new ar(or.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Xd(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=function(t){if(t.constructor){const e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?`a custom ${e} object`:"an object"}}return"function"==typeof t?"a function":ir()}function tp(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ar(or.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Xd(t);throw new ar(or.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function ep(t,e){if(e<=0)throw new ar(or.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}class np{constructor(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new ar(or.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new ar(or.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,Kd("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class ip{constructor(t,e){this._credentials=e,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new np({}),this._settingsFrozen=!1,t instanceof Zd?this._databaseId=t:(this._app=t,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new ar(or.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Zd(t.options.projectId)}(t))}get app(){if(!this._app)throw new ar(or.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new ar(or.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new np(t),void 0!==t.credentials&&(this._credentials=function(t){if(!t)return new ur;switch(t.type){case"gapi":const e=t.client;return rr(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new fr(e,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new ar(or.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=Yd.get(t);e&&(Xi("ComponentProvider","Removing Datastore"),Yd.delete(t),e.terminate())}(this),Promise.resolve()}}class rp{constructor(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new op(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new rp(this.firestore,t,this._key)}}class sp{constructor(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}withConverter(t){return new sp(this.firestore,t,this._query)}}class op extends sp{constructor(t,e,n){super(t,e,Is(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new rp(this.firestore,null,new qr(t))}withConverter(t){return new op(this.firestore,t,this._path)}}function ap(t,e,...n){if(t=(0,U.m9)(t),Wd("collection","path",e),t instanceof ip){const i=Tr.fromString(e,...n);return Jd(i),new op(t,null,i)}{if(!(t instanceof rp||t instanceof op))throw new ar(or.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Tr.fromString(e,...n));return Jd(i),new op(t.firestore,null,i)}}function lp(t,e,...n){if(t=(0,U.m9)(t),1===arguments.length&&(e=_r.I()),Wd("doc","path",e),t instanceof ip){const i=Tr.fromString(e,...n);return Qd(i),new rp(t,null,new qr(i))}{if(!(t instanceof rp||t instanceof op))throw new ar(or.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Tr.fromString(e,...n));return Qd(i),new rp(t.firestore,t instanceof op?t.converter:null,new qr(i))}}function cp(t,e){return t=(0,U.m9)(t),e=(0,U.m9)(e),(t instanceof rp||t instanceof op)&&(e instanceof rp||e instanceof op)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function up(t,e){return t=(0,U.m9)(t),e=(0,U.m9)(e),t instanceof sp&&e instanceof sp&&t.firestore===e.firestore&&Ms(t._query,e._query)&&t.converter===e.converter}class hp{constructor(){this.fa=Promise.resolve(),this.da=[],this.wa=!1,this._a=[],this.ma=null,this.ga=!1,this.ya=!1,this.pa=[],this.rr=new hu(this,"async_queue_retry"),this.Ea=()=>{const t=cu();t&&Xi("AsyncQueue","Visibility state changed to "+t.visibilityState),this.rr.tr()};const t=cu();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Ea)}get isShuttingDown(){return this.wa}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Ta(),this.Ia(t)}enterRestrictedMode(t){if(!this.wa){this.wa=!0,this.ya=t||!1;const e=cu();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Ea)}}enqueue(t){if(this.Ta(),this.wa)return new Promise(()=>{});const e=new lr;return this.Ia(()=>this.wa&&this.ya?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.da.push(t),this.Aa()))}Aa(){var t=this;return(0,L.Z)(function*(){if(0!==t.da.length){try{yield t.da[0](),t.da.shift(),t.rr.reset()}catch(e){if(!rl(e))throw e;Xi("AsyncQueue","Operation failed with retryable error: "+e)}t.da.length>0&&t.rr.Xi(()=>t.Aa())}})()}Ia(t){const e=this.fa.then(()=>(this.ga=!0,t().catch(t=>{throw this.ma=t,this.ga=!1,tr("INTERNAL UNHANDLED ERROR: ",function(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t}).then(t=>(this.ga=!1,t))));return this.fa=e,e}enqueueAfterDelay(t,e,n){this.Ta(),this.pa.indexOf(t)>-1&&(e=0);const i=ih.createAndSchedule(this,t,e,n,t=>this.Ra(t));return this._a.push(i),i}Ta(){this.ma&&ir()}verifyOperationInProgress(){}ba(){var t=this;return(0,L.Z)(function*(){let e;do{e=t.fa,yield e}while(e!==t.fa)})()}Pa(t){for(const e of this._a)if(e.timerId===t)return!0;return!1}va(t){return this.ba().then(()=>{this._a.sort((t,e)=>t.targetTimeMs-e.targetTimeMs);for(const e of this._a)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.ba()})}Va(t){this.pa.push(t)}Ra(t){const e=this._a.indexOf(t);this._a.splice(e,1)}}function dp(t){return function(t,e){if("object"!=typeof t||null===t)return!1;const n=t;for(const i of["next","error","complete"])if(i in n&&"function"==typeof n[i])return!0;return!1}(t)}class pp{constructor(){this._progressObserver={},this._taskCompletionResolver=new lr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,e,n){this._progressObserver={next:t,error:e,complete:n}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,e){return this._taskCompletionResolver.promise.then(t,e)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}class fp extends ip{constructor(t,e){super(t,e),this.type="firestore",this._queue=new hp,this._persistenceKey="name"in t?t.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||gp(this),this._firestoreClient.terminate()}}function mp(t){return t._firestoreClient||gp(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function gp(t){var e;const n=t._freezeSettings(),i=function(t,e,n,i){return new $d(t,e,n,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling,i.useFetchStreams)}(t._databaseId,(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new Ad(t._credentials,t._queue,i)}function _p(t,e,n){const i=new lr;return t.asyncQueue.enqueue((0,L.Z)(function*(){try{yield Dd(t,n),yield Od(t,e),i.resolve()}catch(t){if(!function(t){return"FirebaseError"===t.name?t.code===or.FAILED_PRECONDITION||t.code===or.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(t))throw t;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+t),i.reject(t)}})).then(()=>i.promise)}function yp(t){if(t._initialized||t._terminated)throw new ar(or.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class vp{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new ar(or.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ar(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class bp{constructor(t){this._byteString=t}static fromBase64String(t){try{return new bp(Rr.fromBase64String(t))}catch(t){throw new ar(or.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(t){return new bp(Rr.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class wp{constructor(t){this._methodName=t}}class Cp{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new ar(or.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new ar(or.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return yr(this._lat,t._lat)||yr(this._long,t._long)}}const Ep=/^__.*__$/;class Sp{constructor(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}toMutation(t,e){return null!==this.fieldMask?new go(t,this.data,this.fieldMask,e,this.fieldTransforms):new mo(t,this.data,e,this.fieldTransforms)}}class xp{constructor(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}toMutation(t,e){return new go(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function kp(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ir()}}class Tp{constructor(t,e,n,i,r,s){this.settings=t,this.databaseId=e,this.N=n,this.ignoreUndefinedProperties=i,void 0===r&&this.Sa(),this.fieldTransforms=r||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Da(){return this.settings.Da}Ca(t){return new Tp(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.N,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Na(t){var e;const n=null===(e=this.path)||void 0===e?void 0:e.child(t),i=this.Ca({path:n,xa:!1});return i.ka(t),i}$a(t){var e;const n=null===(e=this.path)||void 0===e?void 0:e.child(t),i=this.Ca({path:n,xa:!1});return i.Sa(),i}Oa(t){return this.Ca({path:void 0,xa:!0})}Fa(t){return Zp(t,this.settings.methodName,this.settings.Ma||!1,this.path,this.settings.La)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}Sa(){if(this.path)for(let t=0;t<this.path.length;t++)this.ka(this.path.get(t))}ka(t){if(0===t.length)throw this.Fa("Document fields must not be empty");if(kp(this.Da)&&Ep.test(t))throw this.Fa('Document fields cannot begin and end with "__"')}}class Ip{constructor(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.N=n||uu(t)}Ba(t,e,n,i=!1){return new Tp({Da:t,methodName:e,La:n,path:Ar.emptyPath(),xa:!1,Ma:i},this.databaseId,this.N,this.ignoreUndefinedProperties)}}function Ap(t){const e=t._freezeSettings(),n=uu(t._databaseId);return new Ip(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Dp(t,e,n,i,r,s={}){const o=t.Ba(s.merge||s.mergeFields?2:0,e,n,r);zp("Data must be an object, but it was:",o,i);const a=jp(i,o);let l,c;if(s.merge)l=new Dr(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const t=[];for(const i of s.mergeFields){const r=Hp(e,i,n);if(!o.contains(r))throw new ar(or.INVALID_ARGUMENT,`Field '${r}' is specified in your field mask but missing from your input data.`);Yp(t,r)||t.push(r)}l=new Dr(t),c=o.fieldTransforms.filter(t=>l.covers(t.field))}else l=null,c=o.fieldTransforms;return new Sp(new is(a),l,c)}class Rp extends wp{_toFieldTransform(t){if(2!==t.Da)throw t.Fa(1===t.Da?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Rp}}function Op(t,e,n){return new Tp({Da:3,La:e.settings.La,methodName:t._methodName,xa:n},e.databaseId,e.N,e.ignoreUndefinedProperties)}class Pp extends wp{_toFieldTransform(t){return new ro(t.path,new Ks)}isEqual(t){return t instanceof Pp}}class Np extends wp{constructor(t,e){super(t),this.Ua=e}_toFieldTransform(t){const e=Op(this,t,!0),n=this.Ua.map(t=>Up(t,e)),i=new Qs(n);return new ro(t.path,i)}isEqual(t){return this===t}}class Fp extends wp{constructor(t,e){super(t),this.Ua=e}_toFieldTransform(t){const e=Op(this,t,!0),n=this.Ua.map(t=>Up(t,e)),i=new Xs(n);return new ro(t.path,i)}isEqual(t){return this===t}}class Lp extends wp{constructor(t,e){super(t),this.qa=e}_toFieldTransform(t){const e=new eo(t.N,Gs(t.N,this.qa));return new ro(t.path,e)}isEqual(t){return this===t}}function Mp(t,e,n,i){const r=t.Ba(1,e,n);zp("Data must be an object, but it was:",r,i);const s=[],o=is.empty();Sr(i,(t,i)=>{const a=$p(e,t,n);i=(0,U.m9)(i);const l=r.$a(a);if(i instanceof Rp)s.push(a);else{const t=Up(i,l);null!=t&&(s.push(a),o.set(a,t))}});const a=new Dr(s);return new xp(o,a,r.fieldTransforms)}function Bp(t,e,n,i,r,s){const o=t.Ba(1,e,n),a=[Hp(e,i,n)],l=[r];if(s.length%2!=0)throw new ar(or.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<s.length;d+=2)a.push(Hp(e,s[d])),l.push(s[d+1]);const c=[],u=is.empty();for(let d=a.length-1;d>=0;--d)if(!Yp(c,a[d])){const t=a[d];let e=l[d];e=(0,U.m9)(e);const n=o.$a(t);if(e instanceof Rp)c.push(t);else{const i=Up(e,n);null!=i&&(c.push(t),u.set(t,i))}}const h=new Dr(c);return new xp(u,h,o.fieldTransforms)}function Vp(t,e,n,i=!1){return Up(n,t.Ba(i?4:3,e))}function Up(t,e){if(qp(t=(0,U.m9)(t)))return zp("Unsupported field value:",e,t),jp(t,e);if(t instanceof wp)return function(t,e){if(!kp(e.Da))throw e.Fa(`${t._methodName}() can only be used with update() and set()`);if(!e.path)throw e.Fa(`${t._methodName}() is not currently supported inside arrays`);const n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xa&&4!==e.Da)throw e.Fa("Nested arrays are not supported");return function(t,e){const n=[];let i=0;for(const r of t){let t=Up(r,e.Oa(i));null==t&&(t={nullValue:"NULL_VALUE"}),n.push(t),i++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===(t=(0,U.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Gs(e.N,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const n=wr.fromDate(t);return{timestampValue:ta(e.N,n)}}if(t instanceof wr){const n=new wr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:ta(e.N,n)}}if(t instanceof Cp)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof bp)return{bytesValue:ea(e.N,t._byteString)};if(t instanceof rp){const n=e.databaseId,i=t.firestore._databaseId;if(!i.isEqual(n))throw e.Fa(`Document reference is for database ${i.projectId}/${i.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:ra(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.Fa(`Unsupported field value: ${Xd(t)}`)}(t,e)}function jp(t,e){const n={};return xr(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Sr(t,(t,i)=>{const r=Up(i,e.Na(t));null!=r&&(n[t]=r)}),{mapValue:{fields:n}}}function qp(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof wr||t instanceof Cp||t instanceof bp||t instanceof rp||t instanceof wp)}function zp(t,e,n){if(!qp(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){const i=Xd(n);throw e.Fa("an object"===i?t+" a custom object":t+" "+i)}}function Hp(t,e,n){if((e=(0,U.m9)(e))instanceof vp)return e._internalPath;if("string"==typeof e)return $p(t,e);throw Zp("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}const Gp=new RegExp("[~\\*/\\[\\]]");function $p(t,e,n){if(e.search(Gp)>=0)throw Zp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new vp(...e.split("."))._internalPath}catch(i){throw Zp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Zp(t,e,n,i,r){const s=i&&!i.isEmpty(),o=void 0!==r;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${i}`),o&&(l+=` in document ${r}`),l+=")"),new ar(or.INVALID_ARGUMENT,a+t+l)}function Yp(t,e){return t.some(t=>t.isEqual(e))}class Wp{constructor(t,e,n,i,r){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=i,this._converter=r}get id(){return this._key.path.lastSegment()}get ref(){return new rp(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new Kp(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(Qp("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class Kp extends Wp{data(){return super.data()}}function Qp(t,e){return"string"==typeof e?$p(t,e):e instanceof vp?e._internalPath:e._delegate._internalPath}class Jp{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Xp extends Wp{constructor(t,e,n,i,r,s){super(t,e,n,i,s),this._firestore=t,this._firestoreImpl=t,this.metadata=r}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new tf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const n=this._document.data.field(Qp("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}}}class tf extends Xp{data(t={}){return super.data(t)}}class ef{constructor(t,e,n,i){this._firestore=t,this._userDataWriter=e,this._snapshot=i,this.metadata=new Jp(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(n=>{t.call(e,new tf(this._firestore,this._userDataWriter,n.key,n,new Jp(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new ar(or.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){let e=0;return t._snapshot.docChanges.map(n=>({type:"added",doc:new tf(t._firestore,t._userDataWriter,n.doc.key,n.doc,new Jp(t._snapshot.mutatedKeys.has(n.doc.key),t._snapshot.fromCache),t.query.converter),oldIndex:-1,newIndex:e++}))}{let n=t._snapshot.oldDocs;return t._snapshot.docChanges.filter(t=>e||3!==t.type).map(e=>{const i=new tf(t._firestore,t._userDataWriter,e.doc.key,e.doc,new Jp(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter);let r=-1,s=-1;return 0!==e.type&&(r=n.indexOf(e.doc.key),n=n.delete(e.doc.key)),1!==e.type&&(n=n.add(e.doc),s=n.indexOf(e.doc.key)),{type:nf(e.type),doc:i,oldIndex:r,newIndex:s}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function nf(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ir()}}function rf(t,e){return t instanceof Xp&&e instanceof Xp?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof ef&&e instanceof ef&&t._firestore===e._firestore&&up(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}function sf(t){if(Ds(t)&&0===t.explicitOrderBy.length)throw new ar(or.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class of{}function af(t,...e){for(const n of e)t=n._apply(t);return t}class lf extends of{constructor(t,e,n){super(),this.Ka=t,this.ja=e,this.Qa=n,this.type="where"}_apply(t){const e=Ap(t.firestore),n=function(t,e,n,i,r,s,o){let a;if(r.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new ar(or.INVALID_ARGUMENT,`Invalid Query. You can't perform '${s}' queries on FieldPath.documentId().`);if("in"===s||"not-in"===s){mf(o,s);const e=[];for(const n of o)e.push(ff(i,t,n));a={arrayValue:{values:e}}}else a=ff(i,t,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||mf(o,s),a=Vp(n,"where",o,"in"===s||"not-in"===s);const l=hs.create(r,s,a);return function(t,e){if(e.v()){const n=Os(t);if(null!==n&&!n.isEqual(e.field))throw new ar(or.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${n.toString()}' and '${e.field.toString()}'`);const i=Rs(t);null!==i&&gf(0,e.field,i)}const n=function(t,e){for(const n of t.filters)if(e.indexOf(n.op)>=0)return n.op;return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw new ar(or.INVALID_ARGUMENT,n===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}(t,l),l}(t._query,0,e,t.firestore._databaseId,this.Ka,this.ja,this.Qa);return new sp(t.firestore,t.converter,function(t,e){const n=t.filters.concat([e]);return new ks(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t._query,n))}}class cf extends of{constructor(t,e){super(),this.Ka=t,this.Wa=e,this.type="orderBy"}_apply(t){const e=function(t,e,n){if(null!==t.startAt)throw new ar(or.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new ar(or.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const i=new Cs(e,n);return function(t,e){if(null===Rs(t)){const n=Os(t);null!==n&&gf(0,n,e.field)}}(t,i),i}(t._query,this.Ka,this.Wa);return new sp(t.firestore,t.converter,function(t,e){const n=t.explicitOrderBy.concat([e]);return new ks(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t._query,e))}}class uf extends of{constructor(t,e,n){super(),this.type=t,this.Ga=e,this.za=n}_apply(t){return new sp(t.firestore,t.converter,Ls(t._query,this.Ga,this.za))}}class hf extends of{constructor(t,e,n){super(),this.type=t,this.Ha=e,this.Ja=n}_apply(t){const e=pf(t,this.type,this.Ha,this.Ja);return new sp(t.firestore,t.converter,function(t,e){return new ks(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t._query,e))}}class df extends of{constructor(t,e,n){super(),this.type=t,this.Ha=e,this.Ja=n}_apply(t){const e=pf(t,this.type,this.Ha,this.Ja);return new sp(t.firestore,t.converter,function(t,e){return new ks(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t._query,e))}}function pf(t,e,n,i){if(n[0]=(0,U.m9)(n[0]),n[0]instanceof Wp)return function(t,e,n,i,r){if(!i)throw new ar(or.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${n}().`);const s=[];for(const o of Ns(t))if(o.field.isKeyField())s.push(Kr(e,i.key));else{const t=i.data.field(o.field);if(Lr(t))throw new ar(or.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+o.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===t){const t=o.field.canonicalString();throw new ar(or.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${t}' (used as the orderBy) does not exist.`)}s.push(t)}return new bs(s,r)}(t._query,t.firestore._databaseId,e,n[0]._document,i);{const r=Ap(t.firestore);return function(t,e,n,i,r,s){const o=t.explicitOrderBy;if(r.length>o.length)throw new ar(or.INVALID_ARGUMENT,`Too many arguments provided to ${i}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const a=[];for(let l=0;l<r.length;l++){const s=r[l];if(o[l].field.isKeyField()){if("string"!=typeof s)throw new ar(or.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${i}(), but got a ${typeof s}`);if(!Ps(t)&&-1!==s.indexOf("/"))throw new ar(or.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to ${i}() must be a plain document ID, but '${s}' contains a slash.`);const n=t.path.child(Tr.fromString(s));if(!qr.isDocumentKey(n))throw new ar(or.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to ${i}() must result in a valid document path, but '${n}' is not because it contains an odd number of segments.`);const r=new qr(n);a.push(Kr(e,r))}else{const t=Vp(n,i,s);a.push(t)}}return new bs(a,s)}(t._query,t.firestore._databaseId,r,e,n,i)}}function ff(t,e,n){if("string"==typeof(n=(0,U.m9)(n))){if(""===n)throw new ar(or.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ps(e)&&-1!==n.indexOf("/"))throw new ar(or.INVALID_ARGUMENT,`Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(Tr.fromString(n));if(!qr.isDocumentKey(i))throw new ar(or.INVALID_ARGUMENT,`Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Kr(t,new qr(i))}if(n instanceof rp)return Kr(t,n._key);throw new ar(or.INVALID_ARGUMENT,`Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: ${Xd(n)}.`)}function mf(t,e){if(!Array.isArray(t)||0===t.length)throw new ar(or.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(t.length>10)throw new ar(or.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function gf(t,e,n){if(!n.isEqual(e))throw new ar(or.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class _f{convertValue(t,e="none"){switch(zr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Nr(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Fr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw ir()}}convertObject(t,e){const n={};return Sr(t.fields,(t,i)=>{n[t]=this.convertValue(i,e)}),n}convertGeoPoint(t){return new Cp(Nr(t.latitude),Nr(t.longitude))}convertArray(t,e){return(t.values||[]).map(t=>this.convertValue(t,e))}convertServerTimestamp(t,e){switch(e){case"previous":const n=Mr(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(Br(t));default:return null}}convertTimestamp(t){const e=Pr(t);return new wr(e.seconds,e.nanos)}convertDocumentKey(t,e){const n=Tr.fromString(t);rr(Aa(n));const i=new Zd(n.get(1),n.get(3)),r=new qr(n.popFirst(5));return i.isEqual(e)||tr(`Document ${r} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),r}}function yf(t,e,n){let i;return i=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,i}class vf extends _f{constructor(t){super(),this.firestore=t}convertBytes(t){return new bp(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new rp(this.firestore,null,e)}}class bf{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=Ap(t)}set(t,e,n){this._verifyNotCommitted();const i=wf(t,this._firestore),r=yf(i.converter,e,n),s=Dp(this._dataReader,"WriteBatch.set",i._key,r,null!==i.converter,n);return this._mutations.push(s.toMutation(i._key,oo.none())),this}update(t,e,n,...i){this._verifyNotCommitted();const r=wf(t,this._firestore);let s;return s="string"==typeof(e=(0,U.m9)(e))||e instanceof vp?Bp(this._dataReader,"WriteBatch.update",r._key,e,n,i):Mp(this._dataReader,"WriteBatch.update",r._key,e),this._mutations.push(s.toMutation(r._key,oo.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=wf(t,this._firestore);return this._mutations=this._mutations.concat(new bo(e._key,oo.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ar(or.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function wf(t,e){if((t=(0,U.m9)(t)).firestore!==e)throw new ar(or.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}class Cf extends _f{constructor(t){super(),this.firestore=t}convertBytes(t){return new bp(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new rp(this.firestore,null,e)}}function Ef(t,e,n){t=tp(t,rp);const i=tp(t.firestore,fp),r=yf(t.converter,e,n);return kf(i,[Dp(Ap(i),"setDoc",t._key,r,null!==t.converter,n).toMutation(t._key,oo.none())])}function Sf(t,e,n,...i){t=tp(t,rp);const r=tp(t.firestore,fp),s=Ap(r);let o;return o="string"==typeof(e=(0,U.m9)(e))||e instanceof vp?Bp(s,"updateDoc",t._key,e,n,i):Mp(s,"updateDoc",t._key,e),kf(r,[o.toMutation(t._key,oo.exists(!0))])}function xf(t,...e){var n,i,r;t=(0,U.m9)(t);let s={includeMetadataChanges:!1},o=0;"object"!=typeof e[o]||dp(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(dp(e[o])){const t=e[o];e[o]=null===(n=t.next)||void 0===n?void 0:n.bind(t),e[o+1]=null===(i=t.error)||void 0===i?void 0:i.bind(t),e[o+2]=null===(r=t.complete)||void 0===r?void 0:r.bind(t)}let l,c,u;if(t instanceof rp)c=tp(t.firestore,fp),u=Is(t._key.path),l={next:n=>{e[o]&&e[o](Tf(c,t,n))},error:e[o+1],complete:e[o+2]};else{const n=tp(t,sp);c=tp(n.firestore,fp),u=n._query;const i=new Cf(c);l={next:t=>{e[o]&&e[o](new ef(c,i,n,t))},error:e[o+1],complete:e[o+2]},sf(t._query)}return function(t,e,n,i){const r=new xd(i),s=new _h(e,r,n);return t.asyncQueue.enqueueAndForget((0,L.Z)(function*(){return uh(yield qd(t),s)})),()=>{r.Xo(),t.asyncQueue.enqueueAndForget((0,L.Z)(function*(){return dh(yield qd(t),s)}))}}(mp(c),u,a,l)}function kf(t,e){return function(t,e){const n=new lr;return t.asyncQueue.enqueueAndForget((0,L.Z)(function*(){return function(t,e,n){return Nh.apply(this,arguments)}(yield jd(t),e,n)})),n.promise}(mp(t),e)}function Tf(t,e,n){const i=n.docs.get(e._key),r=new Cf(t);return new Xp(t,r,e._key,i,new Jp(n.hasPendingWrites,n.fromCache),e.converter)}class If extends class{constructor(t,e){this._firestore=t,this._transaction=e,this._dataReader=Ap(t)}get(t){const e=wf(t,this._firestore),n=new vf(this._firestore);return this._transaction.lookup([e._key]).then(t=>{if(!t||1!==t.length)return ir();const i=t[0];if(i.isFoundDocument())return new Wp(this._firestore,n,i.key,i,e.converter);if(i.isNoDocument())return new Wp(this._firestore,n,e._key,null,e.converter);throw ir()})}set(t,e,n){const i=wf(t,this._firestore),r=yf(i.converter,e,n),s=Dp(this._dataReader,"Transaction.set",i._key,r,null!==i.converter,n);return this._transaction.set(i._key,s),this}update(t,e,n,...i){const r=wf(t,this._firestore);let s;return s="string"==typeof(e=(0,U.m9)(e))||e instanceof vp?Bp(this._dataReader,"Transaction.update",r._key,e,n,i):Mp(this._dataReader,"Transaction.update",r._key,e),this._transaction.update(r._key,s),this}delete(t){const e=wf(t,this._firestore);return this._transaction.delete(e._key),this}}{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=wf(t,this._firestore),n=new Cf(this._firestore);return super.get(t).then(t=>new Xp(this._firestore,n,e._key,t._document,new Jp(!1,!1),e.converter))}}function Af(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new ar("invalid-argument",`Invalid options passed to function ${t}(): You cannot specify both "merge" and "mergeFields".`);return e}function Df(){if("undefined"==typeof Uint8Array)throw new ar("unimplemented","Uint8Arrays are not available in this environment.")}function Rf(){if("undefined"==typeof atob)throw new ar("unimplemented","Blobs are unavailable in Firestore in this environment.")}Ki=M.SDK_VERSION,(0,M._registerComponent)(new B.wA("firestore",(t,{options:e})=>{const n=t.getProvider("app").getImmediate(),i=new fp(n,new dr(t.getProvider("auth-internal")));return e=Object.assign({useFetchStreams:!0},e),i._setSettings(e),i},"PUBLIC")),(0,M.registerVersion)("@firebase/firestore","3.0.2",void 0);class Of{constructor(t){this._delegate=t}static fromBase64String(t){return Rf(),new Of(bp.fromBase64String(t))}static fromUint8Array(t){return Df(),new Of(bp.fromUint8Array(t))}toBase64(){return Rf(),this._delegate.toBase64()}toUint8Array(){return Df(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Pf(t){return function(t,e){if("object"!=typeof t||null===t)return!1;const n=t;for(const i of["next","error","complete"])if(i in n&&"function"==typeof n[i])return!0;return!1}(t)}class Nf{enableIndexedDbPersistence(t,e){return function(t,e){yp(t=tp(t,fp));const n=mp(t),i=t._freezeSettings(),r=new Ed;return _p(n,r,new wd(r,i.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._delegate,{forceOwnership:e})}enableMultiTabIndexedDbPersistence(t){return function(t){yp(t=tp(t,fp));const e=mp(t),n=t._freezeSettings(),i=new Ed;return _p(e,i,new Cd(i,n.cacheSizeBytes))}(t._delegate)}clearIndexedDbPersistence(t){return function(t){if(t._initialized&&!t._terminated)throw new ar(or.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new lr;return t._queue.enqueueAndForgetEvenWhileRestricted((0,L.Z)(function*(){try{yield(n=(0,L.Z)(function*(t){if(!el.bt())return Promise.resolve();const e=t+"main";yield el.delete(e)}),function(t){return n.apply(this,arguments)})(pc(t._databaseId,t._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var n})),e.promise}(t._delegate)}}class Ff{constructor(t,e,n){this._delegate=e,this._persistenceProvider=n,this.INTERNAL={delete:()=>this.terminate()},t instanceof Zd||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const e=this._delegate._getSettings();t.merge||e.host===t.host||er("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)}useEmulator(t,e,n={}){!function(t,e,n,i={}){var r;const s=(t=tp(t,ip))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==e&&er("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},s),{host:`${e}:${n}`,ssl:!1})),i.mockUserToken){let e,n;if("string"==typeof i.mockUserToken)e=i.mockUserToken,n=Wi.MOCK_USER;else{e=(0,U.Sg)(i.mockUserToken,null===(r=t._app)||void 0===r?void 0:r.options.projectId);const s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new ar(or.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Wi(s)}t._credentials=new hr(new cr(e,n))}}(this._delegate,t,e,n)}enableNetwork(){return function(t){return t.asyncQueue.enqueue((0,L.Z)(function*(){const e=yield Bd(t),n=yield Ud(t);return e.setNetworkEnabled(!0),function(t){const e=sr(t);return e.Kr.delete(0),yu(e)}(n)}))}(mp(tp(this._delegate,fp)))}disableNetwork(){return function(t){return t.asyncQueue.enqueue((0,L.Z)(function*(){const e=yield Bd(t),n=yield Ud(t);return e.setNetworkEnabled(!1),(i=(0,L.Z)(function*(t){const e=sr(t);e.Kr.add(0),yield bu(e),e.Wr.set("Offline")}),function(t){return i.apply(this,arguments)})(n);var i}))}(mp(tp(this._delegate,fp)))}enablePersistence(t){let e=!1,n=!1;return t&&(e=!!t.synchronizeTabs,n=!!t.experimentalForceOwningTab,Kd("synchronizeTabs",e,"experimentalForceOwningTab",n)),e?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function(t){const e=new lr;return t.asyncQueue.enqueueAndForget((0,L.Z)(function*(){return function(t,e){return Hh.apply(this,arguments)}(yield jd(t),e)})),e.promise}(mp(tp(this._delegate,fp)))}onSnapshotsInSync(t){return e=t,function(t,e){const n=new xd(e);return t.asyncQueue.enqueueAndForget((0,L.Z)(function*(){return function(t,e){sr(t).Zr.add(e),e.next()}(yield qd(t),n)})),()=>{n.Xo(),t.asyncQueue.enqueueAndForget((0,L.Z)(function*(){return function(t,e){sr(t).Zr.delete(e)}(yield qd(t),n)}))}}(mp(tp(this._delegate,fp)),dp(e)?e:{next:e});var e}get app(){if(!this._appCompat)throw new ar("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new Wf(this,ap(this._delegate,t))}catch(e){throw jf(e,"collection()","Firestore.collection()")}}doc(t){try{return new Uf(this,lp(this._delegate,t))}catch(e){throw jf(e,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new $f(this,function(t,e){if(t=tp(t,ip),Wd("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new ar(or.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new sp(t,null,function(t){return new ks(Tr.emptyPath(),t)}(e))}(this._delegate,t))}catch(e){throw jf(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return n=e=>t(new Mf(this,e)),function(t,e){const n=new lr;return t.asyncQueue.enqueueAndForget((0,L.Z)(function*(){const i=yield function(t){return Ld(t).then(t=>t.datastore)}(t);new Id(t.asyncQueue,i,e,n).run()})),n.promise}(mp(e=this._delegate),t=>n(new If(e,t)));var e,n}batch(){return mp(this._delegate),new Bf(new bf(this._delegate,t=>kf(this._delegate,t)))}loadBundle(t){return function(t,e){const n=mp(t=tp(t,fp)),i=new pp;return function(t,e,n,i){const r=function(t,e){let n;return n="string"==typeof t?(new TextEncoder).encode(t):t,function(t,e){return new kd(t,e)}(function(t,e){if(t instanceof Uint8Array)return Sd(t,e);if(t instanceof ArrayBuffer)return Sd(new Uint8Array(t),e);if(t instanceof ReadableStream)return t.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(n),e)}(n,uu(e));t.asyncQueue.enqueueAndForget((0,L.Z)(function*(){!function(t,e,n){const i=sr(t);var r;(r=(0,L.Z)(function*(t,e,n){try{const i=yield e.getMetadata();if(yield function(t,e){const n=sr(t),i=ia(e.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",t=>n.Je.getBundleMetadata(t,e.id)).then(t=>!!t&&t.createTime.compareTo(i)>=0)}(t.localStore,i))return yield e.close(),void n._completeWith(function(t){return{taskState:"Success",documentsLoaded:t.totalDocuments,bytesLoaded:t.totalBytes,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(i));n._updateProgress(wh(i));const r=new bh(i,t.localStore,e.N);let s=yield e.Qo();for(;s;){const t=yield r.fo(s);t&&n._updateProgress(t),s=yield e.Qo()}const o=yield r.complete();yield Jh(t,o.Tn,void 0),yield function(t,e){const n=sr(t);return n.persistence.runTransaction("Save bundle","readwrite",t=>n.Je.saveBundleMetadata(t,e))}(t.localStore,i),n._completeWith(o.progress)}catch(t){er("SyncEngine",`Loading bundle failed with ${t}`),n._failWith(t)}}),function(t,e,n){return r.apply(this,arguments)})(i,e,n).then(()=>{i.sharedClientState.notifyBundleLoaded()})}(yield jd(t),r,i)}))}(n,t._databaseId,e,i),i}(this._delegate,t)}namedQuery(t){return(e=this._delegate,n=t,function(t,e){return t.asyncQueue.enqueue((0,L.Z)(function*(){return function(t,e){const n=sr(t);return n.persistence.runTransaction("Get named query","readonly",t=>n.Je.getNamedQuery(t,e))}(yield Vd(t),e)}))}(mp(e=tp(e,fp)),n).then(t=>t?new sp(e,null,t.query):null)).then(t=>t?new $f(this,t):null);var e,n}}class Lf extends _f{constructor(t){super(),this.firestore=t}convertBytes(t){return new Of(new bp(t))}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return Uf.forKey(e,this.firestore,null)}}class Mf{constructor(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new Lf(t)}get(t){const e=Kf(t);return this._delegate.get(e).then(t=>new Hf(this._firestore,new Xp(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,e.converter)))}set(t,e,n){const i=Kf(t);return n?(Af("Transaction.set",n),this._delegate.set(i,e,n)):this._delegate.set(i,e),this}update(t,e,n,...i){const r=Kf(t);return 2===arguments.length?this._delegate.update(r,e):this._delegate.update(r,e,n,...i),this}delete(t){const e=Kf(t);return this._delegate.delete(e),this}}class Bf{constructor(t){this._delegate=t}set(t,e,n){const i=Kf(t);return n?(Af("WriteBatch.set",n),this._delegate.set(i,e,n)):this._delegate.set(i,e),this}update(t,e,n,...i){const r=Kf(t);return 2===arguments.length?this._delegate.update(r,e):this._delegate.update(r,e,n,...i),this}delete(t){const e=Kf(t);return this._delegate.delete(e),this}commit(){return this._delegate.commit()}}let Vf=(()=>{class t{constructor(t,e,n){this._firestore=t,this._userDataWriter=e,this._delegate=n}fromFirestore(t,e){const n=new tf(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new Gf(this._firestore,n),null!=e?e:{})}toFirestore(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)}static getInstance(e,n){const i=t.INSTANCES;let r=i.get(e);r||(r=new WeakMap,i.set(e,r));let s=r.get(n);return s||(s=new t(e,new Lf(e),n),r.set(n,s)),s}}return t.INSTANCES=new WeakMap,t})();class Uf{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new Lf(t)}static forPath(t,e,n){if(t.length%2!=0)throw new ar("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new Uf(e,new rp(e._delegate,n,new qr(t)))}static forKey(t,e,n){return new Uf(e,new rp(e._delegate,n,t))}get id(){return this._delegate.id}get parent(){return new Wf(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new Wf(this.firestore,ap(this._delegate,t))}catch(e){throw jf(e,"collection()","DocumentReference.collection()")}}isEqual(t){return(t=(0,U.m9)(t))instanceof rp&&cp(this._delegate,t)}set(t,e){e=Af("DocumentReference.set",e);try{return e?Ef(this._delegate,t,e):Ef(this._delegate,t)}catch(n){throw jf(n,"setDoc()","DocumentReference.set()")}}update(t,e,...n){try{return 1===arguments.length?Sf(this._delegate,t):Sf(this._delegate,t,e,...n)}catch(i){throw jf(i,"updateDoc()","DocumentReference.update()")}}delete(){return kf(tp((t=this._delegate).firestore,fp),[new bo(t._key,oo.none())]);var t}onSnapshot(...t){const e=qf(t),n=zf(t,t=>new Hf(this.firestore,new Xp(this.firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,this._delegate.converter)));return xf(this._delegate,e,n)}get(t){let e;return e="cache"===(null==t?void 0:t.source)?function(t){t=tp(t,rp);const e=tp(t.firestore,fp),n=mp(e),i=new Cf(e);return function(t,e){const n=new lr;return t.asyncQueue.enqueueAndForget((0,L.Z)(function*(){return(i=(0,L.Z)(function*(t,e,n){try{const i=yield function(t,e){const n=sr(t);return n.persistence.runTransaction("read document","readonly",t=>n.Qn.An(t,e))}(t,e);i.isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new ar(or.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(t){const i=rh(t,`Failed to get document '${e} from cache`);n.reject(i)}}),function(t,e,n){return i.apply(this,arguments)})(yield Vd(t),e,n);var i})),n.promise}(n,t._key).then(n=>new Xp(e,i,t._key,n,new Jp(null!==n&&n.hasLocalMutations,!0),t.converter))}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=tp(t,rp);const e=tp(t.firestore,fp);return Hd(mp(e),t._key,{source:"server"}).then(n=>Tf(e,t,n))}(this._delegate):function(t){t=tp(t,rp);const e=tp(t.firestore,fp);return Hd(mp(e),t._key).then(n=>Tf(e,t,n))}(this._delegate),e.then(t=>new Hf(this.firestore,new Xp(this.firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,this._delegate.converter)))}withConverter(t){return new Uf(this.firestore,this._delegate.withConverter(t?Vf.getInstance(this.firestore,t):null))}}function jf(t,e,n){return t.message=t.message.replace(e,n),t}function qf(t){for(const e of t)if("object"==typeof e&&!Pf(e))return e;return{}}function zf(t,e){var n,i;let r;return r=Pf(t[0])?t[0]:Pf(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]},{next:t=>{r.next&&r.next(e(t))},error:null===(n=r.error)||void 0===n?void 0:n.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class Hf{constructor(t,e){this._firestore=t,this._delegate=e}get ref(){return new Uf(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,e){return this._delegate.get(t,e)}isEqual(t){return rf(this._delegate,t._delegate)}}class Gf extends Hf{data(t){const e=this._delegate.data(t);return void 0!==e||ir(),e}}class $f{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new Lf(t)}where(t,e,n){try{return new $f(this.firestore,af(this._delegate,function(t,e,n){const i=e,r=Qp("where",t);return new lf(r,i,n)}(t,e,n)))}catch(i){throw jf(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,e){try{return new $f(this.firestore,af(this._delegate,function(t,e="asc"){const n=e,i=Qp("orderBy",t);return new cf(i,n)}(t,e)))}catch(n){throw jf(n,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new $f(this.firestore,af(this._delegate,(ep("limit",e=t),new uf("limit",e,"F"))))}catch(n){throw jf(n,"limit()","Query.limit()")}var e}limitToLast(t){try{return new $f(this.firestore,af(this._delegate,(ep("limitToLast",e=t),new uf("limitToLast",e,"L"))))}catch(n){throw jf(n,"limitToLast()","Query.limitToLast()")}var e}startAt(...t){try{return new $f(this.firestore,af(this._delegate,function(...t){return new hf("startAt",t,!0)}(...t)))}catch(e){throw jf(e,"startAt()","Query.startAt()")}}startAfter(...t){try{return new $f(this.firestore,af(this._delegate,function(...t){return new hf("startAfter",t,!1)}(...t)))}catch(e){throw jf(e,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new $f(this.firestore,af(this._delegate,function(...t){return new df("endBefore",t,!0)}(...t)))}catch(e){throw jf(e,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new $f(this.firestore,af(this._delegate,function(...t){return new df("endAt",t,!1)}(...t)))}catch(e){throw jf(e,"endAt()","Query.endAt()")}}isEqual(t){return up(this._delegate,t._delegate)}get(t){let e;return e="cache"===(null==t?void 0:t.source)?function(t){t=tp(t,sp);const e=tp(t.firestore,fp),n=mp(e),i=new Cf(e);return function(t,e){const n=new lr;return t.asyncQueue.enqueueAndForget((0,L.Z)(function*(){return(i=(0,L.Z)(function*(t,e,n){try{const i=yield Dc(t,e,!0),r=new Sh(e,i.Gn),s=r.Io(i.documents),o=r.applyChanges(s,!1);n.resolve(o.snapshot)}catch(t){const i=rh(t,`Failed to execute query '${e} against cache`);n.reject(i)}}),function(t,e,n){return i.apply(this,arguments)})(yield Vd(t),e,n);var i})),n.promise}(n,t._query).then(n=>new ef(e,i,t,n))}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=tp(t,sp);const e=tp(t.firestore,fp),n=mp(e),i=new Cf(e);return Gd(n,t._query,{source:"server"}).then(n=>new ef(e,i,t,n))}(this._delegate):function(t){t=tp(t,sp);const e=tp(t.firestore,fp),n=mp(e),i=new Cf(e);return sf(t._query),Gd(n,t._query).then(n=>new ef(e,i,t,n))}(this._delegate),e.then(t=>new Yf(this.firestore,new ef(this.firestore._delegate,this._userDataWriter,this._delegate,t._snapshot)))}onSnapshot(...t){const e=qf(t),n=zf(t,t=>new Yf(this.firestore,new ef(this.firestore._delegate,this._userDataWriter,this._delegate,t._snapshot)));return xf(this._delegate,e,n)}withConverter(t){return new $f(this.firestore,this._delegate.withConverter(t?Vf.getInstance(this.firestore,t):null))}}class Zf{constructor(t,e){this._firestore=t,this._delegate=e}get type(){return this._delegate.type}get doc(){return new Gf(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Yf{constructor(t,e){this._firestore=t,this._delegate=e}get query(){return new $f(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new Gf(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(t=>new Zf(this._firestore,t))}forEach(t,e){this._delegate.forEach(n=>{t.call(e,new Gf(this._firestore,n))})}isEqual(t){return rf(this._delegate,t._delegate)}}class Wf extends $f{constructor(t,e){super(t,e),this.firestore=t,this._delegate=e}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new Uf(this.firestore,t):null}doc(t){try{return new Uf(this.firestore,void 0===t?lp(this._delegate):lp(this._delegate,t))}catch(e){throw jf(e,"doc()","CollectionReference.doc()")}}add(t){return function(t,e){const n=tp(t.firestore,fp),i=lp(t),r=yf(t.converter,e);return kf(n,[Dp(Ap(t.firestore),"addDoc",i._key,r,null!==t.converter,{}).toMutation(i._key,oo.exists(!1))]).then(()=>i)}(this._delegate,t).then(t=>new Uf(this.firestore,t))}isEqual(t){return cp(this._delegate,t._delegate)}withConverter(t){return new Wf(this.firestore,this._delegate.withConverter(t?Vf.getInstance(this.firestore,t):null))}}function Kf(t){return tp(t,rp)}class Qf{constructor(...t){this._delegate=new vp(...t)}static documentId(){return new Qf(Ar.keyField().canonicalString())}isEqual(t){return(t=(0,U.m9)(t))instanceof vp&&this._delegate._internalPath.isEqual(t._internalPath)}}class Jf{constructor(t){this._delegate=t}static serverTimestamp(){const t=new Pp("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new Jf(t)}static delete(){const t=new Rp("deleteField");return t._methodName="FieldValue.delete",new Jf(t)}static arrayUnion(...t){const e=function(...t){return new Np("arrayUnion",t)}(...t);return e._methodName="FieldValue.arrayUnion",new Jf(e)}static arrayRemove(...t){const e=function(...t){return new Fp("arrayRemove",t)}(...t);return e._methodName="FieldValue.arrayRemove",new Jf(e)}static increment(t){const e=new Lp("increment",t);return e._methodName="FieldValue.increment",new Jf(e)}isEqual(t){return this._delegate.isEqual(t._delegate)}}const Xf={Firestore:Ff,GeoPoint:Cp,Timestamp:wr,Blob:Of,Transaction:Mf,WriteBatch:Bf,DocumentReference:Uf,DocumentSnapshot:Hf,Query:$f,QueryDocumentSnapshot:Gf,QuerySnapshot:Yf,CollectionReference:Wf,FieldPath:Qf,FieldValue:Jf,setLogLevel:function(t){Qi.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};var tm,em;em=(t,e)=>new Ff(t,e,new Nf),(tm=F.Z).INTERNAL.registerComponent(new B.wA("firestore-compat",t=>{const e=t.getProvider("app-compat").getImmediate(),n=t.getProvider("firestore").getImmediate();return em(e,n)},"PUBLIC").setServiceProps(Object.assign({},Xf))),tm.registerVersion("@firebase/firestore-compat","0.1.2");var nm=n(3250),im=n(9001);function rm(t,e){return function(t,e=x.z){return new k.y(n=>{let i;return null!=e?e.schedule(()=>{i=t.onSnapshot({includeMetadataChanges:!0},n)}):i=t.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=i&&i()}})}(t,e)}function sm(t,e){return rm(t,e).pipe((0,g.U)(t=>({payload:t,type:"query"})))}function om(t,e){return sm(t,e).pipe((0,D.O)(void 0),(0,R.G)(),(0,g.U)(([t,e])=>{const n=e.payload.docChanges(),i=n.map(t=>({type:t.type,payload:t}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(e.payload.metadata)&&e.payload.docs.forEach((e,r)=>{const s=n.find(t=>t.doc.ref.isEqual(e.ref)),o=null==t?void 0:t.payload.docs.find(t=>t.ref.isEqual(e.ref));s&&JSON.stringify(s.doc.metadata)===JSON.stringify(e.metadata)||!s&&o&&JSON.stringify(o.metadata)===JSON.stringify(e.metadata)||i.push({type:"modified",payload:{oldIndex:r,newIndex:r,type:"modified",doc:e}})}),i}))}function am(t,e,n){return om(t,n).pipe((0,O.R)((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return lm(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return lm(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return lm(t,e.oldIndex,1)}return t}(t,e))}),t}(t,n.map(t=>t.payload),e),[]),(0,P.x)(),(0,g.U)(t=>t.map(t=>({type:t.type,payload:t}))))}function lm(t,e,n,...i){const r=t.slice();return r.splice(e,n,...i),r}function cm(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}class um{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){let e=om(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe((0,g.U)(e=>e.filter(e=>t.indexOf(e.type)>-1)))),e.pipe((0,D.O)(void 0),(0,R.G)(),(0,N.h)(([t,e])=>e.length>0||!t),(0,g.U)(([t,e])=>e),A.iC)}auditTrail(t){return this.stateChanges(t).pipe((0,O.R)((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=cm(t);return am(this.query,e,this.afs.schedulers.outsideAngular).pipe(A.iC)}valueChanges(t={}){return sm(this.query,this.afs.schedulers.outsideAngular).pipe((0,g.U)(e=>e.payload.docs.map(e=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data())),A.iC)}get(t){return(0,T.D)(this.query.get(t)).pipe(A.iC)}add(t){return this.ref.add(t)}doc(t){return new hm(this.ref.doc(t),this.afs)}}class hm{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:i,query:r}=_m(n,e);return new um(i,r,this.afs)}snapshotChanges(){return rm(this.ref,this.afs.schedulers.outsideAngular).pipe((0,D.O)(void 0),(0,R.G)(),(0,g.U)(([t,e])=>e.exists?(null==t?void 0:t.exists)?{payload:e,type:"modified"}:{payload:e,type:"added"}:{payload:e,type:"removed"})).pipe(A.iC)}valueChanges(t={}){return this.snapshotChanges().pipe((0,g.U)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return(0,T.D)(this.ref.get(t)).pipe(A.iC)}}class dm{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?om(this.query,this.afs.schedulers.outsideAngular).pipe((0,g.U)(e=>e.filter(e=>t.indexOf(e.type)>-1)),(0,N.h)(t=>t.length>0),A.iC):om(this.query,this.afs.schedulers.outsideAngular).pipe(A.iC)}auditTrail(t){return this.stateChanges(t).pipe((0,O.R)((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=cm(t);return am(this.query,e,this.afs.schedulers.outsideAngular).pipe(A.iC)}valueChanges(t={}){return sm(this.query,this.afs.schedulers.outsideAngular).pipe((0,g.U)(e=>e.payload.docs.map(e=>t.idField?Object.assign({[t.idField]:e.id},e.data()):e.data())),A.iC)}get(t){return(0,T.D)(this.query.get(t)).pipe(A.iC)}}const pm=new r.OlP("angularfire2.enableFirestorePersistence"),fm=new r.OlP("angularfire2.firestore.persistenceSettings"),mm=new r.OlP("angularfire2.firestore.settings"),gm=new r.OlP("angularfire2.firestore.use-emulator");function _m(t,e=(t=>t)){return{query:e(t),ref:t}}let ym=(()=>{class t{constructor(t,e,n,i,r,s,o,a,l,c,u,d,p,f,m,g){this.schedulers=o;const _=(0,h.on)(t,s,e),y=l;c&&(0,nm.nw)(_,s,u,p,f,m,d,g),[this.firestore,this.persistenceEnabled$]=(0,A.cc)(`${_.name}.firestore`,"AngularFirestore",_.name,()=>{const t=s.runOutsideAngular(()=>_.firestore());if(i&&t.settings(i),y&&t.useEmulator(...y),n&&!(0,S.PM)(r)){const e=()=>{try{return(0,T.D)(t.enablePersistence(a||void 0).then(()=>!0,()=>!1))}catch(e){return"undefined"!=typeof console&&console.warn(e),(0,I.of)(!1)}};return[t,s.runOutsideAngular(e)]}return[t,(0,I.of)(!1)]},[i,y,n])}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:i,query:r}=_m(n,e),s=this.schedulers.ngZone.run(()=>i);return new um(s,r,this)}collectionGroup(t,e){const n=e||(t=>t),i=this.firestore.collectionGroup(t);return new dm(n(i),this)}doc(t){let e;e="string"==typeof t?this.firestore.doc(t):t;const n=this.schedulers.ngZone.run(()=>e);return new hm(n,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(h.Dh),r.LFG(h.xv,8),r.LFG(pm,8),r.LFG(mm,8),r.LFG(r.Lbi),r.LFG(r.R0b),r.LFG(A.HU),r.LFG(fm,8),r.LFG(gm,8),r.LFG(nm.zQ,8),r.LFG(nm.Qv,8),r.LFG(nm.L6,8),r.LFG(nm._Q,8),r.LFG(nm.rT,8),r.LFG(nm.lh,8),r.LFG(nm.f7,8))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac,providedIn:"any"}),t})(),vm=(()=>{class t{constructor(){im.Z.registerVersion("angularfire",A.q4.full,"fst-compat")}static enablePersistence(e){return{ngModule:t,providers:[{provide:pm,useValue:!0},{provide:fm,useValue:e}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({providers:[ym]}),t})();var bm=n(9582),wm=n(9971),Cm=n(4689),Em=n(5096);const Sm=new r.OlP("angularfire2.functions.origin"),xm=new r.OlP("angularfire2.functions.region"),km=new r.OlP("angularfire2.functions.use-emulator");let Tm=(()=>{class t{constructor(t,e,i,r,s,o,a){const l=a,c=(0,I.of)(void 0).pipe((0,wm.QV)(r.outsideAngular),(0,Cm.w)(()=>n.e(917).then(n.bind(n,6917))),(0,g.U)(()=>(0,h.on)(t,i,e)),(0,g.U)(t=>(0,A.cc)(`${t.name}.functions.${s||o}`,"AngularFireFunctions",t.name,()=>{let e;if(s&&o)throw new Error("REGION and ORIGIN can't be used at the same time.");return e=t.functions(s||o||void 0),l&&e.useEmulator(...l),e},[s,o,l])),(0,Em.d)({bufferSize:1,refCount:!1}));return this.httpsCallable=(t,e)=>n=>(0,T.D)(c).pipe((0,wm.QV)(r.insideAngular),(0,Cm.w)(i=>i.httpsCallable(t,e)(n)),(0,g.U)(t=>t.data)),(0,h.pX)(this,c,i)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(h.Dh),r.LFG(h.xv,8),r.LFG(r.R0b),r.LFG(A.HU),r.LFG(xm,8),r.LFG(Sm,8),r.LFG(km,8))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac,providedIn:"any"}),t})();(0,h.GT)(Tm,[{useEmulator:null,useFunctionsEmulator:null,httpsCallable:null}]);let Im=(()=>{class t{constructor(){im.Z.registerVersion("angularfire",A.q4.full,"fn-compat")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({providers:[Tm]}),t})();var Am=n(4762),Dm=n(653),Rm=n(7930),Om=n(3482),Pm=n(3853),Nm=n(7727),Fm=n(3982),Lm=n(7768),Mm=n(2393);const Bm=new r.OlP("angularfire2.messaging.vapid-key"),Vm=new r.OlP("angularfire2.messaging.service-worker-registeration");let Um=(()=>{class t{constructor(t,e,i,r,s,o,a){const l=a,c=(0,I.of)(void 0).pipe((0,Om.R)(s.outsideAngular),(0,wm.QV)(s.insideAngular),(0,Cm.w)(Mm.Gb),(0,Cm.w)(t=>t?n.e(301).then(n.bind(n,301)):Dm.E),(0,g.U)(()=>(0,h.on)(t,r,e)),(0,Cm.w)(t=>(0,A.cc)(`${t.name}.messaging`,"AngularFireMessaging",t.name,()=>(0,Am.mG)(this,void 0,void 0,function*(){return t.messaging()}),[])),(0,Em.d)({bufferSize:1,refCount:!1}));this.requestPermission=c.pipe((0,Om.R)(s.outsideAngular),(0,wm.QV)(s.insideAngular),(0,Cm.w)(()=>Notification.requestPermission())),this.getToken=c.pipe((0,Om.R)(s.outsideAngular),(0,wm.QV)(s.insideAngular),(0,Cm.w)(t=>(0,Am.mG)(this,void 0,void 0,function*(){if("granted"===Notification.permission){const e=l?yield l:null;return yield t.getToken({vapidKey:o,serviceWorkerRegistration:e})}return null})));const u=new k.y(t=>{navigator.permissions.query({name:"notifications"}).then(e=>{e.onchange=()=>t.next()})}),d=c.pipe((0,Om.R)(s.outsideAngular),(0,wm.QV)(s.insideAngular),(0,Pm.c)(u),(0,Pm.c)(this.getToken));return this.tokenChanges=c.pipe((0,Om.R)(s.outsideAngular),(0,wm.QV)(s.insideAngular),(0,Cm.w)(()=>(0,Rm.z)(this.getToken,d))),this.messages=c.pipe((0,Om.R)(s.outsideAngular),(0,wm.QV)(s.insideAngular),(0,Cm.w)(t=>new k.y(e=>t.onMessage(e)))),this.requestToken=c.pipe((0,Om.R)(s.outsideAngular),(0,wm.QV)(s.insideAngular),(0,Cm.w)(()=>this.requestPermission),(0,Nm.K)(()=>(0,I.of)(null)),(0,Fm.zg)(()=>this.tokenChanges)),this.deleteToken=()=>c.pipe((0,Om.R)(s.outsideAngular),(0,wm.QV)(s.insideAngular),(0,Cm.w)(t=>t.deleteToken()),(0,Lm.d)(!1)),(0,h.pX)(this,c,r)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(h.Dh),r.LFG(h.xv,8),r.LFG(r.Lbi),r.LFG(r.R0b),r.LFG(A.HU),r.LFG(Bm,8),r.LFG(Vm,8))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac,providedIn:"any"}),t})();(0,h.GT)(Um,[{deleteToken:null,getToken:null,onMessage:null,onBackgroundMessage:null}]);let jm=(()=>{class t{constructor(){im.Z.registerVersion("angularfire",A.q4.full,"fcm-compat")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({providers:[Um]}),t})();var qm=n(9822);const zm=[vm,nm.ww,bm.TE,Im,jm,qm.JS];let Hm=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[S.ez,...zm],vm,nm.ww,bm.TE,Im,jm,qm.JS]}),t})();var Gm=n(649);class $m{constructor(t,e="/assets/i18n/",n=".json"){this.http=t,this.prefix=e,this.suffix=n}getTranslation(t){return this.http.get(`${this.prefix}${t}${this.suffix}`)}}var Zm=n(4014);let Ym=(()=>{class t{constructor(t){this.loaderService=t}intercept(t,e){return console.log(123123),e.handle(t.clone()).pipe()}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(a.D))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})(),Wm=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[S.ez,E.q]]}),t})();function Km(t){return new $m(t,"./assets/i18n/",".json")}let Qm=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t,bootstrap:[u]}),t.\u0275inj=r.cJS({providers:[{provide:b.TP,useClass:Ym,multi:!0}],imports:[[i.b2,b.JF,w.UX,v,C.PW,h.hO.initializeApp(d.N.firebase),Gm.aw.forRoot(d.N.translate),Hm,E.q,Zm.d,l.Bz,Wm]]}),t})()},4014:(t,e,n)=>{"use strict";n.d(e,{d:()=>o});var i=n(1116),r=n(4007),s=n(5366);let o=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[i.ez,r.q]]}),t})()},9920:(t,e,n)=>{"use strict";n.d(e,{m:()=>i});var i=function(t){return t.LANGUAGE="fin-language",t.USER_EMAIL="fin-user-email",t.TOKEN="fin-token",t}({})},4007:(t,e,n)=>{"use strict";n.d(e,{q:()=>E});var i=n(7112),r=n(7307),s=n(4369),o=n(3841),a=n(3070),l=n(2762),c=n(5366),u=n(7064);n(9861),n(4720);let h=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=c.oAB({type:t}),t.\u0275inj=c.cJS({imports:[[u.uc,u.BQ],u.uc,u.BQ]}),t})();var d=n(9550),p=n(7672),f=n(7173),m=n(6278),g=n(2797),_=n(3589),y=n(4411),v=n(2935),b=n(5078),w=n(6489);const C=[i.g0,r.Ps,s.ot,o.LD,a.lN,l.vV,h,a.lN,d.c,p.Cq,f.Nh,m.t,g.QW,_.ZX,y._r,r.Ps,v.Is,b.ie,w.To];let E=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=c.oAB({type:t}),t.\u0275inj=c.cJS({providers:[],imports:[C,i.g0,r.Ps,s.ot,o.LD,a.lN,l.vV,h,a.lN,d.c,p.Cq,f.Nh,m.t,g.QW,_.ZX,y._r,r.Ps,v.Is,b.ie,w.To]}),t})()},3796:(t,e,n)=>{"use strict";n.d(e,{e:()=>d});var i=n(8512),r=n(9764),s=n(9996),o=n(6599),a=n(611),l=n(9920),c=n(5366),u=n(3250),h=n(766);let d=(()=>{class t{constructor(t,e){this.afAuth=t,this.router=e,this.user$=new i.X(null)}get email(){const t=JSON.parse(localStorage.getItem(l.m.USER_EMAIL)||"");return t?t.split("@")[0]:t}isLogin$(){return this.user$.asObservable().pipe((0,s.U)(t=>!!t)).pipe((0,o.b)(t=>{}))}signIn({email:t,password:e}){const n=this.afAuth.signInWithEmailAndPassword(t,e);return(0,r.D)(n).pipe((0,a.q)(1),(0,o.b)(t=>{this.user$.next(t),this.router.navigateByUrl("dashboard")}))}getTokenInfo(){return this.afAuth.idTokenResult}signOut(){const t=this.afAuth.signOut();return(0,r.D)(t)}}return t.\u0275fac=function(e){return new(e||t)(c.LFG(u.zQ),c.LFG(h.F0))},t.\u0275prov=c.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},8230:(t,e,n)=>{"use strict";n.d(e,{D:()=>o});var i=n(8512),r=n(8720),s=n(5366);let o=(()=>{class t{constructor(){this.loading$=new i.X(!1)}show(){console.log(123),this.loading$.next(!0)}hide(){this.loading$.next(!1)}detect$(){return this.loading$.asObservable().pipe((0,r.x)())}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=s.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},529:(t,e,n)=>{"use strict";n.d(e,{N:()=>o});var i=n(649),r=n(8426),s=n(2693);const o={production:!0,firebase:{apiKey:"AIzaSyAmSoBTNVBoIwrLMX1LBIgKlljS98BvLp0",authDomain:"finance-manage-56b7f.firebaseapp.com",projectId:"finance-manage-56b7f",storageBucket:"finance-manage-56b7f.appspot.com",messagingSenderId:"157886390525",appId:"1:157886390525:web:d0e20ea04daf373328de94"},languages:[{code:"en",name:"english",iconUrl:"http://purecatamphetamine.github.io/country-flag-icons/3x2/US.svg"},{code:"ua",name:"ukraine",iconUrl:"http://purecatamphetamine.github.io/country-flag-icons/3x2/UA.svg"}],translate:{defaultLanguage:"en",loader:{provide:i.Zw,useFactory:r.p,deps:[s.eN]}}}},5809:(t,e,n)=>{"use strict";var i=n(9624),r=n(5366),s=n(8426);n(529).N.production&&(0,r.G48)(),i.q6().bootstrapModule(s.b).catch(t=>console.error(t))},6304:(t,e,n)=>{"use strict";function i(t,e,n,i,r,s,o){try{var a=t[s](o),l=a.value}catch(c){return void n(c)}a.done?e(l):Promise.resolve(l).then(i,r)}function r(t){return function(){var e=this,n=arguments;return new Promise(function(r,s){var o=t.apply(e,n);function a(t){i(o,r,s,a,l,"next",t)}function l(t){i(o,r,s,a,l,"throw",t)}a(void 0)})}}n.d(e,{Z:()=>r})},4762:(t,e,n)=>{"use strict";n.d(e,{ZT:()=>r,pi:()=>s,_T:()=>o,mG:()=>a,Jh:()=>l,XA:()=>c,CR:()=>u,ev:()=>h});var i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var s=function(){return(s=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};function o(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]])}return n}function a(t,e,n,i){return new(n||(n=Promise))(function(r,s){function o(t){try{l(i.next(t))}catch(e){s(e)}}function a(t){try{l(i.throw(t))}catch(e){s(e)}}function l(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(o,a)}l((i=i.apply(t,e||[])).next())})}function l(t,e){var n,i,r,s,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(r=2&s[0]?i.return:s[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,s[1])).done)return r;switch(i=0,r&&(s=[2&s[0],r.value]),s[0]){case 0:case 1:r=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,i=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((r=(r=o.trys).length>0&&r[r.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){o.label=s[1];break}if(6===s[0]&&o.label<r[1]){o.label=r[1],r=s;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(s);break}r[2]&&o.ops.pop(),o.trys.pop();continue}s=e.call(t,o)}catch(a){s=[6,a],i=0}finally{n=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}function c(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function u(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,s=n.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(i=s.next()).done;)o.push(i.value)}catch(a){r={error:a}}finally{try{i&&!i.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return o}function h(t,e,n){if(n||2===arguments.length)for(var i,r=0,s=e.length;r<s;r++)!i&&r in e||(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}}},t=>{"use strict";t(t.s=5809)}]);